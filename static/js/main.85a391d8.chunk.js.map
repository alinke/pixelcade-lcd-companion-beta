{"version":3,"sources":["assets/pixelcade.png","components/Header/index.tsx","components/Loading/index.tsx","services/index.ts","components/ConsoleList/index.tsx","components/MarqueeDetailsModal/index.tsx","components/MarqueeItem/index.tsx","components/MarqueeList/index.tsx","hooks/useDebounce.ts","types/DeviceInfo.type.ts","components/MainMenu/index.tsx","assets/default-01.png","assets/default-02.png","assets/default-03.png","components/DefaultMarquee/index.tsx","const/fonts.ts","services/settings.ts","components/DeviceSettings/index.tsx","components/SendText/index.tsx","services/sports.ts","services/tickerEvents.ts","components/WidgetsMenu/index.tsx","components/WidgetSettings/SportsTickerWidget.tsx","services/stocks.ts","components/WidgetSettings/StockTickerWidget.tsx","services/weather.ts","components/WidgetSettings/WeatherWidget.tsx","services/news.ts","components/WidgetSettings/NewsWidget.tsx","services/clock.ts","components/WidgetSettings/ClockWidget.tsx","components/WidgetSettings/index.tsx","components/UpdatePage/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Header","loc","useLocation","nav","useNavigate","_jsxs","style","backgroundColor","children","_jsx","Toaster","containerStyle","top","className","objectFit","width","maxHeight","src","Logo","alt","pathname","gridTemplateColumns","onClick","Home","marginRight","ArrowBack","Loading","props","isLoading","React","Fragment","getDeviceUrl","version","arguments","length","undefined","window","location","host","updateMarquee","console","marquee","stream","requestUrl","axios","post","updateDefaultMarquee","id","get","checkForUpdates","then","value","data","ConsoleList","loading","setLoading","useState","consoles","setConsoles","useEffect","async","readConsoles","catch","finally","loadConsoles","map","item","index","borderRadius","padding","border","color","cursor","name","descriptiveName","numMarquees","MarqueeDetailsModal","_ref","open","onClose","system","symlinkName","setSymlinkName","isCreatingSymlink","setIsCreatingSymlink","streamImages","useAppSettings","sourceFilename","filename","fullImageUrl","handleCreateSymlink","trim","toast","error","newFilename","endsWith","response","fetch","encodeURIComponent","json","ok","success","symlink","Dialog","maxWidth","fullWidth","DialogTitle","position","paddingRight","right","height","display","alignItems","justifyContent","transition","onMouseEnter","e","currentTarget","transform","onMouseLeave","fontSize","fontWeight","lineHeight","DialogContent","paddingTop","marginBottom","textAlign","onError","target","apiSystem","margin","systemName","Button","variant","Error","status","blob","url","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","dismiss","borderTop","TextField","placeholder","onChange","onKeyPress","key","disabled","InputProps","DialogActions","handleSetMarquee","promise","MarqueeItem","setError","modalOpen","setModalOpen","setMarquee","flexDirection","userSelect","minHeight","startCase","bottom","LazyLoad","thumbnailPath","stopPropagation","fontStyle","memo","MarqueeList","marqueeData","setMarqueeData","useParams","searchTerm","setSearchTerm","debouncedSearchTerm","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","setStreamImages","readFilesystemMarquees","marquees","type","boxSizing","filterdData","filter","RegExp","test","toLowerCase","push","hasVideo","numGIFs","systemManufacturer","year","MainMenu","updateAvailable","setUpdateAvailable","checkingUpdate","setCheckingUpdate","checkFailed","setCheckFailed","info","Collections","Widgets","Wallpaper","TextFields","Settings","SystemUpdateAlt","submenu","querySelector","classList","toggle","PowerOff","shutdownSystem","rebootSystem","Refresh","ContextMenu","x","y","onDelete","handleClickOutside","addEventListener","removeEventListener","left","DefaultMarquee","resolution","setResolution","fileInputRef","useRef","contextMenu","setContextMenu","fetchMarqueeData","readConsoleMarquees","filteredMarquees","startsWith","handleDefaultMarquee","split","pop","replace","hostname","fetchResolutionInfo","marginLeft","_fileInputRef$current","current","ref","accept","_event$target$files","file","event","files","includes","isValidDimensions","Promise","resolve","img","Image","onload","onerror","validateImage","formData","FormData","append","method","background","fontFamily","DefaultOne","DefaultTwo","DefaultThree","onContextMenu","completeFilename","log","handleContextMenu","preventDefault","rect","getBoundingClientRect","windowWidth","innerWidth","xPosition","headers","responseText","text","handleDeleteMarquee","FontList","readSettings","updateFirmware","beta","DeviceSettings","deviceName","setDeviceName","settings","setSettings","deviceInfo","setDeviceInfo","logContent","setLogContent","updateDialogOpen","setUpdateDialogOpen","updateInfo","setUpdateInfo","enableBeta","setEnableBeta","wifiSSID","setWifiSSID","wifiPassword","setWifiPassword","showWifiPassword","setShowWifiPassword","hasWifiConfig","setHasWifiConfig","wifiSaving","setWifiSaving","handleCheckForUpdates","readDeviceInfo","getWiFiConfig","hasWifi","ssid","password","fetchLogFile","message","String","interval","setInterval","clearInterval","getRebootMessage","updateImageMarqueesOnly","toggleVideoMarquees","ImageMarqueesOnly","duration","updateMiniOLEDGlitchMode","toggleMiniOLEDGlitchMode","PixelcadeOLEDGlitch","updateTextOnMainPanel","toggleTextOnMainPanel","SubDisplayScrollingOnly","updateName","newName","updateDeviceName","updateFont","updateDeviceFont","font","updatePixelcadeDotType","updatePixelcadeDotTypeSPI","PixelcadeDotType","updatePixelcadeMiniDisplayType","updatePixelcadeMiniDisplayTypeI2C","PixelcadeMiniDisplayType","updatePixelcadeOLEDMode","updatePixelcadeDeviceOLEDMode","PixelcadeOLEDMode","updateColor","updateFontColor","FontColor","updateMarqueeOverlay","toggleMarqueeOverlays","marqueeOverlays","updateFuzzyMatch","toggleFuzzyMatch","fuzzyMatch","handleFuzzyMatchDistanceChange","newDistance","distance","updateFuzzyMatchDistance","fuzzyMatchDistance","updateDebugMode","toggleDebugMode","debug","updateVersionSwitcher","useNewVersion","switchVersion","marginTop","gap","gridGap","firmwareVersion","artworkVersion","pixelcadeGen","oled","miniLCD","dotMatrix","sevenSegment","hasJoinedNetwork","isPaired","FormControlLabel","control","Switch","checked","label","size","minWidth","handleSaveWiFi","saveWiFiConfig","_Fragment","firmwareUpdateAvailable","currentFirmwareVersion","latestFirmwareVersion","artworkUpdateAvailable","currentArtworkVersion","latestArtworkVersion","Select","selectedValue","options","caretIcon","CaretIcon","modalCloseButton","ModalCloseButton","changes","HexColorPicker","thing","paddingLeft","min","max","Number","releaseNotes","opacity","updateSystem","overflowY","Blob","a","whiteSpace","wordWrap","flex","SendText","setText","setScrollingText","startSportsTicker","league","teams","refresh","speed","teamsParam","join","stopSportsTicker","getSportsTickerStatus","startFavoritesTicker","favoriteTeams","TICKER_STARTED_EVENT","dispatchTickerStarted","tickerType","dispatchEvent","CustomEvent","detail","onTickerStarted","callback","WidgetsMenu","tickerStatus","setTickerStatus","sports","stocks","weather","news","clock","_stocksRes$data","_weatherRes$data","_newsRes$data","_clockRes$data","settingsData","sportsStatus","stocksRes","weatherRes","newsRes","clockRes","running","err","fetchStatuses","unsubscribe","prev","mode","sportTickerMode","refreshMinutes","sportTickerRefresh","sportScrollSpeed","sportFavoriteTeams","sportLeagues","sportTeamCodes","CircularProgress","Stop","SportsBasketball","symbols","stockSymbols","stockTickerRefresh","stockScrollSpeed","stockFont","TrendingUp","weatherLocation","units","weatherUnits","forecast","weatherForecast","WbSunny","sources","newsSources","newsTickerRefresh","newsScrollSpeed","RssFeed","face","clockFace","use12Hour","clockUse12Hour","showSeconds","clockShowSeconds","Schedule","leagueOptions","sport","teamsByLeague","nfl","nba","mlb","nhl","wnba","refreshPresets","scrollSpeedPresets","SportsTickerWidget","onTickerStart","sportDarkMode","isTickerRunning","setIsTickerRunning","selectedLeague","setSelectedLeague","selectedTeams","setSelectedTeams","scrollSpeed","setScrollSpeed","setFavoriteTeams","setMode","favLeagueSelect","setFavLeagueSelect","setIsLoading","settingsLoaded","setSettingsLoaded","favoritesToString","favs","f","team","s","str","part","toUpperCase","statusData","restartTicker","refreshSeconds","waitForReady","maxWaitMs","maxAttempts","Math","floor","i","ready","updateSetting","updateSportsSetting","getTeamDisplayName","teamCode","leagueToUse","find","t","getLeagueDisplayName","leagueCode","l","isSingleTeamMode","verticalAlign","borderColor","flexWrap","newSettings","getTeamOptions","newTeams","teamsStr","handleRemoveTeam","getFavTeamOptions","some","newFavorites","favsStr","fav","idx","handleRemoveFavorite","seconds","reduce","curr","abs","toString","parseInt","enabled","handleStopTicker","PlayArrow","startStockTicker","fps","symbolsParam","popularCrypto","cryptoSymbols","c","isCryptoSymbol","symbol","popularStocks","colorPresets","speedPresets","StockTickerWidget","stockTickerColor","stockTickerFont","symbolInput","setSymbolInput","setSymbols","getStockTickerStatus","newSymbols","syms","stopStockTicker","updateStockSetting","addSymbol","newSymbol","symbolsStr","handleAddSymbol","Close","handleRemoveSymbol","markup","handleStartTicker","startWeatherWidget","params","URLSearchParams","showUnits","updateWeatherSetting","forecastPresets","unitPresets","WeatherWidget","weatherShowUnits","weatherRefresh","isWidgetRunning","setIsWidgetRunning","locationInput","setLocationInput","getWeatherStatus","handleStartWidget","Cloud","handleSetLocation","handleShowUnitsToggle","newShowUnits","stopWeatherWidget","startNewsTicker","customURL","newsSourceCategories","getSourceName","sourceKey","Object","values","source","NewsWidget","_ref2","newsCustomURL","newsTickerColor","newsTickerFont","customURLInput","setCustomURLInput","sourcesArray","getNewsTickerStatus","sourcesToString","updateNewsSetting","handleSetCustomURL","availableOptions","selectedSources","entries","forEach","category","getAvailableSourceOptions","newSources","handleRemoveSource","title","stopNewsTicker","startClock","clockFaceOptions","ClockWidget","onClockStart","isClockRunning","setIsClockRunning","getClockStatus","updateClockSetting","handleStopClock","stopClock","WidgetSettings","UpdatePage","isUpdating","setIsUpdating","betaAvailable","betaFirmwareVersion","rel","releaseDate","ApplicationContext","createContext","useContext","App","state","Provider","HashRouter","StickyBox","zIndex","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.85a391d8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/pixelcade.698d1ae2.png\";","import { Home } from \"@material-ui/icons\";\nimport ArrowBack from \"@material-ui/icons/ArrowBack\";\nimport React from \"react\";\nimport { Toaster } from \"react-hot-toast\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport Logo from \"../../assets/pixelcade.png\";\n\nconst Header: React.FC = () => {\n    const loc = useLocation();\n    const nav = useNavigate();\n    return (\n        <div style={{ backgroundColor: \"\"}}>\n            <Toaster\n                containerStyle={{\n                    top: 80, // Push down below nav buttons so it doesn't cover them\n                }}\n            />\n            <div\n                className=\"layout-grid logo-container\"\n                style={{\n                    backgroundColor: \"#000\",\n                }}\n            >\n                <img\n                    style={{\n                        objectFit: \"scale-down\",\n                        width: \"100%\",\n                        maxHeight: 75,\n                    }}\n                    src={Logo}\n                    alt=\"Pixelcade Companion Logo\"\n                />\n            </div>\n            {loc.pathname !== \"/\" && (\n                <div\n                    className=\"layout-grid fade-in\"\n                    style={{\n                        gridTemplateColumns: 'repeat(auto-fit, minmax(75px, 1fr))',\n                        backgroundColor: \"#000\",\n                    }}\n                >\n                    <div\n                        className=\"grid-item nav-element\"\n                        onClick={() => {\n                            nav(\"/\");\n                        }}\n                    >\n                        <Home style={{ marginRight: 8 }} />\n                        HOME\n                    </div>\n                    <div\n                        className=\"grid-item nav-element\"\n                        onClick={() => {\n                            nav(-1);\n                        }}\n                    >\n                        <ArrowBack style={{ marginRight: 8 }} />\n                        GO BACK\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Header;\n","import React from \"react\";\nimport \"./loading.css\";\nimport Logo from \"../../assets/pixelcade.png\";\n\nconst Loading: React.FC<{ isLoading: boolean }> = (props) => {\n    const { isLoading } = props;\n    return (\n        <React.Fragment>\n            {isLoading && (\n                <div className=\"loading fade-in\">\n                    <img\n                        className=\"pulse\"\n                        src={Logo}\n                        alt=\"Pixelcade Companion Logo\"\n                    />\n                </div>\n            )}\n        </React.Fragment>\n    );\n};\n\nexport default Loading;\n","import axios from \"axios\";\nimport { DeviceInfo } from \"../types/DeviceInfo.type\";\n\nexport const getDeviceUrl = (version: string = \"/v2\"): string => {\n    return `http://${window.location.host}${version}`;\n};\n\nexport const rebootSystem = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/reboot`;\n\n    return axios.post(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const shutdownSystem = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/shutdown`;\n\n    return axios.post(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const readDeviceInfo = (): Promise<DeviceInfo> => {\n    const requestUrl = `${getDeviceUrl()}/info`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const readConsoles = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl()}/info/consoles`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const readConsoleMarquees = (console: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl()}/marquees/${console}`;\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n/* export const updateMarquee = ( //there used to be a toggle in companion for stream or write, removed it as not applicable\n    console: string,\n    marquee: string,\n    stream: boolean\n) => {\n    const requestUrl = `${getDeviceUrl(\"\")}/arcade/${\n        stream ? \"stream\" : \"write\"\n    }/${console}/${marquee}`;\n\n    return axios.post(requestUrl);\n}; */\n\nexport const updateMarquee = (\n    console: string,\n    marquee: string,\n    stream: boolean\n) => {\n    const requestUrl = `${getDeviceUrl(\"\")}/arcade/stream/${console}/${marquee}`;\n\n    return axios.post(requestUrl);\n};\n\nexport const updateDefaultMarquee = (id: string | number) => {\n    const requestUrl = `${getDeviceUrl()}/utility/marquee/set/${id}`;\n    return axios.get(requestUrl);\n};\n\nexport const setScrollingText = (text: string) => {\n    const requestUrl = `${getDeviceUrl(\"\")}/text?t=${text}`;\n    return axios.get(requestUrl);\n};\n\nexport const readFilesystemMarquees = (console: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl()}/filesystem/${console}`;\n    return fetch(requestUrl).then((response) => response.json());\n};\n\nexport const checkForUpdates = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl()}/check-update`;\n    return axios.get(requestUrl).then((value) => value.data);\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ConsoleData } from \"../../types/AppContext\";\nimport Loading from \"../Loading\";\nimport { readConsoles } from \"../../services\";\n\nconst ConsoleList: React.FC = () => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const [consoles, setConsoles] = useState<ConsoleData[]>([]);\n    const nav = useNavigate();\n\n    useEffect(() => {\n        const loadConsoles = async () => {\n            setLoading(true);\n            await readConsoles()\n                .then((value) => {\n                    setConsoles(value.consoles);\n                })\n                .catch()\n                .finally(() => {\n                    setLoading(false);\n                });\n        };\n        loadConsoles();\n    }, []);\n\n    const renderList = () => {\n        return consoles.map((item, index) => {\n            return (\n                <div\n                    className=\"fade-in\"\n                    key={index}\n                    style={{\n                        backgroundColor: \"#456\",\n                        borderRadius: \"4px\",\n                        padding: \".5rem\",\n                        border: \"1px solid #ABABAB\",\n                        color: \"#FFF\",\n                        cursor: \"pointer\",\n                    }}\n                    onClick={() => {\n                        nav(`/marquees/${item.name}`);\n                    }}\n                >\n                    <p>{item.descriptiveName}</p>\n                    <p>{item.numMarquees} Marquees</p>\n                </div>\n            );\n        });\n    };\n\n    return (\n        <React.Fragment>\n            <Loading isLoading={loading} />\n            <div className=\"layout-grid\">{renderList()}</div>\n        </React.Fragment>\n    );\n};\n\nexport default ConsoleList;\n","import React, { useState } from \"react\";\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField } from \"@material-ui/core\";\nimport { MarqueeInfo } from \"../../types/DeviceInfo.type\";\nimport { getDeviceUrl, updateMarquee } from \"../../services\";\nimport toast from \"react-hot-toast\";\nimport { useAppSettings } from \"../../App\";\n\ntype MarqueeDetailsModalProps = {\n    open: boolean;\n    onClose: () => void;\n    marquee: MarqueeInfo;\n    system: string;\n};\n\nconst MarqueeDetailsModal: React.FC<MarqueeDetailsModalProps> = ({ open, onClose, marquee, system }) => {\n    const [symlinkName, setSymlinkName] = useState<string>(\"\");\n    const [isCreatingSymlink, setIsCreatingSymlink] = useState<boolean>(false);\n    const { streamImages } = useAppSettings();\n\n    // Construct the full filename: system-gamename.jpg\n    const sourceFilename = `${system}-${marquee.filename}.jpg`;\n    const fullImageUrl = `${getDeviceUrl(\"\")}/lcdmarquees/${sourceFilename}`;\n\n    const handleDownload = async () => {\n        try {\n            toast.loading(`Downloading ${sourceFilename}...`);\n            const response = await fetch(fullImageUrl);\n\n            if (!response.ok) {\n                throw new Error(`Failed to fetch image: ${response.status}`);\n            }\n\n            const blob = await response.blob();\n            const url = window.URL.createObjectURL(blob);\n            const link = document.createElement(\"a\");\n            link.href = url;\n            link.download = sourceFilename;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n            window.URL.revokeObjectURL(url);\n\n            toast.dismiss();\n            toast.success(`Downloaded ${sourceFilename}`);\n        } catch (error) {\n            toast.dismiss();\n            toast.error(\"Failed to download image\");\n            console.error(error);\n        }\n    };\n\n    const handleCreateSymlink = async () => {\n        if (!symlinkName.trim()) {\n            toast.error(\"Please enter an alias name\");\n            return;\n        }\n\n        const newFilename = symlinkName.trim().endsWith('.jpg')\n            ? symlinkName.trim()\n            : `${symlinkName.trim()}.jpg`;\n\n        setIsCreatingSymlink(true);\n\n        try {\n            const response = await fetch(\n                `${getDeviceUrl(\"\")}/symlink?original=${encodeURIComponent(sourceFilename)}&new=${encodeURIComponent(newFilename)}`\n            );\n\n            const data = await response.json();\n\n            if (response.ok && data.success) {\n                toast.success(`Alias created: ${data.symlink}`);\n                setSymlinkName(\"\");\n            } else {\n                toast.error(data.error || \"Failed to create alias\");\n            }\n        } catch (error) {\n            toast.error(\"Error creating alias\");\n            console.error(error);\n        } finally {\n            setIsCreatingSymlink(false);\n        }\n    };\n\n    const handleSetMarquee = () => {\n        // Use the /arcade/stream endpoint with system and filename\n        toast.promise(updateMarquee(system, marquee.filename, streamImages), {\n            loading: \"Updating Marquee\",\n            success: \"Successfully Updated Marquee\",\n            error: \"Couldn't set the marquee\",\n        });\n        onClose();\n    };\n\n    return (\n        <Dialog open={open} onClose={onClose} maxWidth=\"sm\" fullWidth>\n            <DialogTitle style={{ backgroundColor: \"#6b0078\", color: \"#fff\", position: \"relative\", paddingRight: \"48px\" }}>\n                Marquee Details\n                <div\n                    onClick={onClose}\n                    style={{\n                        position: \"absolute\",\n                        top: \"8px\",\n                        right: \"8px\",\n                        width: \"32px\",\n                        height: \"32px\",\n                        borderRadius: \"50%\",\n                        backgroundColor: \"rgba(0,0,0,.3)\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        cursor: \"pointer\",\n                        transition: \"all 0.2s ease\",\n                        border: \"1px solid rgba(255,255,255,.3)\",\n                    }}\n                    onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = \"rgba(0,0,0,.6)\";\n                        e.currentTarget.style.transform = \"scale(1.1)\";\n                    }}\n                    onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = \"rgba(0,0,0,.3)\";\n                        e.currentTarget.style.transform = \"scale(1)\";\n                    }}\n                >\n                    <span style={{\n                        color: \"#fff\",\n                        fontSize: \"20px\",\n                        fontWeight: \"bold\",\n                        lineHeight: \"1\",\n                    }}>\n                        \n                    </span>\n                </div>\n            </DialogTitle>\n            <DialogContent style={{ backgroundColor: \"#2a2a2a\", color: \"#fff\", paddingTop: \"20px\" }}>\n                <div style={{ marginBottom: \"20px\", textAlign: \"center\" }}>\n                    <img\n                        src={fullImageUrl}\n                        alt={marquee.name}\n                        style={{\n                            maxWidth: \"100%\",\n                            maxHeight: \"300px\",\n                            objectFit: \"contain\",\n                            borderRadius: \"4px\",\n                        }}\n                        onError={(e) => {\n                            (e.target as HTMLImageElement).src = `${getDeviceUrl()}/thumbnails/${marquee.apiSystem}/${marquee.filename}`;\n                        }}\n                    />\n                </div>\n\n                <div style={{ marginBottom: \"20px\" }}>\n                    <p style={{ margin: \"8px 0\" }}>\n                        <strong>Name:</strong> {marquee.name}\n                    </p>\n                    <p style={{ margin: \"8px 0\" }}>\n                        <strong>Source File:</strong> {sourceFilename}\n                    </p>\n                    <p style={{ margin: \"8px 0\" }}>\n                        <strong>System:</strong> {marquee.systemName}\n                    </p>\n                </div>\n\n                <div style={{ marginBottom: \"20px\" }}>\n                    <Button\n                        variant=\"contained\"\n                        onClick={handleDownload}\n                        fullWidth\n                        style={{\n                            backgroundColor: \"#4c3ba2\",\n                            color: \"#fff\",\n                            marginBottom: \"10px\",\n                        }}\n                    >\n                        Download Full Resolution Image\n                    </Button>\n                </div>\n\n                <div style={{ borderTop: \"1px solid #444\", paddingTop: \"20px\" }}>\n                    <p style={{ marginBottom: \"10px\", fontWeight: 600 }}>Create Alias:</p>\n                    <TextField\n                        fullWidth\n                        variant=\"outlined\"\n                        placeholder=\"Enter alternate filename (e.g., mame-pacman2.jpg)\"\n                        value={symlinkName}\n                        onChange={(e) => setSymlinkName(e.target.value)}\n                        onKeyPress={(e) => {\n                            if (e.key === 'Enter') {\n                                handleCreateSymlink();\n                            }\n                        }}\n                        disabled={isCreatingSymlink}\n                        style={{ marginBottom: \"10px\" }}\n                        InputProps={{\n                            style: { backgroundColor: \"#fff\" }\n                        }}\n                    />\n                    <Button\n                        variant=\"contained\"\n                        onClick={handleCreateSymlink}\n                        fullWidth\n                        disabled={isCreatingSymlink}\n                        style={{\n                            backgroundColor: \"#6b0078\",\n                            color: \"#fff\",\n                        }}\n                    >\n                        {isCreatingSymlink ? \"Creating...\" : \"Create Alias\"}\n                    </Button>\n                </div>\n            </DialogContent>\n            <DialogActions style={{ backgroundColor: \"#2a2a2a\", padding: \"16px\" }}>\n                <Button onClick={onClose} style={{ color: \"#fff\" }}>\n                    Close\n                </Button>\n                <Button\n                    onClick={handleSetMarquee}\n                    variant=\"contained\"\n                    style={{ backgroundColor: \"#6b0078\", color: \"#fff\" }}\n                >\n                    SET AS CURRENT MARQUEE\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default MarqueeDetailsModal;\n","import React, { useState } from \"react\";\nimport { getDeviceUrl, updateMarquee } from \"../../services\";\nimport { MarqueeInfo } from \"../../types/DeviceInfo.type\";\nimport toast from \"react-hot-toast\";\nimport LazyLoad from \"react-lazyload\";\nimport { startCase } from \"lodash\";\nimport { useAppSettings } from \"../../App\";\nimport MarqueeDetailsModal from \"../MarqueeDetailsModal\";\n\ntype MarqueeItemProps = {\n    system: string;\n    marquee: MarqueeInfo;\n    onClick?: Function;\n};\n\nconst MarqueeItem: React.FC<MarqueeItemProps> = (props) => {\n    const [error, setError] = useState<boolean>(false);\n    const [modalOpen, setModalOpen] = useState<boolean>(false);\n    const { marquee } = props;\n\n    const { streamImages } = useAppSettings();\n\n    const setMarquee = () => {\n        const system =\n            marquee.apiSystem === \"user\"\n                ? marquee.systemName\n                : marquee.apiSystem;\n        // Use fixed ID so rapid clicks replace the toast instead of stacking\n        toast.promise(updateMarquee(system, marquee.filename, streamImages), {\n            loading: \"Updating Marquee\",\n            success: \"Successfully Updated Marquee\",\n            error: \"Couldn't set the marquee\",\n        }, { id: \"marquee-update\" });\n    };\n    const { onClick = setMarquee } = props;\n    const showMarquee = () => {\n        switch (marquee.id) {\n            case \"bad\":\n                return <div />;\n            default:\n                return (\n                    <React.Fragment>\n                        {error ? (\n                            <div\n                                className=\"grid-item fade-in\"\n                                style={{\n                                    backgroundColor: \"#4c3ba2\",\n                                    flexDirection: \"column\",\n                                    justifyContent: \"center\",\n                                    cursor: \"pointer\",\n                                    userSelect: \"none\",\n                                    fontWeight: 600,\n                                    minHeight: 60,\n                                }}\n                                onClick={() => onClick()}\n                            >\n                                <p>{startCase(marquee.name)}</p>\n                                {marquee.id === \"user\" && (\n                                    <span\n                                        style={{\n                                            position: \"absolute\",\n                                            bottom: \"0px\",\n                                            right: \"0px\",\n                                            backgroundColor: \"rgba(0,0,0,.65)\",\n                                            padding: \"2px 4px\",\n                                            borderRadius: \"4px 0 0 0\",\n                                        }}\n                                    >\n                                        {startCase(marquee.systemName)}\n                                    </span>\n                                )}\n                            </div>\n                        ) : (\n                            <LazyLoad\n                                height={60}\n                                style={{ position: \"relative\" }}\n                            >\n                                <img\n                                    className=\"grid-item fade-in\"\n                                    src={`${getDeviceUrl(\"\")}${marquee.thumbnailPath || `/thumbnail/${marquee.filename}`}`}\n                                    alt={marquee.filename}\n                                    onError={() => setError(true)}\n                                    style={{\n                                        backgroundColor:\n                                            \"rgba(255, 255, 255, .05)\",\n                                        cursor: \"pointer\",\n                                        position: \"relative\",\n                                        minHeight: 40,\n                                    }}\n                                    onClick={() => setMarquee()}\n                                />\n                                <div\n                                    style={{\n                                        position: \"absolute\",\n                                        top: \"4px\",\n                                        right: \"4px\",\n                                        backgroundColor: \"rgba(0,0,0,.7)\",\n                                        borderRadius: \"50%\",\n                                        width: \"24px\",\n                                        height: \"24px\",\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        justifyContent: \"center\",\n                                        cursor: \"pointer\",\n                                        border: \"1px solid rgba(255,255,255,.3)\",\n                                        transition: \"all 0.2s ease\",\n                                    }}\n                                    onClick={(e) => {\n                                        e.stopPropagation();\n                                        setModalOpen(true);\n                                    }}\n                                    onMouseEnter={(e) => {\n                                        e.currentTarget.style.backgroundColor = \"rgba(107,0,120,1)\";\n                                        e.currentTarget.style.transform = \"scale(1.1)\";\n                                    }}\n                                    onMouseLeave={(e) => {\n                                        e.currentTarget.style.backgroundColor = \"rgba(0,0,0,.7)\";\n                                        e.currentTarget.style.transform = \"scale(1)\";\n                                    }}\n                                >\n                                    <span style={{\n                                        color: \"#fff\",\n                                        fontSize: \"14px\",\n                                        fontWeight: \"bold\",\n                                        fontStyle: \"italic\"\n                                    }}>\n                                        i\n                                    </span>\n                                </div>\n                                {marquee.id === \"user\" && (\n                                    <span\n                                        style={{\n                                            fontWeight: 600,\n                                            position: \"absolute\",\n                                            bottom: \"0px\",\n                                            right: \"0px\",\n                                            backgroundColor: \"rgba(0,0,0,.65)\",\n                                            padding: \"1px px\",\n                                            borderRadius: \"4px 0 0 0\",\n                                        }}\n                                    >\n                                        {startCase(marquee.systemName)}\n                                    </span>\n                                )}\n                            </LazyLoad>\n                        )}\n                    </React.Fragment>\n                );\n        }\n    };\n\n    return (\n        <React.Fragment>\n            {showMarquee()}\n            <MarqueeDetailsModal\n                open={modalOpen}\n                onClose={() => setModalOpen(false)}\n                marquee={marquee}\n                system={props.system}\n            />\n        </React.Fragment>\n    );\n};\n\nexport default React.memo(MarqueeItem);\n","import { FormControlLabel, Switch } from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useAppSettings } from \"../../App\";\nimport { useDebounce } from \"../../hooks/useDebounce\";\nimport { readFilesystemMarquees } from \"../../services\";\nimport { emptyMarquee, MarqueeInfo } from \"../../types/DeviceInfo.type\";\nimport Loading from \"../Loading\";\nimport MarqueeItem from \"../MarqueeItem\";\n\nconst MarqueeList: React.FC = () => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const [marqueeData, setMarqueeData] = useState<MarqueeInfo[]>([]);\n    const { system } = useParams();\n    const [searchTerm, setSearchTerm] = useState<string>(\"\");\n    const debouncedSearchTerm = useDebounce(searchTerm, 350);\n    const { streamImages, setStreamImages } = useAppSettings();\n\n    useEffect(() => {\n        if (system) {\n            setLoading(true);\n\n            // Fetch marquees from filesystem only\n            readFilesystemMarquees(system)\n                .then((data) => {\n                    const marquees = data.marquees || [];\n                    setMarqueeData(marquees);\n                })\n                .catch((error) => {\n                    console.error(\"Error fetching marquees:\", error);\n                    setMarqueeData([]);\n                })\n                .finally(() => {\n                    setLoading(false);\n                });\n        }\n    }, [system]);\n\n    const filterdData = () => {\n        let data = marqueeData?.filter((marquee) => {\n            const regex = RegExp(`${debouncedSearchTerm}`, \"i\");\n            return regex.test(marquee.name.toLowerCase().trim());\n        });\n        if (!data) {\n            data = [];\n        }\n        while (data.length < 10) {\n            data.push(emptyMarquee());\n        }\n        return data;\n    };\n\n    return (\n        <React.Fragment>\n            <Loading isLoading={loading} />\n            {!loading && (\n                <div className=\"layout-grid fade-in\">\n                    <input\n                        value={searchTerm}\n                        onChange={(e) => {\n                            setSearchTerm(e.target.value);\n                        }}\n                        placeholder=\"Search...\"\n                        type=\"text\"\n                        id=\"fname\"\n                        name=\"fname\"\n                        style={{\n                            minHeight: 54,\n                            border: \"none\",\n                            borderRadius: 4,\n                            backgroundColor: \"antiquewhite\",\n                            padding: \"0 1rem\",\n                            fontSize: \"1.2rem\",\n                            width: \"100%\",\n                            boxSizing: \"border-box\",\n                        }}\n                    />\n                     {/* <div\n                        style={{\n                            color: \" rgba(107,0,120,1)\",\n                            backgroundColor: \"antiquewhite\",\n                            padding: \".5rem 0 .5rem 1rem\",\n                            borderRadius: \"4px\",\n                        }}\n                    >\n                     <FormControlLabel\n                            control={\n                                <Switch\n                                    checked={streamImages}\n                                    onChange={() =>\n                                        setStreamImages(!streamImages)\n                                    }\n                                    color=\"primary\"\n                                />\n                            }\n                            label={<span>Stream Marquees to Panel</span>}\n                        /> \n                    </div>*/}\n                </div>\n            )}\n\n            <div className=\"layout-grid fade-in\">\n                {filterdData().map((marquee, index) => {\n                    return (\n                        <MarqueeItem\n                            key={index}\n                            system={system!}\n                            marquee={marquee}\n                        />\n                    );\n                })}\n            </div>\n        </React.Fragment>\n    );\n};\n\nexport default MarqueeList;\n\n","import { useState, useEffect } from 'react';\n\nexport function useDebounce(value: any, delay: number) {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed\n    // within the delay period. Timeout gets cleared and restarted.\n    return () => clearTimeout(handler);\n  }, [value, delay]); // Only re-call effect if value or delay changes\n\n  return debouncedValue;\n}\n","export interface DeviceInfo {\n  name: string;\n  hostname: string;\n  firmwareVersion: string;\n  artworkVersion: string;\n  resolution: Resolution;\n  isPaired: boolean;\n  hasJoinedNetwork: boolean;\n  pixelcadeGen: string;\n  oled: boolean;\n  miniLCD: boolean;\n  dotMatrix: boolean;\n  sevenSegment: boolean;\n}\n\nexport interface Resolution {\n  width: number;\n  height: number;\n}\n\n\nexport interface MarqueeInfo {\n  id: string\n  name: string\n  filename: string\n  apiSystem: string\n  systemName: string\n  hasVideo: boolean\n  numGIFs: number\n  systemManufacturer: string\n  year: number\n  thumbnailPath?: string\n}\n\nexport const emptyMarquee = () => {\n  return {\n    id: \"bad\",\n    name: \"\",\n    filename: \"\",\n    apiSystem: \"\",\n    systemName: \"\",\n    hasVideo: false,\n    numGIFs: 0,\n    systemManufacturer: \"\",\n    year: 0\n  }\n}","import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport PowerOff from \"@material-ui/icons/PowerSettingsNew\";\nimport Refresh from \"@material-ui/icons/Refresh\";\nimport SystemUpdateAlt from \"@material-ui/icons/SystemUpdateAlt\";\nimport { rebootSystem, shutdownSystem, checkForUpdates } from \"../../services\";\nimport toast from \"react-hot-toast\";\nimport { Settings, Widgets, Collections, TextFields, Wallpaper } from \"@material-ui/icons\";\nimport \"./styles.css\";\n\nconst MainMenu: React.FC = () => {\n    const nav = useNavigate();\n    const [updateAvailable, setUpdateAvailable] = useState<boolean>(false);\n    const [checkingUpdate, setCheckingUpdate] = useState<boolean>(true);\n    const [checkFailed, setCheckFailed] = useState<boolean>(false);\n\n    useEffect(() => {\n        checkForUpdates()\n            .then((info) => {\n                setUpdateAvailable(info?.updateAvailable || false);\n                setCheckFailed(false);\n            })\n            .catch(() => {\n                setUpdateAvailable(false);\n                setCheckFailed(true); // USB-only or no internet\n            })\n            .finally(() => {\n                setCheckingUpdate(false);\n            });\n    }, []);\n\n    return (\n        <div className=\"fade-in main-menu\">\n            <div className=\"menu-grid\">\n                <div\n                    className=\"menu-card\"\n                    onClick={() => nav(`/consoles`)}\n                >\n                    <Collections className=\"menu-icon\" />\n                    <span className=\"menu-label\">Browse Marquees</span>\n                </div>\n                <div\n                    className=\"menu-card\"\n                    onClick={() => nav(`/widgets`)}\n                >\n                    <Widgets className=\"menu-icon\" />\n                    <span className=\"menu-label\">Widgets</span>\n                </div>\n                <div\n                    className=\"menu-card\"\n                    onClick={() => nav(`/default-marquee`)}\n                >\n                    <Wallpaper className=\"menu-icon\" />\n                    <span className=\"menu-label\">Default Marquee</span>\n                </div>\n                <div\n                    className=\"menu-card\"\n                    onClick={() => nav(`/text`)}\n                >\n                    <TextFields className=\"menu-icon\" />\n                    <span className=\"menu-label\">Text</span>\n                </div>\n                <div\n                    className=\"menu-card\"\n                    onClick={() => nav(`/settings`)}\n                >\n                    <Settings className=\"menu-icon\" />\n                    <span className=\"menu-label\">Settings & Log</span>\n                </div>\n                <div\n                    className={`menu-card ${updateAvailable ? 'update-available' : !checkingUpdate && !checkFailed ? 'up-to-date' : ''}`}\n                    onClick={() => nav(`/update`)}\n                >\n                    <SystemUpdateAlt className=\"menu-icon\" />\n                    <span className=\"menu-label\">\n                        {checkingUpdate ? 'Checking...' : updateAvailable ? 'Update Available!' : checkFailed ? 'Updates' : 'Up to Date'}\n                    </span>\n                    {updateAvailable && <span className=\"update-badge-dot\"></span>}\n                    {!checkingUpdate && !updateAvailable && !checkFailed && <span className=\"up-to-date-check\"></span>}\n                </div>\n                <div\n                    className=\"menu-card system-card\"\n                    onClick={(e) => {\n                        // Show submenu or handle inline\n                        const target = e.currentTarget;\n                        const submenu = target.querySelector('.system-submenu');\n                        if (submenu) {\n                            submenu.classList.toggle('visible');\n                        }\n                    }}\n                >\n                    <PowerOff className=\"menu-icon\" />\n                    <span className=\"menu-label\">System</span>\n                    <div className=\"system-submenu\">\n                        <button\n                            className=\"submenu-btn\"\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                toast.promise(shutdownSystem(), {\n                                    loading: \"Attempting Shutdown\",\n                                    success: \"Shutdown Succeeded\",\n                                    error: \"Shutdown Failed\",\n                                });\n                            }}\n                        >\n                            <PowerOff style={{ fontSize: 18, marginRight: 6 }} />\n                            Shutdown\n                        </button>\n                        <button\n                            className=\"submenu-btn\"\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                toast.promise(rebootSystem(), {\n                                    loading: \"Attempting to Reboot\",\n                                    success: \"Reboot Succeeded\",\n                                    error: \"Reboot Failed\",\n                                });\n                            }}\n                        >\n                            <Refresh style={{ fontSize: 18, marginRight: 6 }} />\n                            Reboot\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default MainMenu;\n","export default __webpack_public_path__ + \"static/media/default-01.b07219d2.png\";","export default __webpack_public_path__ + \"static/media/default-02.f12529b3.png\";","export default __webpack_public_path__ + \"static/media/default-03.64d2bd2a.png\";","import React, { useEffect, useState, useRef } from \"react\";\nimport toast from \"react-hot-toast\";\nimport DefaultOne from \"../../assets/default-01.png\";\nimport DefaultTwo from \"../../assets/default-02.png\";\nimport DefaultThree from \"../../assets/default-03.png\";\nimport { readConsoleMarquees, updateDefaultMarquee, updateMarquee } from \"../../services\";\nimport { MarqueeInfo } from \"../../types/DeviceInfo.type\";\nimport Loading from \"../Loading\";\nimport MarqueeItem from \"../MarqueeItem\";\nimport { useAppSettings } from \"../../App\";\n\ninterface Resolution {\n    width: number;\n    height: number;\n}\n\ninterface ContextMenuProps {\n    x: number;\n    y: number;\n    onDelete: () => void;\n    onClose: () => void;\n}\n\nconst ContextMenu: React.FC<ContextMenuProps> = ({ x, y, onDelete, onClose }) => {\n    useEffect(() => {\n        const handleClickOutside = () => onClose();\n        document.addEventListener('click', handleClickOutside);\n        return () => document.removeEventListener('click', handleClickOutside);\n    }, [onClose]);\n\n    return (\n        <div \n            className=\"fixed bg-white shadow-lg rounded-lg py-1 w-24 z-50\"\n            style={{ \n                left: x + 10, \n                top: y,\n                backgroundColor: 'rgb(255, 0, 0)',\n                border: '1px solid rgb(55, 65, 81)',\n                position: 'fixed'\n            }}\n            onClick={(e) => e.stopPropagation()}\n        >\n            <div \n                className=\"px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 cursor-pointer\"\n                onClick={onDelete}\n            >\n                Delete\n            </div>\n        </div>\n    );\n};\n\nconst DefaultMarquee: React.FC = () => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const [marqueeData, setMarqueeData] = useState<MarqueeInfo[]>([]);\n    const [resolution, setResolution] = useState<Resolution>({ width: 1920, height: 360 });\n    const { streamImages } = useAppSettings();\n    const fileInputRef = useRef<HTMLInputElement>(null);\n    const [contextMenu, setContextMenu] = useState<{ x: number; y: number; filename: string } | null>(null);\n\n    const fetchResolutionInfo = async () => {\n        try {\n            const hostname = window.location.hostname;\n            const response = await fetch(`http://${hostname}:8080/v2/info`);\n            if (!response.ok) throw new Error('Failed to fetch device info');\n            const data = await response.json();\n            if (data.resolution) {\n                const height = data.resolution.width === 1280 ? 390 : 360;\n                setResolution({ width: data.resolution.width, height });\n            }\n        } catch (error) {\n            console.error('Error fetching device info:', error);\n            setResolution({ width: 1920, height: 360 });\n        }\n    };\n\n    const fetchMarqueeData = async () => {\n        setLoading(true);\n        try {\n            const data = await readConsoleMarquees(\"user\");\n            const marquees = data?.marquees || [];\n            const filteredMarquees = marquees.filter((marquee: MarqueeInfo) =>\n                marquee.filename && marquee.systemName && !marquee.systemName.startsWith('._')\n            );\n            setMarqueeData(filteredMarquees);\n        } catch (error) {\n            console.error(\"Error loading marquees:\", error);\n            toast.error(\"Failed to load marquees\");\n        }\n        setLoading(false);\n    };\n\n    const handleContextMenu = (event: React.MouseEvent, filename: string) => {\n        event.preventDefault();\n        const rect = (event.currentTarget as HTMLElement).getBoundingClientRect();\n        const windowWidth = window.innerWidth;\n        \n        // Calculate x position - if too close to right edge, show menu to the left\n        let xPosition = rect.right + 10;\n        if (rect.right + 100 > windowWidth) { // 100px is approximate menu width\n            xPosition = rect.left - 110; // Position menu to the left of the element\n        }\n        \n        setContextMenu({\n            x: xPosition,\n            y: rect.top,\n            filename: filename\n        });\n    };\n\n    async function handleDeleteMarquee(filename: string) {\n        const hostname = window.location.hostname;\n        try {\n            console.log('Attempting to delete:', filename); // Debug log\n            const response = await fetch(\n                `http://${hostname}:8080/v2/delete?${encodeURIComponent(filename)}`,\n                { \n                    method: 'DELETE',\n                    headers: {\n                        'Accept': 'application/json',\n                        'Access-Control-Allow-Methods': 'DELETE'\n                    }\n                }\n            );\n            \n            console.log('Delete response status:', response.status); // Debug log\n            const responseText = await response.text();\n            console.log('Delete response:', responseText); // Debug log\n            \n            if (!response.ok) {\n                throw new Error(`Delete failed: ${responseText}`);\n            }\n            \n            toast.success('Marquee deleted successfully');\n            await fetchMarqueeData();\n        } catch (e) {\n            console.error('Delete error:', e);\n            toast.error('Failed to delete marquee');\n        }\n        setContextMenu(null);\n    }\n\n    const handleDefaultMarquee = async (value: string | number) => {\n        if (typeof value === 'number') {\n            await toast.promise(\n                updateDefaultMarquee(value),\n                {\n                    loading: \"Setting default marquee\",\n                    success: \"Successfully set default marquee\",\n                    error: \"Couldn't set the default marquee\"\n                }\n            );\n        }\n\n        if (typeof value === 'string') {\n            const filename = value.split('/').pop();\n            if (filename) {\n                await toast.promise(\n                    updateDefaultMarquee(filename.replace('.jpg', '')),\n                    {\n                        loading: \"Setting default marquee\",\n                        success: \"Successfully set default marquee\",\n                        error: \"Couldn't set the default marquee\"\n                    }\n                );\n            }\n        }\n\n        const system = \"user\";\n        const filename = `default${value}`;\n        await toast.promise(\n            updateMarquee(system, filename, streamImages),\n            {\n                loading: \"Updating Marquee\",\n                success: \"Successfully Updated Marquee\",\n                error: \"Couldn't set the marquee\"\n            }\n        );\n    };\n\n    const validateFilename = (filename: string) => {\n        const pattern = /^[a-zA-Z0-9]+-[a-zA-Z0-9]+\\.jpg$/i;\n        return pattern.test(filename);\n    };\n\n    const validateImage = (file: File): Promise<boolean> => {\n        return new Promise((resolve) => {\n            const img = new Image();\n            img.onload = () => resolve(img.width === resolution.width && img.height === resolution.height);\n            img.onerror = () => resolve(false);\n            img.src = URL.createObjectURL(file);\n        });\n    };\n\n    const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n        const file = event.target.files?.[0];\n        if (!file) return;\n\n        if (!file.type.includes('jpeg') && !file.type.includes('jpg')) {\n            toast.error('Please upload a JPG file');\n            return;\n        }\n\n        if (!validateFilename(file.name)) {\n            toast.error('Filename must be in format x-y.jpg (e.g., default-sega.jpg)');\n            return;\n        }\n\n        const isValidDimensions = await validateImage(file);\n        if (!isValidDimensions) {\n            toast.error(`Image must be exactly ${resolution.width}x${resolution.height} pixels`);\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('file', file);\n\n        try {\n            const response = await fetch('/v2/marquees/user', {\n                method: 'POST',\n                body: formData\n            });\n\n            if (!response.ok) throw new Error('Upload failed');\n\n            await updateMarquee(\"user\", file.name.replace('.jpg', ''), streamImages);\n            await fetchMarqueeData();\n            toast.success('Marquee uploaded successfully');\n            event.target.value = '';\n        } catch (error) {\n            console.error('Upload error:', error);\n            toast.error('Failed to upload marquee');\n        }\n    };\n\n    useEffect(() => {\n        fetchResolutionInfo();\n        fetchMarqueeData();\n    }, []);\n\n    return (\n        <React.Fragment>\n            <div style={{ marginLeft: '30px', marginBottom: '10px' }}>\n                <button\n                    onClick={() => fileInputRef.current?.click()}\n                    style={{\n                        padding: '8px 16px',\n                        backgroundColor: '#4CAF50',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '4px',\n                        cursor: 'pointer'\n                    }}\n                >\n                    Upload Marquee\n                </button>\n                <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    accept=\".jpg,.jpeg\"\n                    onChange={handleFileUpload}\n                    style={{ display: 'none' }}\n                />\n            </div>\n            <div style={{ marginLeft: '30px', marginBottom: '20px' }}>\n                <p style={{ color: '#d1d5db', fontSize: '14px' }}>\n                    Note: Custom marquee files must follow the naming convention: <span style={{ background: 'rgba(0,0,0,0.3)', padding: '4px 8px', borderRadius: '4px', fontFamily: 'monospace' }}>default-yourfilename.jpg</span>\n                </p>\n            </div>\n            <div style={{ marginLeft: '30px', marginBottom: '20px' }}>\n                <p style={{ color: '#d1d5db', fontSize: '14px' }}>\n                    Select desired marquee and it will appear by default on startup \n                </p>\n            </div>\n            <Loading isLoading={loading} />\n            <div className=\"layout-grid fade-in\">\n                <img\n                    onClick={() => handleDefaultMarquee(1)}\n                    style={{\n                        backgroundColor: \"rgba(255, 255, 255, .05)\",\n                        cursor: \"pointer\",\n                        position: \"relative\",\n                        minHeight: 40,\n                    }}\n                    src={DefaultOne}\n                    alt=\"marquee 1\"\n                    className=\"grid-item fade-in\"\n                />\n                <img\n                    onClick={() => handleDefaultMarquee(2)}\n                    style={{\n                        backgroundColor: \"rgba(255, 255, 255, .05)\",\n                        cursor: \"pointer\",\n                        position: \"relative\",\n                        minHeight: 40,\n                    }}\n                    src={DefaultTwo}\n                    alt=\"marquee 2\"\n                    className=\"grid-item fade-in\"\n                />\n                <img\n                    onClick={() => handleDefaultMarquee(3)}\n                    style={{\n                        backgroundColor: \"rgba(255, 255, 255, .05)\",\n                        cursor: \"pointer\",\n                        position: \"relative\",\n                        minHeight: 40,\n                    }}\n                    src={DefaultThree}\n                    alt=\"marquee 3\"\n                    className=\"grid-item fade-in\"\n                />\n                {marqueeData.map((item: MarqueeInfo) => (\n                    <div \n                        key={item.filename}\n                        onContextMenu={(e) => {\n                            // Construct the complete filename with prefix and extension\n                            const completeFilename = `${item.systemName}-${item.filename}.jpg`;\n                            console.log('Full MarqueeInfo item:', item);\n                            console.log('Constructed filename for delete:', completeFilename);\n                            handleContextMenu(e, completeFilename);\n                        }}\n                    >\n                        <MarqueeItem\n                            system={\"user\"}\n                            marquee={item}\n                            onClick={() => handleDefaultMarquee(item.filename)}\n                        />\n                    </div>\n                ))}\n            </div>\n            {contextMenu && (\n                <ContextMenu\n                    x={contextMenu.x}\n                    y={contextMenu.y}\n                    onDelete={() => handleDeleteMarquee(contextMenu.filename)}\n                    onClose={() => setContextMenu(null)}\n                />\n            )}\n        </React.Fragment>\n    );\n};\n\nexport default DefaultMarquee;","export const FontList: string[] = [\n    \"LiberationSans-Bold\",\n    \"LiberationSans-Regular\",\n    \"Orbitron-SemiBold\",\n    \"Arial Narrow 7\",\n    \"Benegraphic\",\n    \"Casio FX-702P\",\n    \"Decoder\",\n    \"dotty\",\n    \"DPComic\",\n    \"Ghastly Panic\",\n    \"Gnuolane\",\n    \"Grinched\",\n    \"Handwriting\",\n    \"Harry P\",\n    \"Haunting Attraction\",\n    \"Minimal4\",\n    \"Morris Roman\",\n    \"MostlyMono\",\n    \"Neon 80s\",\n    \"Nintendo DS BIOS\",\n    \"Not So Stout Deco\",\n    \"Pixelated\",\n    \"Pixeled\",\n    \"RetroBoundmini\",\n    \"Samba Is Dead\",\n    \"Shlop\",\n    \"Space Patrol NF\",\n    \"Star Jedi Hollow\",\n    \"Star Jedi\",\n    \"Still Time\",\n    \"Tall Films Fine\",\n    \"techno overload (BRK)\",\n    \"TR2N\",\n    \"TRON\",\n    \"Vectroid\",\n    \"Videophreak\",\n];\n","import axios from \"axios\";\nimport { getDeviceUrl } from \".\";\n\nexport const toggleVideoMarquees = (value: boolean): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\n        \"\"\n    )}/settings?key=ImageMarqueesOnly&value=${value ? \"yes\" : \"no\"}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const toggleTextOnMainPanel = (value: boolean): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\n        \"\"\n    )}/settings?key=SubDisplayScrollingOnly&value=${value ? \"yes\" : \"no\"}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const disableVideoMarquees = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\n        \"\"\n    )}/settings?key=ImageMarqueesOnly&value=yes`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const enableVideoMarquees = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\n        \"\"\n    )}/settings?key=ImageMarqueesOnly&value=no`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const disableScrolling = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\n        \"\"\n    )}/settings?key=SubDisplayScrollingOnly&value=yes`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const enableScrolling = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\n        \"\"\n    )}/settings?key=SubDisplayScrollingOnly&value=no`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const updateDeviceName = (newName: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\n        \"\"\n    )}/settings?key=DisplayName&value=${newName}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const updateDeviceFont = (newName: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=font&value=${newName}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const updatePixelcadeDotTypeSPI = (newName: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=PixelcadeDotType&value=${newName}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const updatePixelcadeMiniDisplayTypeI2C = (newName: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=PixelcadeMiniDisplayType&value=${newName}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const updatePixelcadeDeviceOLEDMode = (newName: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=PixelcadeOLEDMode&value=${newName}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n\nexport const updateFontColor = (newName: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\n        \"\"\n    )}/settings?key=textColor&value=${newName}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const readSettings = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=getSettings`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\nexport const toggleMarqueeOverlays = (value: boolean): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=marqueeOverlays&value=${value ? 'yes' : 'no'}`;\n  \n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n  };\n\n  export const toggleMiniOLEDGlitchMode = (value: boolean): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=PixelcadeOLEDGlitch&value=${value ? 'yes' : 'no'}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n  };\n\n  export const toggleFuzzyMatch = (value: boolean): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=fuzzyMatch&value=${value ? 'yes' : 'no'}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n  };\n\n  export const updateFuzzyMatchDistance = (distance: number): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=fuzzyMatchDistance&value=${distance}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n  };\n\n\n  export const updateFirmware = (beta: boolean = false): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/update${beta ? '?beta=true' : ''}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n  };\n\n  export const toggleDebugMode = (value: boolean): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=debug&value=${value ? 'yes' : 'no'}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n  };\n\n  export const switchVersion = (useNewVersion: boolean): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/versionswitcher?new=${useNewVersion ? 'true' : 'false'}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n  };\n\n  export const getWiFiConfig = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/wifisetup`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n  };\n\n  export const saveWiFiConfig = (ssid: string, password: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/wifisetup`;\n\n    return axios.post(requestUrl, { ssid, password }).then((value) => {\n        return value.data;\n    });\n  };\n\n","import { Button, FormControlLabel, Switch, Dialog, DialogTitle, DialogContent, DialogActions } from \"@material-ui/core\";\nimport React, { useEffect, useState, ReactElement } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { FontList } from \"../../const/fonts\";\nimport { readDeviceInfo, checkForUpdates } from \"../../services\";\nimport { DeviceInfo } from \"../../types/DeviceInfo.type\";\nimport {\n  readSettings,\n  toggleMarqueeOverlays,\n  toggleFuzzyMatch,\n  updateFuzzyMatchDistance,\n  toggleTextOnMainPanel,\n  toggleVideoMarquees,\n  updateDeviceFont,\n  updatePixelcadeDotTypeSPI,\n  updatePixelcadeMiniDisplayTypeI2C,\n  updatePixelcadeDeviceOLEDMode,\n  toggleMiniOLEDGlitchMode,\n  updateDeviceName,\n  updateFirmware,\n  updateFontColor,\n  toggleDebugMode,\n  switchVersion,\n  getWiFiConfig,\n  saveWiFiConfig,\n} from \"../../services/settings\";\nimport { HexColorPicker } from \"react-colorful\";\nimport { Select, CaretIcon, ModalCloseButton } from \"react-responsive-select\";\n\nimport \"react-responsive-select/dist/react-responsive-select.css\";\n\ntype SettingType = {\n  font: string;\n  SubDisplayScrollingOnly: boolean;\n  ImageMarqueesOnly: boolean;\n  SubDisplayNumModules: number;\n  FontColor: string;\n  marqueeOverlays: boolean;\n  fuzzyMatch: boolean;\n  fuzzyMatchDistance: number;\n  PixelcadeDotType: string;\n  PixelcadeMiniDisplayType: string;\n  PixelcadeOLEDMode: string;\n  PixelcadeOLEDGlitch: boolean;\n  debug: boolean;\n  useNewVersion: boolean;\n};\n\nconst DeviceSettings = (): ReactElement => {\n  const [deviceName, setDeviceName] = useState<string>(\"\");\n  const [settings, setSettings] = useState<SettingType | undefined>();\n  const [deviceInfo, setDeviceInfo] = useState<DeviceInfo>();\n  const [logContent, setLogContent] = useState<string>(\"\");\n  const [updateDialogOpen, setUpdateDialogOpen] = useState(false);\n  const [updateInfo, setUpdateInfo] = useState<any>(null);\n  const [checkingUpdate, setCheckingUpdate] = useState(false);\n  const [enableBeta, setEnableBeta] = useState(false);\n\n  // WiFi setup state\n  const [wifiSSID, setWifiSSID] = useState<string>(\"\");\n  const [wifiPassword, setWifiPassword] = useState<string>(\"\");\n  const [showWifiPassword, setShowWifiPassword] = useState<boolean>(false);\n  const [hasWifiConfig, setHasWifiConfig] = useState<boolean>(false);\n  const [wifiSaving, setWifiSaving] = useState<boolean>(false);\n\n  const handleCheckForUpdates = async () => {\n    setCheckingUpdate(true);\n    try {\n      const info = await checkForUpdates();\n      setUpdateInfo(info);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setCheckingUpdate(false);\n    }\n  };\n\n  useEffect(() => {\n    readDeviceInfo().then((data) => {\n      setDeviceName(data.name);\n      setDeviceInfo(data);\n    });\n    readSettings()\n      .then((data) => {\n        setSettings(data);\n      })\n      .catch();\n\n    // Load WiFi config\n    getWiFiConfig()\n      .then((data) => {\n        if (data.hasWifi) {\n          setWifiSSID(data.ssid);\n          setWifiPassword(data.password || \"\");\n          setHasWifiConfig(true);\n        }\n      })\n      .catch(() => {\n        // No WiFi config yet, that's fine\n      });\n\n    // Auto-check for updates on load\n    handleCheckForUpdates();\n  }, []);\n\n  useEffect(() => {\n    const fetchLogFile = async () => {\n      try {\n        const hostname = window.location.hostname;\n        const response = await fetch(`http://${hostname}:8080/v2/log`);\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const text = await response.text();\n        setLogContent(text);\n      } catch (error) {\n        setLogContent(\"Error loading log file: \" + (error instanceof Error ? error.message : String(error)));\n      }\n    };\n  \n    // Initial fetch\n    fetchLogFile();\n    \n    // Set up polling interval\n    const interval = setInterval(fetchLogFile, 5000);\n    \n    // Cleanup interval on component unmount\n    return () => clearInterval(interval);\n  }, []);\n\n    const getRebootMessage = (message: string) => {\n        return (\n            <div>\n                <p>{message}</p>\n            </div>\n        );\n    };\n    const updateImageMarqueesOnly = () => {\n        if (settings) {\n            toast.promise(\n                toggleVideoMarquees(!settings.ImageMarqueesOnly),\n                {\n                    loading: \"Updating video marquees settings\",\n                    success: () => {\n                        setSettings({\n                            ...settings,\n                            ImageMarqueesOnly: !settings.ImageMarqueesOnly,\n                        });\n                        return getRebootMessage(\n                            `Video marquees settings updated`\n                        );\n                    },\n                    error: \"Setting failed\",\n                },\n                { duration: 4000 }\n            );\n        }\n    };\n\n    const updateMiniOLEDGlitchMode = () => {\n      if (settings) {\n          toast.promise(\n            toggleMiniOLEDGlitchMode(!settings.PixelcadeOLEDGlitch),\n              {\n                  loading: \"Updating Mini OLED Glitch Mode\",\n                  success: () => {\n                      setSettings({\n                          ...settings,\n                          PixelcadeOLEDGlitch: !settings.PixelcadeOLEDGlitch,\n                      });\n                      return getRebootMessage(\n                          `Mini OLED Glitch Mode Updated`\n                      );\n                  },\n                  error: \"Mini OLED Glitch Mode Update Failed\",\n              },\n              { duration: 4000 }\n          );\n      }\n  };\n    \n\n    const updateTextOnMainPanel = () => {\n        if (settings) {\n            toast.promise(\n                toggleTextOnMainPanel(!settings.SubDisplayScrollingOnly),\n                {\n                    loading: \"Updating Text scrolling settings\",\n                    success: () => {\n                        setSettings({\n                            ...settings,\n                            SubDisplayScrollingOnly:\n                                !settings.SubDisplayScrollingOnly,\n                        });\n                        return getRebootMessage(\n                            `Text scrolling settings updated`\n                        );\n                    },\n                    error: \"Setting failed\",\n                },\n                { duration: 4000 }\n            );\n        }\n    };\n\n    const updateName = () => {\n        toast.promise(\n            updateDeviceName(deviceName),\n            {\n                loading: \"Updating Device Name\",\n                success: () => {\n                    return getRebootMessage(`Device Name updated`);\n                },\n                error: \"Setting failed\",\n            },\n            { duration: 4000 }\n        );\n    };\n\n    const updateFont = () => {\n        if (settings) {\n            toast.promise(\n                updateDeviceFont(settings.font),\n                {\n                    loading: \"Updating Device Font\",\n                    success: \"Font updated\",\n                    error: \"Setting failed\",\n                },\n                { duration: 4000 }\n            );\n        }\n    };\n\n   const updatePixelcadeDotType = () => {\n      if (settings) {\n          toast.promise(\n              updatePixelcadeDotTypeSPI(settings.PixelcadeDotType),\n              {\n                  loading: \"Updating Pixelcade Sub-Display Type\",\n                  success: \"Sub-Display Type updated\",\n                  error: \"Sub-Display Type Updated Failed\",\n              },\n              { duration: 4000 }\n          );\n      }\n  }; \n\n  const updatePixelcadeMiniDisplayType = () => {\n    if (settings) {\n        toast.promise(\n          updatePixelcadeMiniDisplayTypeI2C(settings.PixelcadeMiniDisplayType),\n            {\n                loading: \"Updating Pixelcade Mini Display Type\",\n                success: \"Pixelcade Mini Display Type Updated\",\n                error: \"Pixelcade Mini Display Updated Failed\",\n            },\n            { duration: 4000 }\n        );\n    }\n}; \n\nconst updatePixelcadeOLEDMode = () => {\n  if (settings) {\n      toast.promise(\n        updatePixelcadeDeviceOLEDMode(settings.PixelcadeOLEDMode),\n          {\n              loading: \"Updating Pixelcade Mini OLED Mode\",\n              success: \"Pixelcade Mini OLED Mode Updated\",\n              error: \"Pixelcade Mini OLED Mode Update Failed\",\n          },\n          { duration: 4000 }\n      );\n  }\n}; \n\n  const updateColor = () => {\n        if (settings) {\n            toast.promise(\n                updateFontColor(settings.FontColor),\n                {\n                    loading: \"Updating Font Color\",\n                    success: \"Font color updated\",\n                    error: \"Setting failed\",\n                },\n                { duration: 4000 }\n            );\n        }\n    };\n\n  const getFonts = () => {\n    return FontList.map((font) => {\n      return {\n        value: font,\n        text: font,\n      };\n    });\n  };\n\n  const updateMarqueeOverlay = () => {\n    if (settings) {\n      toast.promise(\n        toggleMarqueeOverlays(!settings.marqueeOverlays),\n        {\n          loading: \"Updating Marquee Overlay settings\",\n          success: () => {\n            setSettings({\n              ...settings,\n              marqueeOverlays: !settings.marqueeOverlays,\n            });\n            return getRebootMessage(`Marquee Overlay settings updated`);\n          },\n          error: \"Setting failed\",\n        },\n        { duration: 4000 }\n      );\n    }\n  };\n\n  const updateFuzzyMatch = () => {\n    if (settings) {\n      toast.promise(\n        toggleFuzzyMatch(!settings.fuzzyMatch),\n        {\n          loading: \"Updating Fuzzy Matching settings\",\n          success: () => {\n            setSettings({\n              ...settings,\n              fuzzyMatch: !settings.fuzzyMatch,\n            });\n            return getRebootMessage(`Fuzzy Matching settings updated`);\n          },\n          error: \"Setting failed\",\n        },\n        { duration: 4000 }\n      );\n    }\n  };\n\n  const handleFuzzyMatchDistanceChange = (newDistance: number) => {\n    if (settings) {\n      toast.promise(\n        updateFuzzyMatchDistance(newDistance),\n        {\n          loading: \"Updating Fuzzy Match Distance\",\n          success: () => {\n            setSettings({\n              ...settings,\n              fuzzyMatchDistance: newDistance,\n            });\n            return `Fuzzy Match Distance set to ${newDistance}`;\n          },\n          error: \"Setting failed\",\n        },\n        { duration: 4000 }\n      );\n    }\n  };\n\n  const updateDebugMode = () => {\n    if (settings) {\n      toast.promise(\n        toggleDebugMode(!settings.debug),\n        {\n          loading: \"Updating Debug Mode\",\n          success: () => {\n            setSettings({\n              ...settings,\n              debug: !settings.debug,\n            });\n            return getRebootMessage(`Debug Mode ${!settings.debug ? 'enabled' : 'disabled'}`);\n          },\n          error: \"Setting failed\",\n        },\n        { duration: 4000 }\n      );\n    }\n  };\n\n  const updateVersionSwitcher = () => {\n    if (settings) {\n      toast.promise(\n        switchVersion(!settings.useNewVersion),\n        {\n          loading: \"Switching firmware version...\",\n          success: () => {\n            setSettings({\n              ...settings,\n              useNewVersion: !settings.useNewVersion,\n            });\n            return getRebootMessage(`Switched to ${!settings.useNewVersion ? 'new (pixlcd)' : 'classic (Java)'} version. Restart the service or reboot to apply.`);\n          },\n          error: \"Version switch failed\",\n        },\n        { duration: 6000 }\n      );\n    }\n  };\n\n  const handleSaveWiFi = () => {\n    if (!wifiSSID.trim()) {\n      toast.error(\"Please enter a WiFi network name (SSID)\");\n      return;\n    }\n\n    setWifiSaving(true);\n    toast.promise(\n      saveWiFiConfig(wifiSSID.trim(), wifiPassword),\n      {\n        loading: \"Saving WiFi configuration...\",\n        success: () => {\n          setHasWifiConfig(true);\n          setShowWifiPassword(false);\n          return \"WiFi configuration saved! Restart your Pixelcade to connect to the new network.\";\n        },\n        error: \"Failed to save WiFi configuration\",\n      },\n      { duration: 6000 }\n    ).finally(() => {\n      setWifiSaving(false);\n    });\n  };\n\n  const updateSystem = () => {\n    setUpdateDialogOpen(false);\n    toast.promise(\n      updateFirmware(enableBeta),\n      {\n        loading: enableBeta ? \"Pixelcade LCD Beta Update Started\" : \"Pixelcade LCD Update Started\",\n        success: () => {\n          return `Please wait until you see the Update Complete message on your Pixelcade before doing anything else.`;\n        },\n        error: \"Failed to start update\",\n      },\n      { duration: 4000 }\n    );\n  };\n  \n  return (\n    <div className=\"fade-in\">\n      {settings && (\n        <div className=\"layout-grid\" style={{ marginTop: \"0.5rem\", gap: \"2rem\" }}>\n          {/* Device Name Section */}\n          <div className=\"settings\">\n            <label style={{ margin: \"1rem 0 .5rem 0\" }}>Device Name</label>\n            <input\n              style={{\n                height: 36,\n                fontSize: \"1.2rem\",\n                padding: \"0 0.4rem\",\n              }}\n              type=\"text\"\n              id=\"fname\"\n              name=\"fname\"\n              value={deviceName}\n              onChange={(event) => {\n                setDeviceName(event.target.value);\n              }}\n            />\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 2fr\",\n                gridGap: \"1rem\",\n              }}\n            >\n              <div />\n              <Button\n                style={{ marginTop: \"1.2rem\" }}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => updateName()}\n              >\n                Update\n              </Button>\n            </div>\n          </div>\n\n          {/* Device Info Section */}\n        <div className=\"settings\">\n          <label style={{ margin: \"1rem 0 .5rem 0\", fontWeight: \"bold\" }}>Device Info</label>\n          {deviceInfo && (\n            <div style={{ fontSize: \"1rem\", lineHeight: \"1.6\" }}>\n              <p><strong>Name:</strong> <span style={{ color: \"#666\", fontWeight: \"normal\" }}>{deviceInfo.name}</span></p>\n              <p><strong>Hostname:</strong> <span style={{ color: \"#666\", fontWeight: \"normal\" }}>{deviceInfo.hostname}</span></p>\n              <p><strong>Firmware:</strong> <span style={{ color: \"#666\", fontWeight: \"normal\" }}>v{deviceInfo.firmwareVersion}</span></p>\n              <p><strong>Artwork Version:</strong> <span style={{ color: \"#666\", fontWeight: \"normal\" }}>{deviceInfo.artworkVersion}</span></p>\n              <p><strong>Resolution:</strong> <span style={{ color: \"#666\", fontWeight: \"normal\" }}>{deviceInfo.resolution.width}x{deviceInfo.resolution.height}</span></p>\n              <p><strong>Generation:</strong> <span style={{ color: \"#666\", fontWeight: \"normal\" }}>{deviceInfo.pixelcadeGen}</span></p>\n              <p><strong>Connected Sub-Displays:</strong></p>\n              <ul style={{ marginLeft: \"1.5rem\", marginTop: \"0.5rem\", color: \"#666\", fontWeight: \"normal\" }}>\n                {deviceInfo.oled && <li>OLED Display</li>}\n                {deviceInfo.miniLCD && <li>Mini LCD</li>}\n                {deviceInfo.dotMatrix && <li>Dot Matrix</li>}\n                {deviceInfo.sevenSegment && <li>Seven Segment</li>}\n              </ul>\n              <p><strong>Network Status:</strong> <span style={{ color: deviceInfo.hasJoinedNetwork ? \"green\" : \"red\", fontWeight: \"normal\" }}>\n                {deviceInfo.hasJoinedNetwork ? \"Connected\" : \"Not Connected\"}\n              </span></p>\n              <p><strong>Pairing Status:</strong> <span style={{ color: deviceInfo.isPaired ? \"green\" : \"red\", fontWeight: \"normal\" }}>\n                {deviceInfo.isPaired ? \"Paired\" : \"Not Paired\"}\n              </span></p>\n            </div>\n          )}\n        </div>\n\n          {/* New or Classic Version Setting */}\n          <div className=\"settings\">\n            <label style={{ margin: \"1rem 0 .5rem 0\", fontWeight: \"bold\" }}>New or Classic Version</label>\n            <p>\n              Switch to the new and improved Pixelcade LCD firmware or switch back to classic.\n            </p>\n            <FormControlLabel\n              style={{ marginTop: \"1.2rem\" }}\n              control={\n                <Switch\n                  checked={settings.useNewVersion}\n                  onChange={() => updateVersionSwitcher()}\n                  color=\"primary\"\n                />\n              }\n              label=\"Use New Version\"\n            />\n            <p style={{ fontSize: \"0.9rem\", color: \"#666\", marginTop: \"0.5rem\" }}>\n              {settings.useNewVersion\n                ? \"Currently using the new Pixelcade firmware (faster with more features)\"\n                : \"Currently using the classic Pixelcade firmware.\"}\n              <br/>\n              A reboot is required after switching versions.\n            </p>\n          </div>\n\n          {/* WiFi Setup Section */}\n          <div className=\"settings\">\n            <label style={{ margin: \"1rem 0 .5rem 0\", fontWeight: \"bold\" }}>WiFi Setup</label>\n            <p style={{ marginBottom: \"1rem\" }}>\n              Connect your Pixelcade LCD to your home WiFi network to enable network features.\n              If your WiFi network changes, update the credentials here and restart your Pixelcade.\n            </p>\n\n            <label style={{ display: \"block\", marginBottom: \"0.5rem\", color: \"#666\" }}>\n              WiFi Network Name (SSID)\n            </label>\n            <input\n              style={{\n                height: 36,\n                fontSize: \"1rem\",\n                padding: \"0 0.6rem\",\n                width: \"100%\",\n                maxWidth: \"250px\",\n                marginBottom: \"1rem\",\n              }}\n              type=\"text\"\n              placeholder=\"Enter your WiFi network name\"\n              value={wifiSSID}\n              onChange={(e) => {\n                setWifiSSID(e.target.value);\n                if (!showWifiPassword) setShowWifiPassword(true);\n              }}\n            />\n\n            <label style={{ display: \"block\", marginBottom: \"0.5rem\", color: \"#666\" }}>\n              WiFi Password\n            </label>\n            <div style={{ display: \"flex\", alignItems: \"center\", gap: \"0.5rem\", marginBottom: \"1rem\" }}>\n              <input\n                style={{\n                  height: 36,\n                  fontSize: \"1rem\",\n                  padding: \"0 0.6rem\",\n                  width: \"100%\",\n                  maxWidth: \"250px\",\n                }}\n                type={showWifiPassword ? \"text\" : \"password\"}\n                placeholder={hasWifiConfig && !showWifiPassword ? \"\" : \"Enter your WiFi password\"}\n                value={wifiPassword}\n                onChange={(e) => {\n                  setWifiPassword(e.target.value);\n                }}\n              />\n              <Button\n                variant=\"outlined\"\n                size=\"small\"\n                onClick={() => setShowWifiPassword(!showWifiPassword)}\n                style={{ minWidth: \"80px\" }}\n              >\n                {showWifiPassword ? \"Hide\" : \"Show\"}\n              </Button>\n            </div>\n\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleSaveWiFi}\n              disabled={wifiSaving || !wifiSSID.trim()}\n              style={{ marginTop: \"0.5rem\" }}\n            >\n              {wifiSaving ? \"Saving...\" : \"Save WiFi Settings\"}\n            </Button>\n\n            {hasWifiConfig && (\n              <p style={{ fontSize: \"0.9rem\", color: \"green\", marginTop: \"1rem\" }}>\n                 WiFi is configured for network: {wifiSSID}\n              </p>\n            )}\n          </div>\n\n          {/* System and Artwork Updates Section */}\n          <div className=\"settings\">\n            <label style={{ margin: \"1rem 0 .5rem 0\", fontWeight: \"bold\" }}>\n              System and Artwork Updates\n            </label>\n\n            {checkingUpdate ? (\n              <p style={{ color: \"#666\", fontStyle: \"italic\" }}>Checking for updates...</p>\n            ) : updateInfo ? (\n              <div style={{ fontSize: \"1rem\", lineHeight: \"1.6\", marginBottom: \"1rem\" }}>\n                {updateInfo.updateAvailable ? (\n                  <>\n                    <p style={{ color: \"orange\", fontWeight: \"bold\" }}>Updates Available!</p>\n                    {updateInfo.firmwareUpdateAvailable && (\n                      <p><strong>Firmware:</strong> <span style={{ color: \"#666\", fontWeight: \"normal\" }}>{updateInfo.currentFirmwareVersion}  {updateInfo.latestFirmwareVersion}</span></p>\n                    )}\n                    {updateInfo.artworkUpdateAvailable && (\n                      <p><strong>Artwork:</strong> <span style={{ color: \"#666\", fontWeight: \"normal\" }}>v{updateInfo.currentArtworkVersion}  v{updateInfo.latestArtworkVersion}</span></p>\n                    )}\n                  </>\n                ) : (\n                  <p style={{ color: \"green\", fontWeight: \"bold\" }}> You're up to date!</p>\n                )}\n                <p style={{ fontSize: \"0.9rem\", marginTop: \"0.5rem\" }}>\n                  <strong>Current Firmware:</strong> <span style={{ color: \"#666\", fontWeight: \"normal\" }}>{updateInfo.currentFirmwareVersion}</span><br/>\n                  <strong>Current Artwork:</strong> <span style={{ color: \"#666\", fontWeight: \"normal\" }}>v{updateInfo.currentArtworkVersion}</span>\n                </p>\n              </div>\n            ) : (\n              <p style={{ color: \"#999\", fontStyle: \"italic\" }}>Unable to check for updates</p>\n            )}\n\n            <p style={{ fontSize: \"0.9rem\", color: \"#666\", marginTop: \"1rem\" }}>\n              WiFi/Ethernet Connectivity Required -  If USB connectivity only, then run the local\n              USB based updater from Windows or Linux command.\n              Updates can take up to 15 minutes or more depending on your Internet connection.\n            </p>\n\n            <div style={{ display: \"flex\", gap: \"1rem\", marginTop: \"1rem\" }}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleCheckForUpdates}\n                disabled={checkingUpdate}\n              >\n                {checkingUpdate ? \"Checking...\" : \"Re-check Updates\"}\n              </Button>\n              {updateInfo?.updateAvailable && (\n                <Button\n                  variant=\"contained\"\n                  style={{ backgroundColor: \"#4caf50\", color: \"#fff\" }}\n                  onClick={() => setUpdateDialogOpen(true)}\n                >\n                  View Details & Install\n                </Button>\n              )}\n            </div>\n          </div>\n\n          {/* Rest of the existing sections stay exactly the same */}\n          <div className=\"settings\">\n            <p>\n              When disabled, Pixelcade will not show video marquees and will show static marquees only.\n            </p>\n            <FormControlLabel\n              style={{ marginTop: \"1.2rem\" }}\n              control={\n                <Switch\n                  checked={!settings.ImageMarqueesOnly}\n                  onChange={() => updateImageMarqueesOnly()}\n                  color=\"primary\"\n                />\n              }\n              label=\"Show Video Marquees\"\n            />\n          </div>\n  \n          {/* Splash Screens Setting */}\n          <div className=\"settings\" style={{ marginTop: \"2rem\" }}>\n            <p>\n              Disabling splash screens means Pixelcade will not display now playing splash screens, high scores, or marquee overlays. <br></br><br></br>Only a Pixelcade LED marquee\n              (if connected) or a Pixelcade Dot sub-display (if connected) will\n              display scrolling text for now playing game launches and high scores.\n            </p>\n            <FormControlLabel\n              style={{ marginTop: \"1.2rem\" }}\n              control={\n                <Switch\n                  checked={settings.SubDisplayScrollingOnly}\n                  onChange={() => updateTextOnMainPanel()}\n                  color=\"primary\"\n                />\n              }\n              label=\"Disable Splash Screens\"\n            />\n          </div>\n  \n          {/* Font Settings */}\n          <div className=\"settings\" style={{ marginTop: \"2rem\" }}>\n            <label style={{ margin: \".5rem 0 .5rem 0\" }}>Font</label>\n            <Select\n              selectedValue={settings.font}\n              name=\"font\"\n              options={getFonts()}\n              caretIcon={<CaretIcon />}\n              modalCloseButton={<ModalCloseButton />}\n              onChange={(changes: any) => {\n                const font = changes.value;\n                setSettings({ ...settings, font });\n              }}\n            />\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 2fr\",\n                gridGap: \"1rem\",\n              }}\n            >\n              <div />\n              <Button\n                style={{ marginTop: \"1.2rem\" }}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => updateFont()}\n              >\n                Update\n              </Button>\n            </div>\n          </div>\n  \n          {/* Font Color Setting */}\n          <div className=\"settings\" style={{ marginTop: \"2rem\" }}>\n            <p>\n              Font colors are NOT in use at this time. The font color will always be white. \n            </p>\n            <label style={{ margin: \".5rem 0 .5rem 0\" }}>Font Color</label>\n            <HexColorPicker\n              color={settings.FontColor}\n              onChange={(thing) =>\n                setSettings({\n                  ...settings,\n                  FontColor: thing.replace(\"#\", \"\"),\n                })\n              }\n            />\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 2fr\",\n                gridGap: \"1rem\",\n              }}\n            >\n              <div />\n              <Button\n                style={{ marginTop: \"1.2rem\" }}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => updateColor()}\n              >\n                Update\n              </Button>\n            </div>\n          </div>\n  \n          {/* Marquee Overlays Setting */}\n          <div className=\"settings\" style={{ marginTop: \"2rem\" }}>\n            <p>\n              When disabled, Pixelcade will not show overlays such as high\n              scores in a small bar on the bottom of game marquees.\n            </p>\n            <FormControlLabel\n              style={{ marginTop: \"1.2rem\" }}\n              control={\n                <Switch\n                  checked={settings.marqueeOverlays}\n                  onChange={() => updateMarqueeOverlay()}\n                  color=\"primary\"\n                />\n              }\n              label=\"Show Marquee Overlays\"\n            />\n          </div>\n\n          {/* Fuzzy Matching Setting */}\n          <div className=\"settings\" style={{ marginTop: \"2rem\" }}>\n            <p>\n              When enabled, will attempt to match artwork when there is not an exact file match. Ex. mame-game.jpg will match with mame-gamex(USA).jpg\n            </p>\n            <FormControlLabel\n              style={{ marginTop: \"1.2rem\" }}\n              control={\n                <Switch\n                  checked={settings.fuzzyMatch}\n                  onChange={() => updateFuzzyMatch()}\n                  color=\"primary\"\n                />\n              }\n              label=\"Fuzzy Matching\"\n            />\n            {settings.fuzzyMatch && (\n              <div style={{ marginTop: \"1.5rem\", paddingLeft: \"1rem\" }}>\n                <label style={{ display: \"block\", marginBottom: \"0.5rem\", color: \"#666\" }}>\n                  Fuzzy Match Distance (0-10): {settings.fuzzyMatchDistance}\n                </label>\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"10\"\n                  value={settings.fuzzyMatchDistance}\n                  onChange={(e) => handleFuzzyMatchDistanceChange(Number(e.target.value))}\n                  style={{ width: \"100%\", maxWidth: \"300px\" }}\n                />\n                <p style={{ fontSize: \"0.9rem\", color: \"#666\", marginTop: \"0.5rem\" }}>\n                  Lower values require closer matches. Higher values allow more variation.\n                </p>\n              </div>\n            )}\n          </div>\n\n          {/* Dot Sub-Display Type Setting */}\n          <div className=\"settings\" style={{ marginTop: \"2rem\" }}>\n            <label style={{ margin: \".5rem 0 .5rem 0\" }}>Pixelcade Dot Sub-Display Type</label>\n            <label style={{ margin: \".5rem 0 .5rem 0\", display: \"block\", color: \"#666\" }}>Please Select Manually</label>\n            <Select\n              selectedValue={settings.PixelcadeDotType}\n              name=\"PixelcadeDotType\"\n              options={[\n                { text: \"Matrix\", value: \"matrix\" },\n                { text: \"7 Segment\", value: \"7segment\" },\n                { text: \"None\", value: \"none\" }\n              ]}\n              caretIcon={<CaretIcon />}\n              modalCloseButton={<ModalCloseButton />}\n              onChange={(changes: any) => {\n                const PixelcadeDotType = changes.value;\n                setSettings({ ...settings, PixelcadeDotType });\n              }}\n            />\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 2fr\",\n                gridGap: \"1rem\",\n              }}\n            >\n              <div />\n              <Button\n                style={{ marginTop: \"1.2rem\" }}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => updatePixelcadeDotType()}\n              >\n                Update\n              </Button>\n            </div>\n          </div>\n  \n          {/* Mini Dot Sub-Display Type Setting */}\n          <div className=\"settings\" style={{ marginTop: \"2rem\" }}>\n            <label style={{ margin: \".5rem 0 .5rem 0\" }}>Pixelcade Mini Dot Sub-Display Type</label>\n            <label style={{ margin: \".5rem 0 .5rem 0\", display: \"block\", color: \"#666\" }}>Auto Detected</label>\n            <Select\n              selectedValue={settings.PixelcadeMiniDisplayType}\n              name=\"PixelcadeMiniDisplayType\"\n              options={[\n                { text: \"Mini OLED\", value: \"oled\" },\n                { text: \"Mini LCD 4 Lines\", value: \"lcd4line\" },\n                { text: \"Mini LCD 2 Lines\", value: \"lcd2line\" },\n                { text: \"None\", value: \"none\" }\n              ]}\n              caretIcon={<CaretIcon />}\n              modalCloseButton={<ModalCloseButton />}\n              onChange={(changes: any) => {\n                const PixelcadeMiniDisplayType = changes.value;\n                setSettings({ ...settings, PixelcadeMiniDisplayType });\n              }}\n            />\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 2fr\",\n                gridGap: \"1rem\",\n              }}\n            >\n              <div />\n              <Button\n                style={{ marginTop: \"1.2rem\" }}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => updatePixelcadeMiniDisplayType()}\n              >\n                Update\n              </Button>\n            </div>\n          </div>\n  \n          {/* OLED Mode Setting */}\n          <div className=\"settings\" style={{ marginTop: \"2rem\" }}>\n            <label style={{ margin: \".5rem 0 .5rem 0\" }}>Pixelcade Mini OLED Mode</label>\n            <Select\n              selectedValue={settings.PixelcadeOLEDMode}\n              name=\"PixelcadeOLEDMode\"\n              options={[\n                { text: \"Marquee Mode\", value: \"marquee\" },\n                { text: \"Metadata Mode\", value: \"metadata\" }\n              ]}\n              caretIcon={<CaretIcon />}\n              modalCloseButton={<ModalCloseButton />}\n              onChange={(changes: any) => {\n                const PixelcadeOLEDMode = changes.value;\n                setSettings({ ...settings, PixelcadeOLEDMode });\n              }}\n            />\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 2fr\",\n                gridGap: \"1rem\",\n              }}\n            >\n              <div />\n              <Button\n                style={{ marginTop: \"1.2rem\" }}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => updatePixelcadeOLEDMode()}\n              >\n                Update\n              </Button>\n            </div>\n          </div>\n  \n          {/* OLED Glitch Mode Setting */}\n          <div className=\"settings\" style={{ marginTop: \"2rem\" }}>\n            <p>\n              Pixelcade Mini OLED Glitch Mode\n            </p>\n            <FormControlLabel\n              style={{ marginTop: \"1.2rem\" }}\n              control={\n                <Switch\n                  checked={settings.PixelcadeOLEDGlitch}\n                  onChange={() => updateMiniOLEDGlitchMode()}\n                  color=\"primary\"\n                />\n              }\n              label=\"Enable Pixelcade Mini OLED Glitch Mode\"\n            />\n          </div>\n\n          {/* Debug Mode Setting */}\n          <div className=\"settings\" style={{ marginTop: \"2rem\" }}>\n            <p>\n              When enabled, detailed debug messages will be written to the log. This is useful for troubleshooting issues.\n            </p>\n            <FormControlLabel\n              style={{ marginTop: \"1.2rem\" }}\n              control={\n                <Switch\n                  checked={settings.debug}\n                  onChange={() => updateDebugMode()}\n                  color=\"primary\"\n                />\n              }\n              label=\"Enable Debug Logging\"\n            />\n          </div>\n\n        </div>\n      )}\n\n      {/* Update Dialog */}\n      <Dialog open={updateDialogOpen} onClose={() => setUpdateDialogOpen(false)} maxWidth=\"sm\" fullWidth>\n        <DialogTitle style={{ backgroundColor: \"#6b0078\", color: \"#fff\", position: \"relative\", paddingRight: \"48px\" }}>\n          Update Status\n          <div\n            onClick={() => setUpdateDialogOpen(false)}\n            style={{\n              position: \"absolute\",\n              top: \"8px\",\n              right: \"8px\",\n              width: \"32px\",\n              height: \"32px\",\n              borderRadius: \"50%\",\n              backgroundColor: \"rgba(0,0,0,.3)\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              cursor: \"pointer\",\n              transition: \"all 0.2s ease\",\n              border: \"1px solid rgba(255,255,255,.3)\",\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = \"rgba(0,0,0,.6)\";\n              e.currentTarget.style.transform = \"scale(1.1)\";\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = \"rgba(0,0,0,.3)\";\n              e.currentTarget.style.transform = \"scale(1)\";\n            }}\n          >\n            <span style={{\n              color: \"#fff\",\n              fontSize: \"20px\",\n              fontWeight: \"bold\",\n              lineHeight: \"1\",\n            }}>\n              \n            </span>\n          </div>\n        </DialogTitle>\n        <DialogContent style={{ backgroundColor: \"#2a2a2a\", color: \"#fff\", paddingTop: \"20px\" }}>\n          {updateInfo && (\n            <>\n              {updateInfo.updateAvailable ? (\n                <>\n                  <p style={{ fontSize: \"18px\", fontWeight: \"bold\", color: \"#4caf50\" }}>\n                    Updates Available!\n                  </p>\n                  {updateInfo.firmwareUpdateAvailable && (\n                    <p><strong>Firmware:</strong> {updateInfo.currentFirmwareVersion}  {updateInfo.latestFirmwareVersion}</p>\n                  )}\n                  {updateInfo.artworkUpdateAvailable && (\n                    <p><strong>Artwork:</strong> v{updateInfo.currentArtworkVersion}  v{updateInfo.latestArtworkVersion}</p>\n                  )}\n                  {updateInfo.releaseNotes && (\n                    <p style={{ marginTop: \"10px\" }}><strong>What's New:</strong><br/>{updateInfo.releaseNotes}</p>\n                  )}\n                </>\n              ) : (\n                <p style={{ fontSize: \"18px\", fontWeight: \"bold\", color: \"#4caf50\" }}>\n                   You're already up to date!\n                </p>\n              )}\n              <p style={{ marginTop: \"15px\", fontSize: \"14px\", opacity: 0.8 }}>\n                Current Firmware: {updateInfo.currentFirmwareVersion}<br/>\n                Current Artwork: v{updateInfo.currentArtworkVersion}\n              </p>\n            </>\n          )}\n          {updateInfo?.updateAvailable && (\n            <div style={{ marginTop: \"20px\", paddingTop: \"20px\", borderTop: \"1px solid rgba(255,255,255,0.2)\" }}>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={enableBeta}\n                    onChange={(e) => setEnableBeta(e.target.checked)}\n                    style={{ color: enableBeta ? \"#ff9800\" : \"#666\" }}\n                  />\n                }\n                label={\n                  <span style={{ fontSize: \"14px\" }}>\n                    <strong>Enable Beta Updates</strong>\n                    <br/>\n                    <span style={{ fontSize: \"12px\", opacity: 0.7 }}>\n                      Get access to pre-release versions with the latest features\n                    </span>\n                  </span>\n                }\n              />\n            </div>\n          )}\n        </DialogContent>\n        <DialogActions style={{ backgroundColor: \"#2a2a2a\", padding: \"16px\" }}>\n          <Button onClick={() => setUpdateDialogOpen(false)} style={{ color: \"#fff\" }}>\n            Close\n          </Button>\n          {updateInfo?.updateAvailable && (\n            <Button onClick={updateSystem} variant=\"contained\" style={{ backgroundColor: \"#4c3ba2\", color: \"#fff\" }}>\n              Install Update\n            </Button>\n          )}\n        </DialogActions>\n      </Dialog>\n\n {/* Log Section - Now takes full width and is readable */}\n <div\n        className=\"log-container\"\n        style={{\n          marginTop: \"2rem\",\n          padding: \"1rem\",\n          backgroundColor: \"#f4f4f4\",\n          borderRadius: \"5px\",\n          maxHeight: \"400px\",\n          overflowY: \"auto\",\n          width: \"100%\",\n          display: \"flex\",\n          flexDirection: \"column\",\n        }}\n      >\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"1rem\" }}>\n          <h3 style={{ margin: 0, color: \"#333\" }}>Pixelcade LCD Log (updates every 5 seconds)</h3>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => {\n              const blob = new Blob([logContent], { type: \"text/plain\" });\n              const url = URL.createObjectURL(blob);\n              const a = document.createElement(\"a\");\n              a.href = url;\n              a.download = \"pixelcadelcd.log\";\n              document.body.appendChild(a);\n              a.click();\n              document.body.removeChild(a);\n              URL.revokeObjectURL(url);\n            }}\n            disabled={!logContent}\n          >\n            Download Log\n          </Button>\n        </div>\n        <pre\n          style={{\n            whiteSpace: \"pre-wrap\",\n            wordWrap: \"break-word\",\n            color: \"black\",\n            fontSize: \"1rem\",\n            padding: \"1rem\",\n            backgroundColor: \"#fff\",\n            borderRadius: \"5px\",\n            flex: 1,\n          }}\n        >\n          {logContent}\n        </pre>\n      </div>\n\n\n\n    </div>\n  );\n\n};\n\nexport default DeviceSettings;\n","import { Button } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { setScrollingText } from \"../../services\";\n\nconst SendText: React.FC = () => {\n    const [text, setText] = useState<string>(\"\");\n    return (\n        <div className=\"layout-grid fade-in\" style={{ marginTop: \"0.5rem\" }}>\n            <div\n                className=\"settings\"\n                style={{ display: \"flex\", flexDirection: \"column\" }}\n            >\n                <label style={{ margin: \"1rem 0 .5rem 0\" }}>\n                    Scrolling Text\n                </label>\n\n                <input\n                    style={{\n                        height: 36,\n                        fontSize: \"1.2rem\",\n                        padding: \"0 0.4rem\",\n                    }}\n                    type=\"text\"\n                    id=\"fname\"\n                    name=\"fname\"\n                    value={text}\n                    onChange={(event) => {\n                        setText(event.target.value);\n                    }}\n                />\n                <div\n                    style={{\n                        display: \"grid\",\n                        gridTemplateColumns: \"1fr 2fr\",\n                        gridGap: \"1rem\",\n                    }}\n                >\n                    <div />\n                    <Button\n                        style={{ marginTop: \"1.2rem\" }}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => {\n                            toast.promise(\n                                setScrollingText(text),\n                                {\n                                    loading: \"Sending message to marquee\",\n                                    success: \"Message sent\",\n                                    error: \"Failed\",\n                                },\n                                { duration: 4000 }\n                            );\n                        }}\n                    >\n                        Send Text\n                    </Button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default SendText;\n","import axios from \"axios\";\nimport { getDeviceUrl } from \".\";\n\n// Start the sports ticker\nexport const startSportsTicker = (\n    league: string,\n    teams: string[] = [],\n    refresh: number = 5,\n    speed: number = 5\n): Promise<any> => {\n    const teamsParam = teams.length > 0 ? teams.join(\",\") : \"\";\n    const requestUrl = `${getDeviceUrl(\"\")}/sports/start?league=${encodeURIComponent(league)}&teams=${encodeURIComponent(teamsParam)}&refresh=${refresh}&speed=${speed}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Stop the sports ticker\nexport const stopSportsTicker = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/sports/stop`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Get sports ticker status\nexport const getSportsTickerStatus = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/sports/status`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Get sports scores without starting the ticker\nexport const getSportsScores = (league: string, teams: string[] = []): Promise<any> => {\n    const teamsParam = teams.length > 0 ? teams.join(\",\") : \"\";\n    const requestUrl = `${getDeviceUrl(\"\")}/sports/scores?league=${encodeURIComponent(league)}&teams=${encodeURIComponent(teamsParam)}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Update a sports ticker setting\nexport const updateSportsSetting = (key: string, value: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=${key}&value=${encodeURIComponent(value)}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Start the favorites ticker (multi-league)\nexport const startFavoritesTicker = (\n    favoriteTeams: string,\n    refresh: number = 5,\n    speed: number = 5\n): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/sports/start-favorites?favorites=${encodeURIComponent(favoriteTeams)}&refresh=${refresh}&speed=${speed}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n","// Ticker event system to coordinate button states between widgets\n\nexport type TickerType = 'sports' | 'stocks' | 'weather' | 'news' | 'clock';\n\n// Custom event for when a ticker starts (which stops others)\nexport const TICKER_STARTED_EVENT = 'tickerStarted';\n\n// Dispatch event when a ticker starts\nexport const dispatchTickerStarted = (tickerType: TickerType) => {\n    window.dispatchEvent(new CustomEvent(TICKER_STARTED_EVENT, {\n        detail: { tickerType }\n    }));\n};\n\n// Subscribe to ticker started events\nexport const onTickerStarted = (\n    callback: (tickerType: TickerType) => void\n): (() => void) => {\n    const handler = (event: Event) => {\n        const customEvent = event as CustomEvent<{ tickerType: TickerType }>;\n        callback(customEvent.detail.tickerType);\n    };\n    window.addEventListener(TICKER_STARTED_EVENT, handler);\n    // Return unsubscribe function\n    return () => window.removeEventListener(TICKER_STARTED_EVENT, handler);\n};\n","import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button, CircularProgress } from \"@material-ui/core\";\nimport {\n    SportsBasketball,\n    TrendingUp,\n    WbSunny,\n    RssFeed,\n    Schedule,\n    Settings,\n    PlayArrow,\n    Stop,\n} from \"@material-ui/icons\";\nimport toast from \"react-hot-toast\";\nimport { readSettings } from \"../../services/settings\";\nimport { startSportsTicker, stopSportsTicker, getSportsTickerStatus, startFavoritesTicker } from \"../../services/sports\";\nimport { getDeviceUrl } from \"../../services\";\nimport axios from \"axios\";\nimport { dispatchTickerStarted, onTickerStarted, TickerType } from \"../../services/tickerEvents\";\nimport \"./styles.css\";\n\ntype TickerStatus = {\n    sports: boolean;\n    stocks: boolean;\n    weather: boolean;\n    news: boolean;\n    clock: boolean;\n};\n\ntype LoadingState = {\n    sports: boolean;\n    stocks: boolean;\n    weather: boolean;\n    news: boolean;\n    clock: boolean;\n};\n\nconst WidgetsMenu: React.FC = () => {\n    const nav = useNavigate();\n    const [tickerStatus, setTickerStatus] = useState<TickerStatus>({\n        sports: false,\n        stocks: false,\n        weather: false,\n        news: false,\n        clock: false,\n    });\n    const [loading, setLoading] = useState<LoadingState>({\n        sports: false,\n        stocks: false,\n        weather: false,\n        news: false,\n        clock: false,\n    });\n    const [settings, setSettings] = useState<any>(null);\n\n    // Fetch all ticker statuses on mount\n    useEffect(() => {\n        const fetchStatuses = async () => {\n            try {\n                // Load settings first\n                const settingsData = await readSettings();\n                setSettings(settingsData);\n\n                // Check sports status\n                const sportsStatus = await getSportsTickerStatus();\n\n                // Check stocks status\n                const stocksRes = await axios.get(`${getDeviceUrl(\"\")}/stocks/status`);\n\n                // Check weather status\n                const weatherRes = await axios.get(`${getDeviceUrl(\"\")}/weather/status`);\n\n                // Check news status\n                const newsRes = await axios.get(`${getDeviceUrl(\"\")}/news/status`);\n\n                // Check clock status\n                const clockRes = await axios.get(`${getDeviceUrl(\"\")}/clock/status`);\n\n                setTickerStatus({\n                    sports: sportsStatus?.running || false,\n                    stocks: stocksRes.data?.running || false,\n                    weather: weatherRes.data?.running || false,\n                    news: newsRes.data?.running || false,\n                    clock: clockRes.data?.running || false,\n                });\n            } catch (err) {\n                console.error(\"Error fetching ticker statuses:\", err);\n            }\n        };\n\n        fetchStatuses();\n\n        // Listen for ticker started events from other components\n        const unsubscribe = onTickerStarted((tickerType: TickerType) => {\n            // Reset all to false, then set the started one to true\n            setTickerStatus({\n                sports: tickerType === 'sports',\n                stocks: tickerType === 'stocks',\n                weather: tickerType === 'weather',\n                news: tickerType === 'news',\n                clock: tickerType === 'clock',\n            });\n        });\n\n        return () => unsubscribe();\n    }, []);\n\n    // Generic ticker start/stop handlers\n    const handleSportsTicker = async () => {\n        if (tickerStatus.sports) {\n            // Stop\n            try {\n                await stopSportsTicker();\n                setTickerStatus(prev => ({ ...prev, sports: false }));\n                toast.success(\"Sports Ticker Stopped\");\n            } catch (err) {\n                toast.error(\"Failed to stop Sports Ticker\");\n            }\n        } else {\n            // Start with saved settings\n            setLoading(prev => ({ ...prev, sports: true }));\n            try {\n                const mode = settings?.sportTickerMode || \"league\";\n                const refreshMinutes = (settings?.sportTickerRefresh || 60) / 60;\n                const speed = settings?.sportScrollSpeed || 5;\n\n                if (mode === \"favorites\" && settings?.sportFavoriteTeams) {\n                    await startFavoritesTicker(settings.sportFavoriteTeams, refreshMinutes, speed);\n                } else if (settings?.sportLeagues) {\n                    const teams = settings?.sportTeamCodes ? settings.sportTeamCodes.split(\",\") : [];\n                    await startSportsTicker(settings.sportLeagues, teams, refreshMinutes, speed);\n                } else {\n                    toast.error(\"Please configure Sports settings first\");\n                    setLoading(prev => ({ ...prev, sports: false }));\n                    return;\n                }\n                setTickerStatus({ sports: true, stocks: false, weather: false, news: false, clock: false });\n                dispatchTickerStarted('sports');\n                toast.success(\"Sports Ticker Started!\");\n            } catch (err) {\n                toast.error(\"Failed to start Sports Ticker\");\n            } finally {\n                setLoading(prev => ({ ...prev, sports: false }));\n            }\n        }\n    };\n\n    const handleStocksTicker = async () => {\n        if (tickerStatus.stocks) {\n            try {\n                await axios.get(`${getDeviceUrl(\"\")}/stocks/stop`);\n                setTickerStatus(prev => ({ ...prev, stocks: false }));\n                toast.success(\"Stocks Ticker Stopped\");\n            } catch (err) {\n                toast.error(\"Failed to stop Stocks Ticker\");\n            }\n        } else {\n            setLoading(prev => ({ ...prev, stocks: true }));\n            try {\n                const symbols = settings?.stockSymbols || \"MSFT,GOOG,AMZN\";\n                const refresh = settings?.stockTickerRefresh || 5;\n                const speed = settings?.stockScrollSpeed || 5;\n                const font = settings?.stockFont || \"LiberationSans-Bold\";\n                await axios.get(`${getDeviceUrl(\"\")}/stocks/start?symbols=${encodeURIComponent(symbols)}&refresh=${refresh}&speed=${speed}&font=${encodeURIComponent(font)}`);\n                setTickerStatus({ sports: false, stocks: true, weather: false, news: false, clock: false });\n                dispatchTickerStarted('stocks');\n                toast.success(\"Stocks Ticker Started!\");\n            } catch (err) {\n                toast.error(\"Failed to start Stocks Ticker\");\n            } finally {\n                setLoading(prev => ({ ...prev, stocks: false }));\n            }\n        }\n    };\n\n    const handleWeatherWidget = async () => {\n        if (tickerStatus.weather) {\n            try {\n                await axios.get(`${getDeviceUrl(\"\")}/weather/stop`);\n                setTickerStatus(prev => ({ ...prev, weather: false }));\n                toast.success(\"Weather Widget Stopped\");\n            } catch (err) {\n                toast.error(\"Failed to stop Weather Widget\");\n            }\n        } else {\n            setLoading(prev => ({ ...prev, weather: true }));\n            try {\n                const location = settings?.weatherLocation || \"95050\";\n                const units = settings?.weatherUnits || \"fahrenheit\";\n                const forecast = settings?.weatherForecast || \"1day\";\n                await axios.get(`${getDeviceUrl(\"\")}/weather/start?location=${encodeURIComponent(location)}&units=${units}&forecast=${forecast}`);\n                setTickerStatus({ sports: false, stocks: false, weather: true, news: false, clock: false });\n                dispatchTickerStarted('weather');\n                toast.success(\"Weather Widget Started!\");\n            } catch (err) {\n                toast.error(\"Failed to start Weather Widget\");\n            } finally {\n                setLoading(prev => ({ ...prev, weather: false }));\n            }\n        }\n    };\n\n    const handleNewsTicker = async () => {\n        if (tickerStatus.news) {\n            try {\n                await axios.get(`${getDeviceUrl(\"\")}/news/stop`);\n                setTickerStatus(prev => ({ ...prev, news: false }));\n                toast.success(\"News Ticker Stopped\");\n            } catch (err) {\n                toast.error(\"Failed to stop News Ticker\");\n            }\n        } else {\n            setLoading(prev => ({ ...prev, news: true }));\n            try {\n                const sources = settings?.newsSources || \"bbc\";\n                const refresh = settings?.newsTickerRefresh || 5;\n                const speed = settings?.newsScrollSpeed || 5;\n                await axios.get(`${getDeviceUrl(\"\")}/news/start?sources=${encodeURIComponent(sources)}&refresh=${refresh}&speed=${speed}`);\n                setTickerStatus({ sports: false, stocks: false, weather: false, news: true, clock: false });\n                dispatchTickerStarted('news');\n                toast.success(\"News Ticker Started!\");\n            } catch (err) {\n                toast.error(\"Failed to start News Ticker\");\n            } finally {\n                setLoading(prev => ({ ...prev, news: false }));\n            }\n        }\n    };\n\n    const handleClockWidget = async () => {\n        if (tickerStatus.clock) {\n            try {\n                await axios.get(`${getDeviceUrl(\"\")}/clock/stop`);\n                setTickerStatus(prev => ({ ...prev, clock: false }));\n                toast.success(\"Clock Widget Stopped\");\n            } catch (err) {\n                toast.error(\"Failed to stop Clock Widget\");\n            }\n        } else {\n            setLoading(prev => ({ ...prev, clock: true }));\n            try {\n                const face = settings?.clockFace || \"cyberpunk\";\n                const use12Hour = settings?.clockUse12Hour === \"yes\";\n                const showSeconds = settings?.clockShowSeconds === \"yes\";\n                await axios.get(`${getDeviceUrl(\"\")}/clock/start?face=${face}&use12Hour=${use12Hour}&showSeconds=${showSeconds}`);\n                setTickerStatus({ sports: false, stocks: false, weather: false, news: false, clock: true });\n                dispatchTickerStarted('clock');\n                toast.success(\"Clock Widget Started!\");\n            } catch (err) {\n                toast.error(\"Failed to start Clock Widget\");\n            } finally {\n                setLoading(prev => ({ ...prev, clock: false }));\n            }\n        }\n    };\n\n    return (\n        <div className=\"widgets-menu fade-in\">\n            <div className=\"widgets-grid\">\n                {/* Sports Ticker */}\n                <Button\n                    variant=\"contained\"\n                    className={`widget-button ${tickerStatus.sports ? 'active' : ''}`}\n                    onClick={handleSportsTicker}\n                    disabled={loading.sports}\n                >\n                    {loading.sports ? (\n                        <CircularProgress size={24} style={{ color: \"#fff\" }} />\n                    ) : tickerStatus.sports ? (\n                        <Stop className=\"widget-icon\" />\n                    ) : (\n                        <SportsBasketball className=\"widget-icon\" />\n                    )}\n                    <span className=\"widget-label\">\n                        {tickerStatus.sports ? \"Stop Sports\" : \"Sports Scoreboard\"}\n                    </span>\n                </Button>\n\n                {/* Stocks Ticker */}\n                <Button\n                    variant=\"contained\"\n                    className={`widget-button ${tickerStatus.stocks ? 'active' : ''}`}\n                    onClick={handleStocksTicker}\n                    disabled={loading.stocks}\n                >\n                    {loading.stocks ? (\n                        <CircularProgress size={24} style={{ color: \"#fff\" }} />\n                    ) : tickerStatus.stocks ? (\n                        <Stop className=\"widget-icon\" />\n                    ) : (\n                        <TrendingUp className=\"widget-icon\" />\n                    )}\n                    <span className=\"widget-label\">\n                        {tickerStatus.stocks ? \"Stop Stocks\" : \"Stocks & Crypto\"}\n                    </span>\n                </Button>\n\n                {/* Weather Widget */}\n                <Button\n                    variant=\"contained\"\n                    className={`widget-button ${tickerStatus.weather ? 'active' : ''}`}\n                    onClick={handleWeatherWidget}\n                    disabled={loading.weather}\n                >\n                    {loading.weather ? (\n                        <CircularProgress size={24} style={{ color: \"#fff\" }} />\n                    ) : tickerStatus.weather ? (\n                        <Stop className=\"widget-icon\" />\n                    ) : (\n                        <WbSunny className=\"widget-icon\" />\n                    )}\n                    <span className=\"widget-label\">\n                        {tickerStatus.weather ? \"Stop Weather\" : \"Weather\"}\n                    </span>\n                </Button>\n\n                {/* News Ticker */}\n                <Button\n                    variant=\"contained\"\n                    className={`widget-button ${tickerStatus.news ? 'active' : ''}`}\n                    onClick={handleNewsTicker}\n                    disabled={loading.news}\n                >\n                    {loading.news ? (\n                        <CircularProgress size={24} style={{ color: \"#fff\" }} />\n                    ) : tickerStatus.news ? (\n                        <Stop className=\"widget-icon\" />\n                    ) : (\n                        <RssFeed className=\"widget-icon\" />\n                    )}\n                    <span className=\"widget-label\">\n                        {tickerStatus.news ? \"Stop News\" : \"News\"}\n                    </span>\n                </Button>\n\n                {/* Clock Widget */}\n                <Button\n                    variant=\"contained\"\n                    className={`widget-button ${tickerStatus.clock ? 'active' : ''}`}\n                    onClick={handleClockWidget}\n                    disabled={loading.clock}\n                >\n                    {loading.clock ? (\n                        <CircularProgress size={24} style={{ color: \"#fff\" }} />\n                    ) : tickerStatus.clock ? (\n                        <Stop className=\"widget-icon\" />\n                    ) : (\n                        <Schedule className=\"widget-icon\" />\n                    )}\n                    <span className=\"widget-label\">\n                        {tickerStatus.clock ? \"Stop Clock\" : \"Clock\"}\n                    </span>\n                </Button>\n\n                {/* Widget Settings */}\n                <Button\n                    variant=\"contained\"\n                    className=\"widget-button settings-button\"\n                    onClick={() => nav('/widget-settings')}\n                >\n                    <Settings className=\"widget-icon\" />\n                    <span className=\"widget-label\">Widget Settings</span>\n                </Button>\n            </div>\n        </div>\n    );\n};\n\nexport default WidgetsMenu;\n","import React, { useState, useEffect } from \"react\";\nimport { Button, CircularProgress, Switch, FormControlLabel } from \"@material-ui/core\";\nimport { PlayArrow, Stop, SportsBasketball } from \"@material-ui/icons\";\nimport toast from \"react-hot-toast\";\nimport { Select, CaretIcon, ModalCloseButton } from \"react-responsive-select\";\nimport { readSettings } from \"../../services/settings\";\nimport {\n    startSportsTicker,\n    stopSportsTicker,\n    getSportsTickerStatus,\n    updateSportsSetting,\n    startFavoritesTicker,\n} from \"../../services/sports\";\nimport { dispatchTickerStarted, onTickerStarted } from \"../../services/tickerEvents\";\n\ntype SportsSettings = {\n    sportLeagues: string;\n    sportTeamCodes: string;\n    sportTickerRefresh: number;\n    sportScrollSpeed: number;\n    sportFavoriteTeams: string;\n    sportTickerMode: \"league\" | \"favorites\";\n    sportDarkMode: boolean;\n};\n\n// Available leagues\nconst leagueOptions = [\n    { text: \"NFL\", value: \"nfl\", sport: \"football\" },\n    { text: \"NBA\", value: \"nba\", sport: \"basketball\" },\n    { text: \"MLB\", value: \"mlb\", sport: \"baseball\" },\n    { text: \"NHL\", value: \"nhl\", sport: \"hockey\" },\n    { text: \"NCAAF (College Football)\", value: \"college-football\", sport: \"football\" },\n    { text: \"NCAAB (College Basketball)\", value: \"mens-college-basketball\", sport: \"basketball\" },\n    { text: \"NCAAW (Women's Basketball)\", value: \"womens-college-basketball\", sport: \"basketball\" },\n    { text: \"WNBA\", value: \"wnba\", sport: \"basketball\" },\n    { text: \"MLS\", value: \"usa.1\", sport: \"soccer\" },\n    { text: \"EPL (Premier League)\", value: \"eng.1\", sport: \"soccer\" },\n    { text: \"La Liga (Spain)\", value: \"esp.1\", sport: \"soccer\" },\n    { text: \"Bundesliga (Germany)\", value: \"ger.1\", sport: \"soccer\" },\n    { text: \"Serie A (Italy)\", value: \"ita.1\", sport: \"soccer\" },\n    { text: \"Ligue 1 (France)\", value: \"fra.1\", sport: \"soccer\" },\n];\n\n// Team abbreviations by league (common teams)\nconst teamsByLeague: { [key: string]: { text: string; value: string }[] } = {\n    nfl: [\n        { text: \"Arizona Cardinals\", value: \"ARI\" },\n        { text: \"Atlanta Falcons\", value: \"ATL\" },\n        { text: \"Baltimore Ravens\", value: \"BAL\" },\n        { text: \"Buffalo Bills\", value: \"BUF\" },\n        { text: \"Carolina Panthers\", value: \"CAR\" },\n        { text: \"Chicago Bears\", value: \"CHI\" },\n        { text: \"Cincinnati Bengals\", value: \"CIN\" },\n        { text: \"Cleveland Browns\", value: \"CLE\" },\n        { text: \"Dallas Cowboys\", value: \"DAL\" },\n        { text: \"Denver Broncos\", value: \"DEN\" },\n        { text: \"Detroit Lions\", value: \"DET\" },\n        { text: \"Green Bay Packers\", value: \"GB\" },\n        { text: \"Houston Texans\", value: \"HOU\" },\n        { text: \"Indianapolis Colts\", value: \"IND\" },\n        { text: \"Jacksonville Jaguars\", value: \"JAX\" },\n        { text: \"Kansas City Chiefs\", value: \"KC\" },\n        { text: \"Las Vegas Raiders\", value: \"LV\" },\n        { text: \"Los Angeles Chargers\", value: \"LAC\" },\n        { text: \"Los Angeles Rams\", value: \"LAR\" },\n        { text: \"Miami Dolphins\", value: \"MIA\" },\n        { text: \"Minnesota Vikings\", value: \"MIN\" },\n        { text: \"New England Patriots\", value: \"NE\" },\n        { text: \"New Orleans Saints\", value: \"NO\" },\n        { text: \"New York Giants\", value: \"NYG\" },\n        { text: \"New York Jets\", value: \"NYJ\" },\n        { text: \"Philadelphia Eagles\", value: \"PHI\" },\n        { text: \"Pittsburgh Steelers\", value: \"PIT\" },\n        { text: \"San Francisco 49ers\", value: \"SF\" },\n        { text: \"Seattle Seahawks\", value: \"SEA\" },\n        { text: \"Tampa Bay Buccaneers\", value: \"TB\" },\n        { text: \"Tennessee Titans\", value: \"TEN\" },\n        { text: \"Washington Commanders\", value: \"WAS\" },\n    ],\n    nba: [\n        { text: \"Atlanta Hawks\", value: \"ATL\" },\n        { text: \"Boston Celtics\", value: \"BOS\" },\n        { text: \"Brooklyn Nets\", value: \"BKN\" },\n        { text: \"Charlotte Hornets\", value: \"CHA\" },\n        { text: \"Chicago Bulls\", value: \"CHI\" },\n        { text: \"Cleveland Cavaliers\", value: \"CLE\" },\n        { text: \"Dallas Mavericks\", value: \"DAL\" },\n        { text: \"Denver Nuggets\", value: \"DEN\" },\n        { text: \"Detroit Pistons\", value: \"DET\" },\n        { text: \"Golden State Warriors\", value: \"GS\" },\n        { text: \"Houston Rockets\", value: \"HOU\" },\n        { text: \"Indiana Pacers\", value: \"IND\" },\n        { text: \"Los Angeles Clippers\", value: \"LAC\" },\n        { text: \"Los Angeles Lakers\", value: \"LAL\" },\n        { text: \"Memphis Grizzlies\", value: \"MEM\" },\n        { text: \"Miami Heat\", value: \"MIA\" },\n        { text: \"Milwaukee Bucks\", value: \"MIL\" },\n        { text: \"Minnesota Timberwolves\", value: \"MIN\" },\n        { text: \"New Orleans Pelicans\", value: \"NO\" },\n        { text: \"New York Knicks\", value: \"NYK\" },\n        { text: \"Oklahoma City Thunder\", value: \"OKC\" },\n        { text: \"Orlando Magic\", value: \"ORL\" },\n        { text: \"Philadelphia 76ers\", value: \"PHI\" },\n        { text: \"Phoenix Suns\", value: \"PHX\" },\n        { text: \"Portland Trail Blazers\", value: \"POR\" },\n        { text: \"Sacramento Kings\", value: \"SAC\" },\n        { text: \"San Antonio Spurs\", value: \"SAS\" },\n        { text: \"Toronto Raptors\", value: \"TOR\" },\n        { text: \"Utah Jazz\", value: \"UTA\" },\n        { text: \"Washington Wizards\", value: \"WAS\" },\n    ],\n    mlb: [\n        { text: \"Arizona Diamondbacks\", value: \"ARI\" },\n        { text: \"Atlanta Braves\", value: \"ATL\" },\n        { text: \"Baltimore Orioles\", value: \"BAL\" },\n        { text: \"Boston Red Sox\", value: \"BOS\" },\n        { text: \"Chicago Cubs\", value: \"CHC\" },\n        { text: \"Chicago White Sox\", value: \"CHW\" },\n        { text: \"Cincinnati Reds\", value: \"CIN\" },\n        { text: \"Cleveland Guardians\", value: \"CLE\" },\n        { text: \"Colorado Rockies\", value: \"COL\" },\n        { text: \"Detroit Tigers\", value: \"DET\" },\n        { text: \"Houston Astros\", value: \"HOU\" },\n        { text: \"Kansas City Royals\", value: \"KC\" },\n        { text: \"Los Angeles Angels\", value: \"LAA\" },\n        { text: \"Los Angeles Dodgers\", value: \"LAD\" },\n        { text: \"Miami Marlins\", value: \"MIA\" },\n        { text: \"Milwaukee Brewers\", value: \"MIL\" },\n        { text: \"Minnesota Twins\", value: \"MIN\" },\n        { text: \"New York Mets\", value: \"NYM\" },\n        { text: \"New York Yankees\", value: \"NYY\" },\n        { text: \"Oakland Athletics\", value: \"OAK\" },\n        { text: \"Philadelphia Phillies\", value: \"PHI\" },\n        { text: \"Pittsburgh Pirates\", value: \"PIT\" },\n        { text: \"San Diego Padres\", value: \"SD\" },\n        { text: \"San Francisco Giants\", value: \"SF\" },\n        { text: \"Seattle Mariners\", value: \"SEA\" },\n        { text: \"St. Louis Cardinals\", value: \"STL\" },\n        { text: \"Tampa Bay Rays\", value: \"TB\" },\n        { text: \"Texas Rangers\", value: \"TEX\" },\n        { text: \"Toronto Blue Jays\", value: \"TOR\" },\n        { text: \"Washington Nationals\", value: \"WAS\" },\n    ],\n    nhl: [\n        { text: \"Anaheim Ducks\", value: \"ANA\" },\n        { text: \"Utah Hockey Club\", value: \"UTA\" },\n        { text: \"Boston Bruins\", value: \"BOS\" },\n        { text: \"Buffalo Sabres\", value: \"BUF\" },\n        { text: \"Calgary Flames\", value: \"CGY\" },\n        { text: \"Carolina Hurricanes\", value: \"CAR\" },\n        { text: \"Chicago Blackhawks\", value: \"CHI\" },\n        { text: \"Colorado Avalanche\", value: \"COL\" },\n        { text: \"Columbus Blue Jackets\", value: \"CBJ\" },\n        { text: \"Dallas Stars\", value: \"DAL\" },\n        { text: \"Detroit Red Wings\", value: \"DET\" },\n        { text: \"Edmonton Oilers\", value: \"EDM\" },\n        { text: \"Florida Panthers\", value: \"FLA\" },\n        { text: \"Los Angeles Kings\", value: \"LA\" },\n        { text: \"Minnesota Wild\", value: \"MIN\" },\n        { text: \"Montreal Canadiens\", value: \"MTL\" },\n        { text: \"Nashville Predators\", value: \"NSH\" },\n        { text: \"New Jersey Devils\", value: \"NJ\" },\n        { text: \"New York Islanders\", value: \"NYI\" },\n        { text: \"New York Rangers\", value: \"NYR\" },\n        { text: \"Ottawa Senators\", value: \"OTT\" },\n        { text: \"Philadelphia Flyers\", value: \"PHI\" },\n        { text: \"Pittsburgh Penguins\", value: \"PIT\" },\n        { text: \"San Jose Sharks\", value: \"SJ\" },\n        { text: \"Seattle Kraken\", value: \"SEA\" },\n        { text: \"St. Louis Blues\", value: \"STL\" },\n        { text: \"Tampa Bay Lightning\", value: \"TB\" },\n        { text: \"Toronto Maple Leafs\", value: \"TOR\" },\n        { text: \"Vancouver Canucks\", value: \"VAN\" },\n        { text: \"Vegas Golden Knights\", value: \"VGK\" },\n        { text: \"Washington Capitals\", value: \"WSH\" },\n        { text: \"Winnipeg Jets\", value: \"WPG\" },\n    ],\n    wnba: [\n        { text: \"Atlanta Dream\", value: \"ATL\" },\n        { text: \"Chicago Sky\", value: \"CHI\" },\n        { text: \"Connecticut Sun\", value: \"CONN\" },\n        { text: \"Dallas Wings\", value: \"DAL\" },\n        { text: \"Golden State Valkyries\", value: \"GS\" },\n        { text: \"Indiana Fever\", value: \"IND\" },\n        { text: \"Las Vegas Aces\", value: \"LV\" },\n        { text: \"Los Angeles Sparks\", value: \"LA\" },\n        { text: \"Minnesota Lynx\", value: \"MIN\" },\n        { text: \"New York Liberty\", value: \"NY\" },\n        { text: \"Phoenix Mercury\", value: \"PHX\" },\n        { text: \"Seattle Storm\", value: \"SEA\" },\n        { text: \"Washington Mystics\", value: \"WAS\" },\n    ],\n    \"usa.1\": [\n        { text: \"Atlanta United\", value: \"ATL\" },\n        { text: \"Austin FC\", value: \"ATX\" },\n        { text: \"Charlotte FC\", value: \"CLT\" },\n        { text: \"Chicago Fire\", value: \"CHI\" },\n        { text: \"FC Cincinnati\", value: \"CIN\" },\n        { text: \"Colorado Rapids\", value: \"COL\" },\n        { text: \"Columbus Crew\", value: \"CLB\" },\n        { text: \"D.C. United\", value: \"DC\" },\n        { text: \"FC Dallas\", value: \"DAL\" },\n        { text: \"Houston Dynamo\", value: \"HOU\" },\n        { text: \"Inter Miami\", value: \"MIA\" },\n        { text: \"LA Galaxy\", value: \"LA\" },\n        { text: \"Los Angeles FC\", value: \"LAFC\" },\n        { text: \"Minnesota United\", value: \"MIN\" },\n        { text: \"CF Montreal\", value: \"MTL\" },\n        { text: \"Nashville SC\", value: \"NSH\" },\n        { text: \"New England Revolution\", value: \"NE\" },\n        { text: \"New York City FC\", value: \"NYC\" },\n        { text: \"New York Red Bulls\", value: \"RBNY\" },\n        { text: \"Orlando City\", value: \"ORL\" },\n        { text: \"Philadelphia Union\", value: \"PHI\" },\n        { text: \"Portland Timbers\", value: \"POR\" },\n        { text: \"Real Salt Lake\", value: \"RSL\" },\n        { text: \"San Jose Earthquakes\", value: \"SJ\" },\n        { text: \"Seattle Sounders\", value: \"SEA\" },\n        { text: \"Sporting Kansas City\", value: \"SKC\" },\n        { text: \"St. Louis City SC\", value: \"STL\" },\n        { text: \"Toronto FC\", value: \"TOR\" },\n        { text: \"Vancouver Whitecaps\", value: \"VAN\" },\n    ],\n    \"eng.1\": [\n        { text: \"Arsenal\", value: \"ARS\" },\n        { text: \"Aston Villa\", value: \"AVL\" },\n        { text: \"Bournemouth\", value: \"BOU\" },\n        { text: \"Brentford\", value: \"BRE\" },\n        { text: \"Brighton\", value: \"BHA\" },\n        { text: \"Chelsea\", value: \"CHE\" },\n        { text: \"Crystal Palace\", value: \"CRY\" },\n        { text: \"Everton\", value: \"EVE\" },\n        { text: \"Fulham\", value: \"FUL\" },\n        { text: \"Ipswich Town\", value: \"IPS\" },\n        { text: \"Leicester City\", value: \"LEI\" },\n        { text: \"Liverpool\", value: \"LIV\" },\n        { text: \"Manchester City\", value: \"MCI\" },\n        { text: \"Manchester United\", value: \"MUN\" },\n        { text: \"Newcastle United\", value: \"NEW\" },\n        { text: \"Nottingham Forest\", value: \"NFO\" },\n        { text: \"Southampton\", value: \"SOU\" },\n        { text: \"Tottenham Hotspur\", value: \"TOT\" },\n        { text: \"West Ham United\", value: \"WHU\" },\n        { text: \"Wolverhampton\", value: \"WOL\" },\n    ],\n    \"esp.1\": [\n        { text: \"Athletic Bilbao\", value: \"ATH\" },\n        { text: \"Atltico Madrid\", value: \"ATM\" },\n        { text: \"Barcelona\", value: \"BAR\" },\n        { text: \"Celta Vigo\", value: \"CEL\" },\n        { text: \"Espanyol\", value: \"ESP\" },\n        { text: \"Getafe\", value: \"GET\" },\n        { text: \"Girona\", value: \"GIR\" },\n        { text: \"Las Palmas\", value: \"LPA\" },\n        { text: \"Legans\", value: \"LEG\" },\n        { text: \"Mallorca\", value: \"MLL\" },\n        { text: \"Osasuna\", value: \"OSA\" },\n        { text: \"Rayo Vallecano\", value: \"RAY\" },\n        { text: \"Real Betis\", value: \"BET\" },\n        { text: \"Real Madrid\", value: \"RMA\" },\n        { text: \"Real Sociedad\", value: \"RSO\" },\n        { text: \"Real Valladolid\", value: \"VLL\" },\n        { text: \"Sevilla\", value: \"SEV\" },\n        { text: \"Valencia\", value: \"VAL\" },\n        { text: \"Villarreal\", value: \"VIL\" },\n    ],\n    \"ger.1\": [\n        { text: \"Augsburg\", value: \"AUG\" },\n        { text: \"Bayern Munich\", value: \"BAY\" },\n        { text: \"Bochum\", value: \"BOC\" },\n        { text: \"Borussia Dortmund\", value: \"DOR\" },\n        { text: \"Borussia M'gladbach\", value: \"BMG\" },\n        { text: \"Eintracht Frankfurt\", value: \"SGE\" },\n        { text: \"Freiburg\", value: \"FRE\" },\n        { text: \"Heidenheim\", value: \"HDH\" },\n        { text: \"Hoffenheim\", value: \"TSG\" },\n        { text: \"Holstein Kiel\", value: \"KIE\" },\n        { text: \"Mainz 05\", value: \"MAI\" },\n        { text: \"RB Leipzig\", value: \"RBL\" },\n        { text: \"St. Pauli\", value: \"STP\" },\n        { text: \"Stuttgart\", value: \"VFB\" },\n        { text: \"Union Berlin\", value: \"FCU\" },\n        { text: \"Werder Bremen\", value: \"WER\" },\n        { text: \"Wolfsburg\", value: \"WOB\" },\n    ],\n    \"ita.1\": [\n        { text: \"AC Milan\", value: \"MIL\" },\n        { text: \"Atalanta\", value: \"ATA\" },\n        { text: \"Bologna\", value: \"BOL\" },\n        { text: \"Cagliari\", value: \"CAG\" },\n        { text: \"Como\", value: \"COM\" },\n        { text: \"Empoli\", value: \"EMP\" },\n        { text: \"Fiorentina\", value: \"FIO\" },\n        { text: \"Genoa\", value: \"GEN\" },\n        { text: \"Inter Milan\", value: \"INT\" },\n        { text: \"Juventus\", value: \"JUV\" },\n        { text: \"Lazio\", value: \"LAZ\" },\n        { text: \"Lecce\", value: \"LEC\" },\n        { text: \"Monza\", value: \"MON\" },\n        { text: \"Napoli\", value: \"NAP\" },\n        { text: \"Parma\", value: \"PAR\" },\n        { text: \"Roma\", value: \"ROM\" },\n        { text: \"Torino\", value: \"TOR\" },\n        { text: \"Udinese\", value: \"UDI\" },\n        { text: \"Venezia\", value: \"VEN\" },\n        { text: \"Verona\", value: \"VER\" },\n    ],\n    \"fra.1\": [\n        { text: \"Angers\", value: \"ANG\" },\n        { text: \"Auxerre\", value: \"AUX\" },\n        { text: \"Brest\", value: \"BRE\" },\n        { text: \"Le Havre\", value: \"HAV\" },\n        { text: \"Lens\", value: \"LEN\" },\n        { text: \"Lille\", value: \"LIL\" },\n        { text: \"Lyon\", value: \"LYO\" },\n        { text: \"Marseille\", value: \"MAR\" },\n        { text: \"Monaco\", value: \"MON\" },\n        { text: \"Montpellier\", value: \"MTP\" },\n        { text: \"Nantes\", value: \"NAN\" },\n        { text: \"Nice\", value: \"NIC\" },\n        { text: \"Paris Saint-Germain\", value: \"PSG\" },\n        { text: \"Reims\", value: \"REI\" },\n        { text: \"Rennes\", value: \"REN\" },\n        { text: \"Saint-tienne\", value: \"STE\" },\n        { text: \"Strasbourg\", value: \"STR\" },\n        { text: \"Toulouse\", value: \"TOU\" },\n    ],\n};\n\n// Refresh presets - values are in SECONDS to match backend storage\nconst refreshPresets = [\n    { text: \"15 seconds\", value: \"15\" },\n    { text: \"30 seconds\", value: \"30\" },\n    { text: \"1 minute\", value: \"60\" },\n    { text: \"2 minutes\", value: \"120\" },\n    { text: \"3 minutes\", value: \"180\" },\n    { text: \"4 minutes\", value: \"240\" },\n    { text: \"5 minutes\", value: \"300\" },\n    { text: \"15 minutes\", value: \"900\" },\n    { text: \"30 minutes\", value: \"1800\" },\n    { text: \"1 hour\", value: \"3600\" },\n    { text: \"2 hours\", value: \"7200\" },\n];\n\n// Scroll speed presets (same as stock ticker)\nconst scrollSpeedPresets = [\n    { text: \"Slow\", value: \"2\" },\n    { text: \"Normal\", value: \"5\" },\n    { text: \"Fast\", value: \"10\" },\n    { text: \"Very Fast\", value: \"15\" },\n];\n\n// Favorite team type\ntype FavoriteTeam = {\n    league: string;\n    team: string;\n};\n\ninterface SportsTickerWidgetProps {\n    onTickerStart?: () => void;\n}\n\nconst SportsTickerWidget: React.FC<SportsTickerWidgetProps> = ({ onTickerStart }) => {\n    const [settings, setSettings] = useState<SportsSettings>({\n        sportLeagues: \"\",\n        sportTeamCodes: \"\",\n        sportTickerRefresh: 60, // Default 1 minute (stored in seconds)\n        sportScrollSpeed: 5,    // Default \"Normal\" speed\n        sportFavoriteTeams: \"\",\n        sportTickerMode: \"league\",\n        sportDarkMode: false,\n    });\n    const [isTickerRunning, setIsTickerRunning] = useState(false);\n    const [selectedLeague, setSelectedLeague] = useState<string>(\"\");\n    const [selectedTeams, setSelectedTeams] = useState<string[]>([]);\n    const [scrollSpeed, setScrollSpeed] = useState<number>(5); // Default \"Normal\" speed\n    const [favoriteTeams, setFavoriteTeams] = useState<FavoriteTeam[]>([]);\n    const [mode, setMode] = useState<\"league\" | \"favorites\">(\"league\");\n    const [favLeagueSelect, setFavLeagueSelect] = useState<string>(\"\");\n    const [isLoading, setIsLoading] = useState<boolean>(false);\n    const [settingsLoaded, setSettingsLoaded] = useState<boolean>(false);\n\n    // Parse favorite teams string into array\n    const parseFavoriteTeams = (str: string): FavoriteTeam[] => {\n        if (!str) return [];\n        return str.split(\",\").map(part => {\n            const [league, team] = part.split(\":\");\n            return { league: league?.toLowerCase() || \"\", team: team?.toUpperCase() || \"\" };\n        }).filter(f => f.league && f.team);\n    };\n\n    // Convert favorite teams array to string\n    const favoritesToString = (favs: FavoriteTeam[]): string => {\n        return favs.map(f => `${f.league}:${f.team}`).join(\",\");\n    };\n\n    // Convert seconds to dropdown value string - presets are now in seconds\n    const secondsToValueString = (seconds: number): string => {\n        // Match to closest preset (all in seconds now)\n        const presets = [15, 30, 60, 120, 180, 240, 300, 900, 1800, 3600, 7200];\n        const closest = presets.reduce((prev, curr) =>\n            Math.abs(curr - seconds) < Math.abs(prev - seconds) ? curr : prev\n        );\n        return closest.toString();\n    };\n\n    // Load settings on mount\n    useEffect(() => {\n        // First load saved settings, then check ticker status\n        readSettings()\n            .then((data: any) => {\n                if (data) {\n                    const sportLeagues = data.sportLeagues || \"\";\n                    const sportTeamCodes = data.sportTeamCodes || \"\";\n                    const sportFavoriteTeams = data.sportFavoriteTeams || \"\";\n                    const sportScrollSpeed = data.sportScrollSpeed || 5;  // Default \"Normal\" speed\n                    const sportTickerRefresh = data.sportTickerRefresh || 60;  // Default 1 minute (seconds)\n                    const sportTickerMode = (data.sportTickerMode === \"favorites\" ? \"favorites\" : \"league\") as \"league\" | \"favorites\";\n                    const sportDarkMode = data.sportDarkMode === true;\n\n                    console.log(\"[SportsTickerWidget] Loaded settings:\", {\n                        sportLeagues,\n                        sportTeamCodes,\n                        sportScrollSpeed,\n                        sportTickerRefresh,\n                        sportTickerMode,\n                        sportFavoriteTeams,\n                        sportDarkMode\n                    });\n\n                    setSettings({\n                        sportLeagues,\n                        sportTeamCodes,\n                        sportTickerRefresh,\n                        sportScrollSpeed,\n                        sportFavoriteTeams,\n                        sportTickerMode,\n                        sportDarkMode,\n                    });\n                    setSelectedLeague(sportLeagues);\n                    setScrollSpeed(sportScrollSpeed);\n                    setMode(sportTickerMode);\n                    if (sportTeamCodes) {\n                        setSelectedTeams(sportTeamCodes.split(\",\").map((s: string) => s.trim()).filter((s: string) => s));\n                    }\n                    if (sportFavoriteTeams) {\n                        setFavoriteTeams(parseFavoriteTeams(sportFavoriteTeams));\n                    }\n                    setSettingsLoaded(true);\n                }\n\n                // After loading settings, check ticker running status (don't override settings)\n                return getSportsTickerStatus();\n            })\n            .then((statusData: any) => {\n                if (statusData) {\n                    setIsTickerRunning(statusData.running || false);\n                }\n            })\n            .catch((err) => {\n                console.error(\"[SportsTickerWidget] Error loading settings:\", err);\n                setIsTickerRunning(false);\n            });\n\n        // Listen for other tickers starting - reset our button state\n        const unsubscribe = onTickerStarted((tickerType) => {\n            if (tickerType !== 'sports') {\n                setIsTickerRunning(false);\n            }\n        });\n\n        return () => unsubscribe();\n    }, []);\n\n    // Get teams for selected league\n    const getTeamOptions = () => {\n        if (!selectedLeague) return [];\n        const teams = teamsByLeague[selectedLeague];\n        if (!teams) return [];\n        return [{ text: \"All Teams (Show All Games)\", value: \"\" }, ...teams];\n    };\n\n    // Get teams for favorite league selection\n    const getFavTeamOptions = () => {\n        if (!favLeagueSelect) return [];\n        const teams = teamsByLeague[favLeagueSelect];\n        if (!teams) return [];\n        return [{ text: \"Select a Team...\", value: \"\" }, ...teams];\n    };\n\n    // Restart ticker with current settings\n    // Note: refresh is in seconds, but API expects minutes\n    const restartTicker = async (league: string, teams: string[], refreshSeconds: number, speed?: number) => {\n        if (!league) return;\n\n        try {\n            const refreshMinutes = refreshSeconds / 60;\n            await startSportsTicker(league, teams, refreshMinutes, speed ?? scrollSpeed);\n            setIsTickerRunning(true);\n            dispatchTickerStarted('sports');\n        } catch (error) {\n            console.error(\"Failed to restart sports ticker\", error);\n        }\n    };\n\n    // Poll for ready status - returns when ticker is ready or times out\n    const waitForReady = async (maxWaitMs: number = 30000): Promise<boolean> => {\n        const pollInterval = 500; // Poll every 500ms\n        const maxAttempts = Math.floor(maxWaitMs / pollInterval);\n\n        for (let i = 0; i < maxAttempts; i++) {\n            try {\n                const status = await getSportsTickerStatus();\n                if (status.ready) {\n                    return true;\n                }\n            } catch (err) {\n                // Ignore errors during polling\n            }\n            await new Promise(resolve => setTimeout(resolve, pollInterval));\n        }\n        return false; // Timed out\n    };\n\n    const handleStartTicker = async () => {\n        // Convert settings.sportTickerRefresh (seconds) to minutes for API\n        const refreshMinutes = settings.sportTickerRefresh / 60;\n\n        if (mode === \"favorites\") {\n            if (favoriteTeams.length === 0) {\n                toast.error(\"Please add at least one favorite team\");\n                return;\n            }\n            const favsStr = favoritesToString(favoriteTeams);\n            setIsLoading(true);\n            try {\n                await startFavoritesTicker(favsStr, refreshMinutes, scrollSpeed);\n                setIsTickerRunning(true);\n                dispatchTickerStarted('sports');\n                onTickerStart?.();\n                // Wait for pre-render to complete\n                await waitForReady();\n                toast.success(\"Sports Ticker Started!\");\n            } catch (error) {\n                toast.error(\"Failed to start ticker\");\n            } finally {\n                setIsLoading(false);\n            }\n        } else {\n            if (!selectedLeague) {\n                toast.error(\"Please select a league\");\n                return;\n            }\n\n            setIsLoading(true);\n            try {\n                await startSportsTicker(selectedLeague, selectedTeams, refreshMinutes, scrollSpeed);\n                setIsTickerRunning(true);\n                dispatchTickerStarted('sports');\n                onTickerStart?.();\n                // Wait for pre-render to complete\n                await waitForReady();\n                toast.success(\"Sports Ticker Started!\");\n            } catch (error) {\n                toast.error(\"Failed to start ticker\");\n            } finally {\n                setIsLoading(false);\n            }\n        }\n    };\n\n    const handleStopTicker = () => {\n        toast.promise(stopSportsTicker(), {\n            loading: \"Stopping Sports Ticker...\",\n            success: () => {\n                setIsTickerRunning(false);\n                return \"Sports Ticker Stopped\";\n            },\n            error: \"Failed to stop ticker\",\n        });\n    };\n\n    const updateSetting = (key: string, value: string) => {\n        return updateSportsSetting(key, value);\n    };\n\n    // Handle league change\n    const handleLeagueChange = (changes: any) => {\n        const league = changes.value;\n        setSelectedLeague(league);\n        setSelectedTeams([]); // Clear teams when league changes\n\n        const newSettings = { ...settings, sportLeagues: league };\n        setSettings(newSettings);\n        updateSetting(\"sportLeagues\", league);\n        updateSetting(\"sportTeamCodes\", \"\");\n\n        // Auto-restart if running\n        if (isTickerRunning && mode === \"league\") {\n            restartTicker(league, [], settings.sportTickerRefresh);\n        }\n    };\n\n    // Handle team selection\n    const handleTeamChange = (changes: any) => {\n        const team = changes.value;\n        if (!team) {\n            // \"All Teams\" selected\n            setSelectedTeams([]);\n            const newSettings = { ...settings, sportTeamCodes: \"\" };\n            setSettings(newSettings);\n            updateSetting(\"sportTeamCodes\", \"\");\n\n            if (isTickerRunning && mode === \"league\") {\n                restartTicker(selectedLeague, [], settings.sportTickerRefresh);\n            }\n            return;\n        }\n\n        // Add team if not already in list\n        if (selectedTeams.includes(team)) {\n            toast.error(\"Team already selected\");\n            return;\n        }\n\n        const newTeams = [...selectedTeams, team];\n        setSelectedTeams(newTeams);\n\n        const teamsStr = newTeams.join(\",\");\n        const newSettings = { ...settings, sportTeamCodes: teamsStr };\n        setSettings(newSettings);\n        updateSetting(\"sportTeamCodes\", teamsStr);\n\n        // Auto-restart if running\n        if (isTickerRunning && mode === \"league\") {\n            restartTicker(selectedLeague, newTeams, settings.sportTickerRefresh);\n        }\n    };\n\n    // Remove a team\n    const handleRemoveTeam = (team: string) => {\n        const newTeams = selectedTeams.filter((t) => t !== team);\n        setSelectedTeams(newTeams);\n\n        const teamsStr = newTeams.join(\",\");\n        const newSettings = { ...settings, sportTeamCodes: teamsStr };\n        setSettings(newSettings);\n        updateSetting(\"sportTeamCodes\", teamsStr);\n\n        // Auto-restart if running\n        if (isTickerRunning && selectedLeague && mode === \"league\") {\n            restartTicker(selectedLeague, newTeams, settings.sportTickerRefresh);\n        }\n    };\n\n    // Handle refresh change - values are already in seconds from preset\n    const handleRefreshChange = (changes: any) => {\n        const refreshSeconds = parseInt(changes.value, 10);\n        const newSettings = { ...settings, sportTickerRefresh: refreshSeconds };\n        setSettings(newSettings);\n        // Save as seconds to backend\n        updateSetting(\"sportTickerRefresh\", refreshSeconds.toString());\n\n        // Auto-restart if running - convert seconds to minutes for API\n        if (isTickerRunning) {\n            const refreshMinutes = refreshSeconds / 60;\n            if (mode === \"favorites\") {\n                const favsStr = favoritesToString(favoriteTeams);\n                startFavoritesTicker(favsStr, refreshMinutes, scrollSpeed);\n            } else if (selectedLeague) {\n                restartTicker(selectedLeague, selectedTeams, refreshMinutes);\n            }\n        }\n    };\n\n    // Handle scroll speed change (from dropdown)\n    // Note: Speed change is applied in real-time by the backend without restart\n    const handleScrollSpeedChange = (changes: any) => {\n        const speed = parseInt(changes.value, 10);\n        setScrollSpeed(speed);\n        const newSettings = { ...settings, sportScrollSpeed: speed };\n        setSettings(newSettings);\n        updateSetting(\"sportScrollSpeed\", changes.value);\n        // No restart needed - backend reads scroll speed dynamically from config\n    };\n\n    // Get scroll speed display value for dropdown\n    const getScrollSpeedValue = (speed: number): string => {\n        // Find closest preset\n        const presets = [2, 5, 10, 15];\n        const closest = presets.reduce((prev, curr) =>\n            Math.abs(curr - speed) < Math.abs(prev - speed) ? curr : prev\n        );\n        return closest.toString();\n    };\n\n    // Add favorite team\n    const handleAddFavorite = (changes: any) => {\n        const team = changes.value;\n        if (!team || !favLeagueSelect) return;\n\n        // Check if already exists\n        const exists = favoriteTeams.some(f => f.league === favLeagueSelect && f.team === team);\n        if (exists) {\n            toast.error(\"Team already in favorites\");\n            return;\n        }\n\n        const newFavorites = [...favoriteTeams, { league: favLeagueSelect, team }];\n        setFavoriteTeams(newFavorites);\n\n        const favsStr = favoritesToString(newFavorites);\n        setSettings({ ...settings, sportFavoriteTeams: favsStr });\n        updateSetting(\"sportFavoriteTeams\", favsStr);\n    };\n\n    // Remove favorite team\n    const handleRemoveFavorite = (fav: FavoriteTeam) => {\n        const newFavorites = favoriteTeams.filter(f => !(f.league === fav.league && f.team === fav.team));\n        setFavoriteTeams(newFavorites);\n\n        const favsStr = favoritesToString(newFavorites);\n        setSettings({ ...settings, sportFavoriteTeams: favsStr });\n        updateSetting(\"sportFavoriteTeams\", favsStr);\n    };\n\n    // Get team name for display\n    const getTeamDisplayName = (teamCode: string, league?: string): string => {\n        const leagueToUse = league || selectedLeague;\n        if (!leagueToUse) return teamCode;\n        const teams = teamsByLeague[leagueToUse];\n        if (!teams) return teamCode;\n        const team = teams.find((t) => t.value === teamCode);\n        return team ? team.text : teamCode;\n    };\n\n    // Get league display name\n    const getLeagueDisplayName = (leagueCode: string): string => {\n        const league = leagueOptions.find(l => l.value === leagueCode);\n        return league ? league.text : leagueCode.toUpperCase();\n    };\n\n    // Handle dark mode toggle\n    const handleDarkModeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const enabled = event.target.checked;\n        const newSettings = { ...settings, sportDarkMode: enabled };\n        setSettings(newSettings);\n        updateSetting(\"sportDarkMode\", enabled ? \"yes\" : \"no\");\n    };\n\n    // Is single team mode (for scroll speed slider disable state)\n    // Only true when EXACTLY 1 team is selected - multiple teams should use scrolling cards view\n    const isSingleTeamMode = mode === \"league\" && selectedTeams.length === 1;\n\n    return (\n        <div className=\"widget-section\">\n            <h3 className=\"section-title\">\n                <SportsBasketball style={{ marginRight: 8, verticalAlign: \"middle\" }} />\n                Live Sports Scores\n            </h3>\n\n            {/* Mode Toggle */}\n            <div className=\"setting-row\" style={{ marginBottom: \"1rem\" }}>\n                <div style={{ display: \"flex\", gap: \"1rem\" }}>\n                    <Button\n                        variant={mode === \"league\" ? \"contained\" : \"outlined\"}\n                        onClick={() => {\n                            setMode(\"league\");\n                            setSettings({ ...settings, sportTickerMode: \"league\" });\n                            updateSetting(\"sportTickerMode\", \"league\");\n                        }}\n                        style={{\n                            backgroundColor: mode === \"league\" ? \"#4169E1\" : \"transparent\",\n                            color: \"#fff\",\n                            borderColor: \"#4169E1\",\n                        }}\n                    >\n                        Single League\n                    </Button>\n                    <Button\n                        variant={mode === \"favorites\" ? \"contained\" : \"outlined\"}\n                        onClick={() => {\n                            setMode(\"favorites\");\n                            setSettings({ ...settings, sportTickerMode: \"favorites\" });\n                            updateSetting(\"sportTickerMode\", \"favorites\");\n                        }}\n                        style={{\n                            backgroundColor: mode === \"favorites\" ? \"#4169E1\" : \"transparent\",\n                            color: \"#fff\",\n                            borderColor: \"#4169E1\",\n                        }}\n                    >\n                        My Favorite Teams\n                    </Button>\n                </div>\n            </div>\n\n            {mode === \"league\" ? (\n                <>\n                    {/* League and Team Selection on same row */}\n                    <div className=\"setting-row\" style={{ display: \"flex\", gap: \"1rem\", flexWrap: \"wrap\" }}>\n                        <div style={{ flex: 1, minWidth: \"180px\" }}>\n                            <label className=\"setting-label\">Select League</label>\n                            <Select\n                                key={`league-select-${settingsLoaded}-${selectedLeague}`}\n                                name=\"league\"\n                                options={[\n                                    { text: \"Select a League...\", value: \"\" },\n                                    ...leagueOptions.map((l) => ({ text: l.text, value: l.value })),\n                                ]}\n                                caretIcon={<CaretIcon />}\n                                modalCloseButton={<ModalCloseButton />}\n                                onChange={handleLeagueChange}\n                                selectedValue={selectedLeague}\n                            />\n                        </div>\n\n                        {/* Team Selection (only show if league is selected) */}\n                        {selectedLeague && teamsByLeague[selectedLeague] && (\n                            <div style={{ flex: 1, minWidth: \"180px\" }}>\n                                <label className=\"setting-label\">Filter by Team (optional)</label>\n                                <Select\n                                    key={`team-select-${selectedLeague}`}\n                                    name=\"team\"\n                                    options={getTeamOptions()}\n                                    caretIcon={<CaretIcon />}\n                                    modalCloseButton={<ModalCloseButton />}\n                                    onChange={handleTeamChange}\n                                    selectedValue=\"\"\n                                />\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Selected Teams Chips */}\n                    {selectedTeams.length > 0 && (\n                        <div className=\"symbol-chips\">\n                            {selectedTeams.map((team) => (\n                                <div key={team} className=\"symbol-chip stock\">\n                                    {getTeamDisplayName(team)}\n                                    <span\n                                        onClick={() => handleRemoveTeam(team)}\n                                        className=\"chip-close\"\n                                        style={{ marginLeft: 8, cursor: \"pointer\" }}\n                                    >\n                                        &times;\n                                    </span>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </>\n            ) : (\n                <>\n                    {/* Favorites Mode */}\n                    <div className=\"setting-row\">\n                        <label className=\"setting-label\">Add Favorite Teams (across any league)</label>\n                        <div style={{ display: \"flex\", gap: \"0.5rem\", flexWrap: \"wrap\" }}>\n                            <div style={{ flex: 1, minWidth: \"150px\" }}>\n                                <Select\n                                    name=\"favLeague\"\n                                    options={[\n                                        { text: \"Select League...\", value: \"\" },\n                                        ...leagueOptions.filter(l => teamsByLeague[l.value]).map((l) => ({ text: l.text, value: l.value })),\n                                    ]}\n                                    caretIcon={<CaretIcon />}\n                                    modalCloseButton={<ModalCloseButton />}\n                                    onChange={(changes: any) => setFavLeagueSelect(changes.value)}\n                                    selectedValue={favLeagueSelect}\n                                />\n                            </div>\n                            {favLeagueSelect && (\n                                <div style={{ flex: 1, minWidth: \"150px\" }}>\n                                    <Select\n                                        key={`fav-team-select-${favLeagueSelect}`}\n                                        name=\"favTeam\"\n                                        options={getFavTeamOptions()}\n                                        caretIcon={<CaretIcon />}\n                                        modalCloseButton={<ModalCloseButton />}\n                                        onChange={handleAddFavorite}\n                                        selectedValue=\"\"\n                                    />\n                                </div>\n                            )}\n                        </div>\n                    </div>\n\n                    {/* Favorite Teams Chips */}\n                    {favoriteTeams.length > 0 && (\n                        <div className=\"symbol-chips\">\n                            {favoriteTeams.map((fav, idx) => (\n                                <div key={`${fav.league}-${fav.team}-${idx}`} className=\"symbol-chip crypto\">\n                                    <span style={{ fontSize: \"0.7rem\", opacity: 0.7 }}>\n                                        {getLeagueDisplayName(fav.league)}:\n                                    </span>{\" \"}\n                                    {getTeamDisplayName(fav.team, fav.league)}\n                                    <span\n                                        onClick={() => handleRemoveFavorite(fav)}\n                                        className=\"chip-close\"\n                                        style={{ marginLeft: 8, cursor: \"pointer\" }}\n                                    >\n                                        &times;\n                                    </span>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n\n                    {/* Note about game availability */}\n                    <p style={{ fontSize: \"0.8rem\", color: \"#aaa\", marginTop: \"0.5rem\", fontStyle: \"italic\" }}>\n                        Note: Teams will only appear if they have a game today or an upcoming game\n                    </p>\n                </>\n            )}\n\n            {/* Settings Row - Refresh Interval, Scroll Speed, and Dark Mode */}\n            <div className=\"setting-row\" style={{ display: \"flex\", gap: \"1rem\", flexWrap: \"wrap\", alignItems: \"flex-end\" }}>\n                {/* Refresh Interval */}\n                <div style={{ flex: 1, minWidth: \"150px\" }}>\n                    <label className=\"setting-label\">Refresh Interval</label>\n                    <Select\n                        key={`refresh-select-${settingsLoaded}-${settings.sportTickerRefresh}`}\n                        selectedValue={secondsToValueString(settings.sportTickerRefresh)}\n                        name=\"refreshInterval\"\n                        options={refreshPresets}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleRefreshChange}\n                    />\n                </div>\n\n                {/* Scroll Speed (only show if not single team mode) */}\n                {!isSingleTeamMode && (\n                    <div style={{ flex: 1, minWidth: \"150px\" }}>\n                        <label className=\"setting-label\">Scroll Speed</label>\n                        <Select\n                            key={`scroll-select-${settingsLoaded}-${scrollSpeed}`}\n                            selectedValue={getScrollSpeedValue(scrollSpeed)}\n                            name=\"scrollSpeed\"\n                            options={scrollSpeedPresets}\n                            caretIcon={<CaretIcon />}\n                            modalCloseButton={<ModalCloseButton />}\n                            onChange={handleScrollSpeedChange}\n                        />\n                    </div>\n                )}\n\n                {/* Dark Mode Toggle */}\n                <div style={{ minWidth: \"120px\" }}>\n                    <FormControlLabel\n                        control={\n                            <Switch\n                                checked={settings.sportDarkMode}\n                                onChange={handleDarkModeChange}\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"Dark Mode\"\n                        style={{ color: \"#fff\", marginLeft: 0 }}\n                    />\n                </div>\n            </div>\n\n            {/* Start Button */}\n            <Button\n                variant=\"contained\"\n                onClick={isTickerRunning ? handleStopTicker : handleStartTicker}\n                disabled={isLoading || (mode === \"league\" ? !selectedLeague : favoriteTeams.length === 0)}\n                className={`start-button ${isTickerRunning ? \"stop\" : \"\"}`}\n            >\n                {isLoading ? (\n                    <CircularProgress size={24} style={{ color: \"#fff\", marginRight: 8 }} />\n                ) : isTickerRunning ? (\n                    <Stop />\n                ) : (\n                    <PlayArrow />\n                )}\n                {isLoading ? \"PLEASE WAIT...\" : isTickerRunning ? \"STOP SPORTS TICKER\" : \"START SPORTS TICKER\"}\n            </Button>\n        </div>\n    );\n};\n\nexport default SportsTickerWidget;\n","import axios from \"axios\";\nimport { getDeviceUrl } from \".\";\n\n// Start the stock ticker\nexport const startStockTicker = (\n    symbols: string[],\n    speed: number = 3,\n    fps: number = 60,\n    refresh: number = 5,\n    color: string = \"FFFFFF\",\n    font: string = \"LiberationSans-Bold\"\n): Promise<any> => {\n    const symbolsParam = symbols.join(\",\");\n    const requestUrl = `${getDeviceUrl(\"\")}/stocks/start?symbols=${encodeURIComponent(symbolsParam)}&speed=${speed}&fps=${fps}&refresh=${refresh}&color=${color}&font=${encodeURIComponent(font)}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Stop the stock ticker\nexport const stopStockTicker = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/stocks/stop`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Get stock ticker status\nexport const getStockTickerStatus = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/stocks/status`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Get stock quotes without starting the ticker\nexport const getStockQuotes = (symbols: string[]): Promise<any> => {\n    const symbolsParam = symbols.join(\",\");\n    const requestUrl = `${getDeviceUrl(\"\")}/stocks/quotes?symbols=${encodeURIComponent(symbolsParam)}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Update a stock ticker setting\nexport const updateStockSetting = (key: string, value: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=${key}&value=${encodeURIComponent(value)}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { Close, PlayArrow, TrendingUp } from \"@material-ui/icons\";\nimport toast from \"react-hot-toast\";\nimport { Select, CaretIcon, ModalCloseButton } from \"react-responsive-select\";\nimport { FontList } from \"../../const/fonts\";\nimport { readSettings } from \"../../services/settings\";\nimport {\n    startStockTicker,\n    stopStockTicker,\n    getStockTickerStatus,\n    updateStockSetting,\n} from \"../../services/stocks\";\nimport { dispatchTickerStarted, onTickerStarted } from \"../../services/tickerEvents\";\n\ntype StockSettings = {\n    stockSymbols: string;\n    stockTickerRefresh: number;\n    stockTickerColor: string;\n    stockTickerFont: string;\n    stockScrollSpeed: number;\n};\n\n// Popular crypto options\nconst popularCrypto = [\n    { text: \"Bitcoin (BTC)\", value: \"BTC-USD\" },\n    { text: \"Ethereum (ETH)\", value: \"ETH-USD\" },\n    { text: \"Tether (USDT)\", value: \"USDT-USD\" },\n    { text: \"Binance Coin (BNB)\", value: \"BNB-USD\" },\n    { text: \"Solana (SOL)\", value: \"SOL-USD\" },\n    { text: \"Ripple (XRP)\", value: \"XRP-USD\" },\n    { text: \"USD Coin (USDC)\", value: \"USDC-USD\" },\n    { text: \"Cardano (ADA)\", value: \"ADA-USD\" },\n    { text: \"Avalanche (AVAX)\", value: \"AVAX-USD\" },\n    { text: \"Dogecoin (DOGE)\", value: \"DOGE-USD\" },\n];\n\n// List of crypto symbols for chip styling\nconst cryptoSymbols = popularCrypto.map(c => c.value);\n\n// Helper to check if symbol is crypto\nconst isCryptoSymbol = (symbol: string): boolean => {\n    return symbol.includes(\"-USD\") || cryptoSymbols.includes(symbol.toUpperCase());\n};\n\n// Popular stock options\nconst popularStocks = [\n    { text: \"Apple (AAPL)\", value: \"AAPL\" },\n    { text: \"Microsoft (MSFT)\", value: \"MSFT\" },\n    { text: \"Google (GOOG)\", value: \"GOOG\" },\n    { text: \"Amazon (AMZN)\", value: \"AMZN\" },\n    { text: \"Tesla (TSLA)\", value: \"TSLA\" },\n    { text: \"Meta (META)\", value: \"META\" },\n    { text: \"NVIDIA (NVDA)\", value: \"NVDA\" },\n    { text: \"Netflix (NFLX)\", value: \"NFLX\" },\n    { text: \"AMD (AMD)\", value: \"AMD\" },\n    { text: \"Intel (INTC)\", value: \"INTC\" },\n];\n\n// Color presets matching the screenshot style\nconst colorPresets = [\n    { name: \"White\", value: \"FFFFFF\" },\n    { name: \"Red\", value: \"FF0000\" },\n    { name: \"Green\", value: \"00FF00\" },\n    { name: \"Blue\", value: \"0000FF\" },\n    { name: \"Yellow\", value: \"FFFF00\" },\n    { name: \"Cyan\", value: \"00FFFF\" },\n    { name: \"Magenta\", value: \"FF00FF\" },\n    { name: \"Orange\", value: \"FFA500\" },\n];\n\n// Speed presets matching the screenshot\nconst speedPresets = [\n    { text: \"Slow\", value: \"2\" },\n    { text: \"Normal\", value: \"5\" },\n    { text: \"Fast\", value: \"10\" },\n    { text: \"Very Fast\", value: \"15\" },\n];\n\n// Refresh presets matching the screenshot\nconst refreshPresets = [\n    { text: \"1 minute\", value: \"1\" },\n    { text: \"5 minutes\", value: \"5\" },\n    { text: \"15 minutes\", value: \"15\" },\n    { text: \"30 minutes\", value: \"30\" },\n];\n\ninterface StockTickerWidgetProps {\n    onTickerStart?: () => void;\n}\n\nconst StockTickerWidget: React.FC<StockTickerWidgetProps> = ({ onTickerStart }) => {\n    const [settings, setSettings] = useState<StockSettings>({\n        stockSymbols: \"MSFT,GOOG,AMZN,BTC-USD\",\n        stockTickerRefresh: 5,\n        stockTickerColor: \"FFFFFF\",\n        stockTickerFont: \"LiberationSans-Bold\",\n        stockScrollSpeed: 5,\n    });\n    const [isTickerRunning, setIsTickerRunning] = useState(false);\n    const [symbolInput, setSymbolInput] = useState(\"\");\n    const [symbols, setSymbols] = useState<string[]>([]);\n    const [settingsLoaded, setSettingsLoaded] = useState<boolean>(false);\n\n    // Load settings on mount\n    useEffect(() => {\n        readSettings()\n            .then((data: any) => {\n                if (data) {\n                    const stockSymbols = data.stockSymbols || \"MSFT,GOOG,AMZN,BTC-USD\";\n                    setSettings({\n                        stockSymbols,\n                        stockTickerRefresh: data.stockTickerRefresh || 5,\n                        stockTickerColor: data.stockTickerColor || \"FFFFFF\",\n                        stockTickerFont: data.stockTickerFont || \"LiberationSans-Bold\",\n                        stockScrollSpeed: data.stockScrollSpeed || 5,\n                    });\n                    setSymbols(stockSymbols.split(\",\").map((s: string) => s.trim()).filter((s: string) => s));\n                    setSettingsLoaded(true);\n                }\n            })\n            .catch(console.error);\n\n        // Check ticker status\n        getStockTickerStatus()\n            .then((data: any) => {\n                setIsTickerRunning(data.running || false);\n            })\n            .catch(() => setIsTickerRunning(false));\n\n        // Listen for other tickers starting - reset our button state\n        const unsubscribe = onTickerStarted((tickerType) => {\n            if (tickerType !== 'stocks') {\n                setIsTickerRunning(false);\n            }\n        });\n\n        return () => unsubscribe();\n    }, []);\n\n    // Get font options for dropdown\n    const getFontOptions = () => {\n        return FontList.map((font) => ({\n            value: font,\n            text: font,\n        }));\n    };\n\n    // Restart ticker with current settings\n    const restartTicker = async (newSettings: StockSettings, newSymbols?: string[]) => {\n        const syms = newSymbols || symbols;\n        if (syms.length === 0) return;\n\n        try {\n            await startStockTicker(\n                syms,\n                newSettings.stockScrollSpeed,\n                60,\n                newSettings.stockTickerRefresh,\n                newSettings.stockTickerColor,\n                newSettings.stockTickerFont\n            );\n            setIsTickerRunning(true);\n            dispatchTickerStarted('stocks');\n        } catch (error) {\n            console.error(\"Failed to restart ticker\", error);\n        }\n    };\n\n    const handleStartTicker = () => {\n        if (symbols.length === 0) {\n            toast.error(\"Please add at least one stock symbol\");\n            return;\n        }\n\n        toast.promise(\n            startStockTicker(\n                symbols,\n                settings.stockScrollSpeed,\n                60,\n                settings.stockTickerRefresh,\n                settings.stockTickerColor,\n                settings.stockTickerFont\n            ),\n            {\n                loading: \"Starting Stock Ticker...\",\n                success: () => {\n                    setIsTickerRunning(true);\n                    dispatchTickerStarted('stocks');\n                    onTickerStart?.();\n                    return \"Stock Ticker Started!\";\n                },\n                error: \"Failed to start ticker\",\n            }\n        );\n    };\n\n    const handleStopTicker = () => {\n        toast.promise(stopStockTicker(), {\n            loading: \"Stopping Stock Ticker...\",\n            success: () => {\n                setIsTickerRunning(false);\n                return \"Stock Ticker Stopped\";\n            },\n            error: \"Failed to stop ticker\",\n        });\n    };\n\n    const updateSetting = (key: string, value: string) => {\n        return updateStockSetting(key, value);\n    };\n\n    // Add a symbol (from input or dropdown)\n    const addSymbol = (newSymbol: string) => {\n        if (!newSymbol) return;\n        const symbol = newSymbol.trim().toUpperCase();\n        if (symbols.includes(symbol)) {\n            toast.error(\"Symbol already added\");\n            return;\n        }\n\n        const newSymbols = [...symbols, symbol];\n        setSymbols(newSymbols);\n\n        const symbolsStr = newSymbols.join(\",\");\n        setSettings({ ...settings, stockSymbols: symbolsStr });\n        updateSetting(\"stockSymbols\", symbolsStr);\n\n        // Auto-restart if running\n        if (isTickerRunning) {\n            restartTicker(settings, newSymbols);\n        }\n    };\n\n    // Add a new symbol from input\n    const handleAddSymbol = () => {\n        addSymbol(symbolInput);\n        setSymbolInput(\"\");\n    };\n\n    // Handle crypto dropdown selection\n    const handleAddCrypto = (changes: any) => {\n        if (changes.value) {\n            addSymbol(changes.value);\n        }\n    };\n\n    // Handle stock dropdown selection\n    const handleAddStock = (changes: any) => {\n        if (changes.value) {\n            addSymbol(changes.value);\n        }\n    };\n\n    // Remove a symbol\n    const handleRemoveSymbol = (symbol: string) => {\n        const newSymbols = symbols.filter((s) => s !== symbol);\n        setSymbols(newSymbols);\n\n        const symbolsStr = newSymbols.join(\",\");\n        setSettings({ ...settings, stockSymbols: symbolsStr });\n        updateSetting(\"stockSymbols\", symbolsStr);\n\n        // Auto-restart if running\n        if (isTickerRunning && newSymbols.length > 0) {\n            restartTicker(settings, newSymbols);\n        } else if (newSymbols.length === 0) {\n            handleStopTicker();\n        }\n    };\n\n    // Handle speed change from dropdown\n    const handleSpeedChange = (changes: any) => {\n        const speed = parseInt(changes.value, 10);\n        const newSettings = { ...settings, stockScrollSpeed: speed };\n        setSettings(newSettings);\n        updateSetting(\"stockScrollSpeed\", speed.toString());\n        // No restart needed - backend reads scroll speed dynamically from config\n    };\n\n    // Handle refresh change from dropdown\n    const handleRefreshChange = (changes: any) => {\n        const refresh = parseInt(changes.value, 10);\n        const newSettings = { ...settings, stockTickerRefresh: refresh };\n        setSettings(newSettings);\n        updateSetting(\"stockTickerRefresh\", refresh.toString());\n\n        // Auto-restart if running\n        if (isTickerRunning) {\n            restartTicker(newSettings);\n        }\n    };\n\n    // Handle color change from dropdown\n    const handleColorChange = (changes: any) => {\n        const color = changes.value;\n        const newSettings = { ...settings, stockTickerColor: color };\n        setSettings(newSettings);\n        updateSetting(\"stockTickerColor\", color);\n\n        // Auto-restart if running\n        if (isTickerRunning) {\n            restartTicker(newSettings);\n        }\n    };\n\n    // Handle font change from dropdown\n    const handleFontChange = (changes: any) => {\n        const font = changes.value;\n        const newSettings = { ...settings, stockTickerFont: font };\n        setSettings(newSettings);\n        updateSetting(\"stockTickerFont\", font);\n\n        // Auto-restart if running\n        if (isTickerRunning) {\n            restartTicker(newSettings);\n        }\n    };\n\n    // Handle keypress on input\n    const handleKeyPress = (e: React.KeyboardEvent) => {\n        if (e.key === \"Enter\") {\n            handleAddSymbol();\n        }\n    };\n\n    return (\n        <div className=\"widget-section\">\n            <h3 className=\"section-title\">\n                <TrendingUp style={{ marginRight: 8, verticalAlign: \"middle\" }} />\n                Stocks & Crypto\n            </h3>\n\n            {/* Dropdowns Row */}\n            <div className=\"dropdown-row\">\n                <div className=\"dropdown-item\">\n                    <Select\n                        name=\"addCrypto\"\n                        options={[\n                            { text: \"Add Popular Crypto\", value: \"\" },\n                            ...popularCrypto,\n                        ]}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleAddCrypto}\n                        selectedValue=\"\"\n                    />\n                </div>\n                <div className=\"dropdown-item\">\n                    <Select\n                        name=\"addStock\"\n                        options={[\n                            { text: \"Add Popular Stock\", value: \"\" },\n                            ...popularStocks,\n                        ]}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleAddStock}\n                        selectedValue=\"\"\n                    />\n                </div>\n            </div>\n\n            {/* Symbol Input Row */}\n            <div className=\"input-row\">\n                <input\n                    type=\"text\"\n                    value={symbolInput}\n                    onChange={(e) => setSymbolInput(e.target.value)}\n                    onKeyPress={handleKeyPress}\n                    placeholder=\"Enter stock or crypto symbol\"\n                    className=\"symbol-input\"\n                />\n                <Button\n                    variant=\"contained\"\n                    onClick={handleAddSymbol}\n                    className=\"add-button\"\n                >\n                    ADD\n                </Button>\n            </div>\n\n            {/* Symbol Chips */}\n            <div className=\"symbol-chips\">\n                {symbols.map((symbol) => (\n                    <div\n                        key={symbol}\n                        className={`symbol-chip ${isCryptoSymbol(symbol) ? \"crypto\" : \"stock\"}`}\n                    >\n                        {symbol}\n                        <Close\n                            onClick={() => handleRemoveSymbol(symbol)}\n                            className=\"chip-close\"\n                        />\n                    </div>\n                ))}\n            </div>\n\n            {/* Settings Row */}\n            <div className=\"settings-grid\">\n                {/* Refresh Interval */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Refresh Interval</label>\n                    <Select\n                        key={`stock-refresh-${settingsLoaded}-${settings.stockTickerRefresh}`}\n                        selectedValue={settings.stockTickerRefresh.toString()}\n                        name=\"refreshInterval\"\n                        options={refreshPresets}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleRefreshChange}\n                    />\n                </div>\n\n                {/* Text Color */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Text Color</label>\n                    <Select\n                        key={`stock-color-${settingsLoaded}-${settings.stockTickerColor}`}\n                        selectedValue={settings.stockTickerColor}\n                        name=\"textColor\"\n                        options={colorPresets.map((c) => ({\n                            value: c.value,\n                            text: c.name,\n                            markup: (\n                                <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                                    <div\n                                        style={{\n                                            width: 16,\n                                            height: 16,\n                                            backgroundColor: `#${c.value}`,\n                                            marginRight: 8,\n                                            borderRadius: 2,\n                                            border: c.value === \"FFFFFF\" ? \"1px solid #666\" : \"none\",\n                                        }}\n                                    />\n                                    {c.name}\n                                </div>\n                            ),\n                        }))}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleColorChange}\n                    />\n                </div>\n\n                {/* Scrolling Speed */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Scrolling Speed</label>\n                    <Select\n                        key={`stock-speed-${settingsLoaded}-${settings.stockScrollSpeed}`}\n                        selectedValue={settings.stockScrollSpeed.toString()}\n                        name=\"scrollSpeed\"\n                        options={speedPresets}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleSpeedChange}\n                    />\n                </div>\n\n                {/* Font */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Font</label>\n                    <Select\n                        key={`stock-font-${settingsLoaded}-${settings.stockTickerFont}`}\n                        selectedValue={settings.stockTickerFont}\n                        name=\"tickerFont\"\n                        options={getFontOptions()}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleFontChange}\n                    />\n                </div>\n            </div>\n\n            {/* Start Button */}\n            <Button\n                variant=\"contained\"\n                onClick={isTickerRunning ? handleStopTicker : handleStartTicker}\n                disabled={symbols.length === 0}\n                className={`start-button ${isTickerRunning ? \"stop\" : \"\"}`}\n            >\n                <PlayArrow />\n                {isTickerRunning ? \"STOP STOCKS & CRYPTO\" : \"START STOCKS & CRYPTO\"}\n            </Button>\n        </div>\n    );\n};\n\nexport default StockTickerWidget;\n","import axios from \"axios\";\nimport { getDeviceUrl } from \".\";\n\n// Start the weather widget\nexport const startWeatherWidget = (\n    location: string,\n    units: string = \"fahrenheit\",\n    showUnits: boolean = true,\n    forecast: string = \"1day\",\n    refresh: number = 1800\n): Promise<any> => {\n    const params = new URLSearchParams({\n        location: location,\n        units: units,\n        showUnits: showUnits ? \"yes\" : \"no\",\n        forecast: forecast,\n        refresh: refresh.toString(),\n    });\n    const requestUrl = `${getDeviceUrl(\"\")}/weather/start?${params.toString()}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Stop the weather widget\nexport const stopWeatherWidget = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/weather/stop`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Get weather widget status\nexport const getWeatherStatus = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/weather/status`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Fetch weather data without starting the widget\nexport const fetchWeatherData = (location: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/weather/fetch?location=${encodeURIComponent(location)}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Update a weather setting\nexport const updateWeatherSetting = (key: string, value: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=${key}&value=${encodeURIComponent(value)}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Switch } from \"@material-ui/core\";\nimport { Close, PlayArrow, Cloud } from \"@material-ui/icons\";\nimport toast from \"react-hot-toast\";\nimport { Select, CaretIcon, ModalCloseButton } from \"react-responsive-select\";\nimport { readSettings } from \"../../services/settings\";\nimport {\n    startWeatherWidget,\n    stopWeatherWidget,\n    getWeatherStatus,\n    updateWeatherSetting,\n} from \"../../services/weather\";\nimport { dispatchTickerStarted, onTickerStarted } from \"../../services/tickerEvents\";\n\ntype WeatherSettings = {\n    weatherLocation: string;\n    weatherUnits: string;\n    weatherShowUnits: boolean;\n    weatherForecast: string;\n    weatherRefresh: number;\n};\n\n// Refresh presets - values in seconds\nconst refreshPresets = [\n    { text: \"5 minutes\", value: \"300\" },\n    { text: \"15 minutes\", value: \"900\" },\n    { text: \"30 minutes\", value: \"1800\" },\n    { text: \"1 hour\", value: \"3600\" },\n    { text: \"2 hours\", value: \"7200\" },\n    { text: \"8 hours\", value: \"28800\" },\n];\n\n// Forecast mode presets\nconst forecastPresets = [\n    { text: \"Today (Hourly)\", value: \"1day\" },\n    { text: \"3-Day Forecast\", value: \"3day\" },\n];\n\n// Unit presets\nconst unitPresets = [\n    { text: \"Fahrenheit (F)\", value: \"fahrenheit\" },\n    { text: \"Celsius (C)\", value: \"celsius\" },\n];\n\ninterface WeatherWidgetProps {\n    onTickerStart?: () => void;\n}\n\nconst WeatherWidget: React.FC<WeatherWidgetProps> = ({ onTickerStart }) => {\n    const [settings, setSettings] = useState<WeatherSettings>({\n        weatherLocation: \"\",\n        weatherUnits: \"fahrenheit\",\n        weatherShowUnits: true,\n        weatherForecast: \"1day\",\n        weatherRefresh: 1800,\n    });\n    const [isWidgetRunning, setIsWidgetRunning] = useState(false);\n    const [locationInput, setLocationInput] = useState(\"\");\n    const [settingsLoaded, setSettingsLoaded] = useState<boolean>(false);\n    const [isLoading, setIsLoading] = useState(false);\n\n    // Load settings on mount\n    useEffect(() => {\n        readSettings()\n            .then((data: any) => {\n                if (data) {\n                    const weatherLocation = data.weatherLocation || \"\";\n                    setSettings({\n                        weatherLocation,\n                        weatherUnits: data.weatherUnits || \"fahrenheit\",\n                        weatherShowUnits: data.weatherShowUnits !== false,\n                        weatherForecast: data.weatherForecast || \"1day\",\n                        weatherRefresh: data.weatherRefresh || 1800,\n                    });\n                    setLocationInput(weatherLocation);\n                    setSettingsLoaded(true);\n                }\n            })\n            .catch(console.error);\n\n        // Check widget status\n        getWeatherStatus()\n            .then((data: any) => {\n                setIsWidgetRunning(data.running || false);\n            })\n            .catch(() => setIsWidgetRunning(false));\n\n        // Listen for other tickers starting - reset our button state\n        const unsubscribe = onTickerStarted((tickerType) => {\n            if (tickerType !== 'weather') {\n                setIsWidgetRunning(false);\n            }\n        });\n\n        return () => unsubscribe();\n    }, []);\n\n    // Convert seconds to dropdown value string\n    const secondsToValueString = (seconds: number): string => {\n        const presets = [300, 900, 1800, 3600, 7200, 28800];\n        const closest = presets.reduce((prev, curr) =>\n            Math.abs(curr - seconds) < Math.abs(prev - seconds) ? curr : prev\n        );\n        return closest.toString();\n    };\n\n    const handleStartWidget = async () => {\n        const location = locationInput.trim();\n        if (!location) {\n            toast.error(\"Please enter a location (city name or ZIP code)\");\n            return;\n        }\n\n        setIsLoading(true);\n        try {\n            await startWeatherWidget(\n                location,\n                settings.weatherUnits,\n                settings.weatherShowUnits,\n                settings.weatherForecast,\n                settings.weatherRefresh\n            );\n            setIsWidgetRunning(true);\n            dispatchTickerStarted('weather');\n            onTickerStart?.();\n\n            // Save location\n            setSettings({ ...settings, weatherLocation: location });\n            toast.success(\"Weather Widget Started!\");\n        } catch (error) {\n            toast.error(\"Failed to start weather widget\");\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const handleStopWidget = async () => {\n        setIsLoading(true);\n        try {\n            await stopWeatherWidget();\n            setIsWidgetRunning(false);\n            toast.success(\"Weather Widget Stopped\");\n        } catch (error) {\n            toast.error(\"Failed to stop weather widget\");\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const handleSetLocation = () => {\n        const location = locationInput.trim();\n        if (!location) {\n            toast.error(\"Please enter a location\");\n            return;\n        }\n\n        updateWeatherSetting(\"weatherLocation\", location);\n        setSettings({ ...settings, weatherLocation: location });\n        toast.success(\"Location saved!\");\n\n        // If widget is running, restart with new location\n        if (isWidgetRunning) {\n            handleStartWidget();\n        }\n    };\n\n    const handleUnitsChange = (changes: any) => {\n        const units = changes.value;\n        const newSettings = { ...settings, weatherUnits: units };\n        setSettings(newSettings);\n        updateWeatherSetting(\"weatherUnits\", units);\n\n        // If widget is running, restart with new units\n        if (isWidgetRunning) {\n            startWeatherWidget(\n                settings.weatherLocation,\n                units,\n                settings.weatherShowUnits,\n                settings.weatherForecast,\n                settings.weatherRefresh\n            );\n        }\n    };\n\n    const handleShowUnitsToggle = () => {\n        const newShowUnits = !settings.weatherShowUnits;\n        const newSettings = { ...settings, weatherShowUnits: newShowUnits };\n        setSettings(newSettings);\n        updateWeatherSetting(\"weatherShowUnits\", newShowUnits ? \"yes\" : \"no\");\n\n        // If widget is running, restart\n        if (isWidgetRunning) {\n            startWeatherWidget(\n                settings.weatherLocation,\n                settings.weatherUnits,\n                newShowUnits,\n                settings.weatherForecast,\n                settings.weatherRefresh\n            );\n        }\n    };\n\n    const handleForecastChange = (changes: any) => {\n        const forecast = changes.value;\n        const newSettings = { ...settings, weatherForecast: forecast };\n        setSettings(newSettings);\n        updateWeatherSetting(\"weatherForecast\", forecast);\n\n        // If widget is running, restart with new forecast mode\n        if (isWidgetRunning) {\n            startWeatherWidget(\n                settings.weatherLocation,\n                settings.weatherUnits,\n                settings.weatherShowUnits,\n                forecast,\n                settings.weatherRefresh\n            );\n        }\n    };\n\n    const handleRefreshChange = (changes: any) => {\n        const refreshSeconds = parseInt(changes.value, 10);\n        const newSettings = { ...settings, weatherRefresh: refreshSeconds };\n        setSettings(newSettings);\n        updateWeatherSetting(\"weatherRefresh\", refreshSeconds.toString());\n\n        // If widget is running, restart with new refresh\n        if (isWidgetRunning) {\n            startWeatherWidget(\n                settings.weatherLocation,\n                settings.weatherUnits,\n                settings.weatherShowUnits,\n                settings.weatherForecast,\n                refreshSeconds\n            );\n        }\n    };\n\n    return (\n        <div className=\"widget-section\">\n            <h3 className=\"section-title\">\n                <Cloud style={{ marginRight: 8, verticalAlign: \"middle\" }} />\n                Weather Widget\n            </h3>\n\n            {/* All settings on one row */}\n            <div className=\"settings-grid\">\n                {/* Location Input */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">\n                        {settings.weatherLocation\n                            ? `Location: ${settings.weatherLocation}`\n                            : \"Location\"}\n                    </label>\n                    <input\n                        type=\"text\"\n                        className=\"symbol-input\"\n                        placeholder=\"ZIP or city\"\n                        value={locationInput}\n                        onChange={(e) => setLocationInput(e.target.value)}\n                        onKeyPress={(e) => {\n                            if (e.key === \"Enter\") {\n                                handleSetLocation();\n                            }\n                        }}\n                    />\n                </div>\n\n                {/* Temperature Unit */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Unit</label>\n                    <Select\n                        key={`units-select-${settingsLoaded}`}\n                        selectedValue={settings.weatherUnits}\n                        name=\"temperatureUnits\"\n                        options={unitPresets}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleUnitsChange}\n                    />\n                </div>\n\n                {/* Display Units Toggle */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Show F/C</label>\n                    <Switch\n                        checked={settings.weatherShowUnits}\n                        onChange={handleShowUnitsToggle}\n                        color=\"primary\"\n                    />\n                </div>\n\n                {/* Forecast Mode */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Forecast</label>\n                    <Select\n                        key={`forecast-select-${settingsLoaded}`}\n                        selectedValue={settings.weatherForecast}\n                        name=\"forecastMode\"\n                        options={forecastPresets}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleForecastChange}\n                    />\n                </div>\n\n                {/* Refresh Interval */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Refresh</label>\n                    <Select\n                        key={`refresh-select-${settingsLoaded}-${settings.weatherRefresh}`}\n                        selectedValue={secondsToValueString(settings.weatherRefresh)}\n                        name=\"refreshInterval\"\n                        options={refreshPresets}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleRefreshChange}\n                    />\n                </div>\n            </div>\n\n            {/* Start/Stop Button */}\n            <Button\n                variant=\"contained\"\n                className={`start-button ${isWidgetRunning ? \"stop\" : \"\"}`}\n                onClick={isWidgetRunning ? handleStopWidget : handleStartWidget}\n                disabled={isLoading || (!isWidgetRunning && !locationInput.trim())}\n            >\n                {isWidgetRunning ? (\n                    <Close />\n                ) : (\n                    <PlayArrow />\n                )}\n                {isLoading\n                    ? \"PLEASE WAIT...\"\n                    : isWidgetRunning\n                    ? \"STOP WEATHER\"\n                    : \"START WEATHER\"}\n            </Button>\n        </div>\n    );\n};\n\nexport default WeatherWidget;\n","import axios from \"axios\";\nimport { getDeviceUrl } from \".\";\n\n// Start the news ticker\nexport const startNewsTicker = (\n    sources: string, // comma-separated list of source keys\n    customURL: string = \"\",\n    speed: number = 5,\n    fps: number = 60,\n    refresh: number = 5,\n    color: string = \"FFFFFF\",\n    font: string = \"LiberationSans-Regular\"\n): Promise<any> => {\n    let requestUrl = `${getDeviceUrl(\"\")}/news/start?sources=${encodeURIComponent(sources)}&speed=${speed}&fps=${fps}&refresh=${refresh}&color=${color}&font=${encodeURIComponent(font)}`;\n\n    if (sources.includes(\"custom\") && customURL) {\n        requestUrl += `&customURL=${encodeURIComponent(customURL)}`;\n    }\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Stop the news ticker\nexport const stopNewsTicker = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/news/stop`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Get news ticker status\nexport const getNewsTickerStatus = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/news/status`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Get available news sources\nexport const getNewsSources = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/news/sources`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Fetch news without starting the ticker\nexport const fetchNews = (source: string, customURL: string = \"\"): Promise<any> => {\n    let requestUrl = `${getDeviceUrl(\"\")}/news/fetch?source=${encodeURIComponent(source)}`;\n\n    if (source === \"custom\" && customURL) {\n        requestUrl += `&customURL=${encodeURIComponent(customURL)}`;\n    }\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Update a news ticker setting\nexport const updateNewsSetting = (key: string, value: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=${key}&value=${encodeURIComponent(value)}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Button, CircularProgress } from \"@material-ui/core\";\nimport { Close, PlayArrow, RssFeed, Stop } from \"@material-ui/icons\";\nimport toast from \"react-hot-toast\";\nimport { Select, CaretIcon, ModalCloseButton } from \"react-responsive-select\";\nimport { FontList } from \"../../const/fonts\";\nimport { readSettings } from \"../../services/settings\";\nimport {\n    startNewsTicker,\n    stopNewsTicker,\n    getNewsTickerStatus,\n    updateNewsSetting,\n} from \"../../services/news\";\nimport { dispatchTickerStarted, onTickerStarted } from \"../../services/tickerEvents\";\n\ntype NewsSettings = {\n    newsSources: string[]; // Array of source keys\n    newsCustomURL: string;\n    newsTickerRefresh: number;\n    newsTickerColor: string;\n    newsTickerFont: string;\n    newsScrollSpeed: number;\n};\n\n// News source categories and options\nconst newsSourceCategories = {\n    \"World News\": [\n        { text: \"BBC News\", value: \"bbc\" },\n        { text: \"Reuters\", value: \"reuters\" },\n        { text: \"AP News\", value: \"ap\" },\n        { text: \"NPR News\", value: \"npr\" },\n        { text: \"The Guardian\", value: \"guardian\" },\n    ],\n    \"US News\": [\n        { text: \"CNN\", value: \"cnn\" },\n        { text: \"Fox News\", value: \"foxnews\" },\n        { text: \"NY Times\", value: \"nytimes\" },\n        { text: \"Washington Post\", value: \"washpost\" },\n        { text: \"USA Today\", value: \"usatoday\" },\n    ],\n    \"Tech News\": [\n        { text: \"Hacker News\", value: \"hackernews\" },\n        { text: \"TechCrunch\", value: \"techcrunch\" },\n        { text: \"The Verge\", value: \"theverge\" },\n        { text: \"Ars Technica\", value: \"arstechnica\" },\n        { text: \"Wired\", value: \"wired\" },\n    ],\n    \"Gaming News\": [\n        { text: \"IGN\", value: \"ign\" },\n        { text: \"Kotaku\", value: \"kotaku\" },\n        { text: \"Polygon\", value: \"polygon\" },\n        { text: \"GameSpot\", value: \"gamespot\" },\n    ],\n    \"Finance News\": [\n        { text: \"MarketWatch\", value: \"marketwatch\" },\n        { text: \"CNBC\", value: \"cnbc\" },\n        { text: \"Bloomberg\", value: \"bloomberg\" },\n    ],\n    \"Custom\": [\n        { text: \"Custom RSS Feed\", value: \"custom\" },\n    ],\n};\n\n// Flatten for dropdown - only show sources not already selected\nconst getAvailableSourceOptions = (selectedSources: string[]) => {\n    const options: { text: string; value: string }[] = [];\n    Object.entries(newsSourceCategories).forEach(([category, sources]) => {\n        sources.forEach((source) => {\n            if (!selectedSources.includes(source.value)) {\n                options.push({\n                    text: `${source.text}`,\n                    value: source.value,\n                });\n            }\n        });\n    });\n    return options;\n};\n\n// Get source display name\nconst getSourceName = (sourceKey: string): string => {\n    for (const sources of Object.values(newsSourceCategories)) {\n        const source = sources.find((s) => s.value === sourceKey);\n        if (source) return source.text;\n    }\n    return sourceKey;\n};\n\n// Color presets\nconst colorPresets = [\n    { name: \"White\", value: \"FFFFFF\" },\n    { name: \"Red\", value: \"FF0000\" },\n    { name: \"Green\", value: \"00FF00\" },\n    { name: \"Blue\", value: \"0000FF\" },\n    { name: \"Yellow\", value: \"FFFF00\" },\n    { name: \"Cyan\", value: \"00FFFF\" },\n    { name: \"Magenta\", value: \"FF00FF\" },\n    { name: \"Orange\", value: \"FFA500\" },\n];\n\n// Speed presets\nconst speedPresets = [\n    { text: \"Slow\", value: \"2\" },\n    { text: \"Normal\", value: \"5\" },\n    { text: \"Fast\", value: \"10\" },\n    { text: \"Very Fast\", value: \"15\" },\n];\n\n// Refresh presets (in minutes)\nconst refreshPresets = [\n    { text: \"1 minute\", value: \"1\" },\n    { text: \"5 minutes\", value: \"5\" },\n    { text: \"15 minutes\", value: \"15\" },\n    { text: \"30 minutes\", value: \"30\" },\n];\n\ninterface NewsWidgetProps {\n    onTickerStart?: () => void;\n}\n\nconst NewsWidget: React.FC<NewsWidgetProps> = ({ onTickerStart }) => {\n    const [settings, setSettings] = useState<NewsSettings>({\n        newsSources: [\"bbc\"],\n        newsCustomURL: \"\",\n        newsTickerRefresh: 5,\n        newsTickerColor: \"FFFFFF\",\n        newsTickerFont: \"LiberationSans-Regular\",\n        newsScrollSpeed: 5,\n    });\n    const [isTickerRunning, setIsTickerRunning] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [customURLInput, setCustomURLInput] = useState(\"\");\n    const [settingsLoaded, setSettingsLoaded] = useState<boolean>(false);\n\n    // Load settings on mount\n    useEffect(() => {\n        readSettings()\n            .then((data: any) => {\n                if (data) {\n                    // Parse newsSources from comma-separated string\n                    const sourcesStr = data.newsSources || \"bbc\";\n                    const sourcesArray = sourcesStr.split(\",\").map((s: string) => s.trim()).filter((s: string) => s);\n                    const newsCustomURL = data.newsCustomURL || \"\";\n                    setSettings({\n                        newsSources: sourcesArray.length > 0 ? sourcesArray : [\"bbc\"],\n                        newsCustomURL,\n                        newsTickerRefresh: data.newsTickerRefresh || 5,\n                        newsTickerColor: data.newsTickerColor || \"FFFFFF\",\n                        newsTickerFont: data.newsTickerFont || \"LiberationSans-Regular\",\n                        newsScrollSpeed: data.newsScrollSpeed || 5,\n                    });\n                    setCustomURLInput(newsCustomURL);\n                    setSettingsLoaded(true);\n                }\n            })\n            .catch(console.error);\n\n        // Check ticker status\n        getNewsTickerStatus()\n            .then((data: any) => {\n                setIsTickerRunning(data.running || false);\n            })\n            .catch(() => setIsTickerRunning(false));\n\n        // Listen for other tickers starting - reset our button state\n        const unsubscribe = onTickerStarted((tickerType) => {\n            if (tickerType !== 'news') {\n                setIsTickerRunning(false);\n            }\n        });\n\n        return () => unsubscribe();\n    }, []);\n\n    // Get font options for dropdown\n    const getFontOptions = () => {\n        return FontList.map((font) => ({\n            value: font,\n            text: font,\n        }));\n    };\n\n    // Convert sources array to comma-separated string\n    const sourcesToString = (sources: string[]): string => {\n        return sources.join(\",\");\n    };\n\n    // Restart ticker with current settings\n    const restartTicker = async (newSettings: NewsSettings) => {\n        try {\n            const customURL = newSettings.newsSources.includes(\"custom\") ? newSettings.newsCustomURL : \"\";\n            await startNewsTicker(\n                sourcesToString(newSettings.newsSources),\n                customURL,\n                newSettings.newsScrollSpeed,\n                60,\n                newSettings.newsTickerRefresh,\n                newSettings.newsTickerColor,\n                newSettings.newsTickerFont\n            );\n            setIsTickerRunning(true);\n            dispatchTickerStarted('news');\n        } catch (error) {\n            console.error(\"Failed to restart ticker\", error);\n        }\n    };\n\n    const handleStartTicker = async () => {\n        if (settings.newsSources.length === 0) {\n            toast.error(\"Please add at least one news source\");\n            return;\n        }\n\n        if (settings.newsSources.includes(\"custom\") && !customURLInput.trim()) {\n            toast.error(\"Please enter a custom RSS feed URL\");\n            return;\n        }\n\n        const customURL = settings.newsSources.includes(\"custom\") ? customURLInput.trim() : \"\";\n\n        setIsLoading(true);\n\n        try {\n            await startNewsTicker(\n                sourcesToString(settings.newsSources),\n                customURL,\n                settings.newsScrollSpeed,\n                60,\n                settings.newsTickerRefresh,\n                settings.newsTickerColor,\n                settings.newsTickerFont\n            );\n            setIsTickerRunning(true);\n            setIsLoading(false);\n            dispatchTickerStarted('news');\n            onTickerStart?.();\n            toast.success(\"News Ticker Started!\");\n        } catch (error) {\n            setIsLoading(false);\n            toast.error(\"Failed to start ticker\");\n        }\n    };\n\n    const handleStopTicker = () => {\n        toast.promise(stopNewsTicker(), {\n            loading: \"Stopping News Ticker...\",\n            success: () => {\n                setIsTickerRunning(false);\n                return \"News Ticker Stopped\";\n            },\n            error: \"Failed to stop ticker\",\n        });\n    };\n\n    const updateSetting = (key: string, value: string) => {\n        return updateNewsSetting(key, value);\n    };\n\n    // Handle adding a new source from dropdown\n    const handleAddSource = (changes: any) => {\n        const sourceKey = changes.value;\n        if (!sourceKey || settings.newsSources.includes(sourceKey)) return;\n\n        const newSources = [...settings.newsSources, sourceKey];\n        const newSettings = { ...settings, newsSources: newSources };\n        setSettings(newSettings);\n        updateSetting(\"newsSources\", sourcesToString(newSources));\n\n        // Auto-restart if running\n        if (isTickerRunning) {\n            restartTicker(newSettings);\n        }\n    };\n\n    // Handle removing a source\n    const handleRemoveSource = (sourceKey: string) => {\n        const newSources = settings.newsSources.filter((s) => s !== sourceKey);\n        if (newSources.length === 0) {\n            toast.error(\"Must have at least one news source\");\n            return;\n        }\n        const newSettings = { ...settings, newsSources: newSources };\n        setSettings(newSettings);\n        updateSetting(\"newsSources\", sourcesToString(newSources));\n\n        // Auto-restart if running\n        if (isTickerRunning) {\n            restartTicker(newSettings);\n        }\n    };\n\n    // Handle custom URL change\n    const handleSetCustomURL = () => {\n        const url = customURLInput.trim();\n        if (!url) {\n            toast.error(\"Please enter a URL\");\n            return;\n        }\n\n        updateSetting(\"newsCustomURL\", url);\n        const newSettings = { ...settings, newsCustomURL: url };\n        setSettings(newSettings);\n        toast.success(\"Custom URL saved!\");\n\n        // If ticker is running with custom source, restart\n        if (isTickerRunning && settings.newsSources.includes(\"custom\")) {\n            restartTicker(newSettings);\n        }\n    };\n\n    // Handle speed change from dropdown\n    const handleSpeedChange = (changes: any) => {\n        const speed = parseInt(changes.value, 10);\n        const newSettings = { ...settings, newsScrollSpeed: speed };\n        setSettings(newSettings);\n        updateSetting(\"newsScrollSpeed\", speed.toString());\n        // No restart needed - backend reads scroll speed dynamically from config\n    };\n\n    // Handle refresh change from dropdown\n    const handleRefreshChange = (changes: any) => {\n        const refresh = parseInt(changes.value, 10);\n        const newSettings = { ...settings, newsTickerRefresh: refresh };\n        setSettings(newSettings);\n        updateSetting(\"newsTickerRefresh\", refresh.toString());\n\n        // Auto-restart if running\n        if (isTickerRunning) {\n            restartTicker(newSettings);\n        }\n    };\n\n    // Handle color change from dropdown\n    const handleColorChange = (changes: any) => {\n        const color = changes.value;\n        const newSettings = { ...settings, newsTickerColor: color };\n        setSettings(newSettings);\n        updateSetting(\"newsTickerColor\", color);\n\n        // Auto-restart if running\n        if (isTickerRunning) {\n            restartTicker(newSettings);\n        }\n    };\n\n    // Handle font change from dropdown\n    const handleFontChange = (changes: any) => {\n        const font = changes.value;\n        const newSettings = { ...settings, newsTickerFont: font };\n        setSettings(newSettings);\n        updateSetting(\"newsTickerFont\", font);\n\n        // Auto-restart if running\n        if (isTickerRunning) {\n            restartTicker(newSettings);\n        }\n    };\n\n    const availableOptions = getAvailableSourceOptions(settings.newsSources);\n\n    return (\n        <div className=\"widget-section\">\n            <h3 className=\"section-title\">\n                <RssFeed style={{ marginRight: 8, verticalAlign: \"middle\" }} />\n                News Ticker\n            </h3>\n\n            {/* Selected Sources as Chips */}\n            <div className=\"setting-row\">\n                <label className=\"setting-label\">Selected Sources</label>\n                <div className=\"chip-container\">\n                    {settings.newsSources.map((sourceKey) => (\n                        <div key={sourceKey} className=\"source-chip\">\n                            <span>{getSourceName(sourceKey)}</span>\n                            <button\n                                className=\"chip-remove\"\n                                onClick={() => handleRemoveSource(sourceKey)}\n                                title=\"Remove source\"\n                            >\n                                <Close style={{ fontSize: 14 }} />\n                            </button>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            {/* Add Source Dropdown */}\n            {availableOptions.length > 0 && (\n                <div className=\"setting-row\">\n                    <label className=\"setting-label\">Add News Source</label>\n                    <Select\n                        key={`add-source-${settingsLoaded}-${settings.newsSources.length}`}\n                        selectedValue=\"\"\n                        name=\"addSource\"\n                        options={[{ text: \"+ Select a source to add...\", value: \"\" }, ...availableOptions]}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleAddSource}\n                    />\n                </div>\n            )}\n\n            {/* Custom URL Input (only show when custom is selected) */}\n            {settings.newsSources.includes(\"custom\") && (\n                <div className=\"input-row\">\n                    <input\n                        type=\"text\"\n                        value={customURLInput}\n                        onChange={(e) => setCustomURLInput(e.target.value)}\n                        onKeyPress={(e) => {\n                            if (e.key === \"Enter\") {\n                                handleSetCustomURL();\n                            }\n                        }}\n                        placeholder=\"Enter RSS feed URL\"\n                        className=\"symbol-input\"\n                    />\n                    <Button\n                        variant=\"contained\"\n                        onClick={handleSetCustomURL}\n                        className=\"add-button\"\n                    >\n                        SET URL\n                    </Button>\n                </div>\n            )}\n\n            {/* Settings Row */}\n            <div className=\"settings-grid\">\n                {/* Refresh Interval */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Refresh Interval</label>\n                    <Select\n                        key={`news-refresh-${settingsLoaded}-${settings.newsTickerRefresh}`}\n                        selectedValue={settings.newsTickerRefresh.toString()}\n                        name=\"refreshInterval\"\n                        options={refreshPresets}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleRefreshChange}\n                    />\n                </div>\n\n                {/* Text Color */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Text Color</label>\n                    <Select\n                        key={`news-color-${settingsLoaded}-${settings.newsTickerColor}`}\n                        selectedValue={settings.newsTickerColor}\n                        name=\"textColor\"\n                        options={colorPresets.map((c) => ({\n                            value: c.value,\n                            text: c.name,\n                            markup: (\n                                <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                                    <div\n                                        style={{\n                                            width: 16,\n                                            height: 16,\n                                            backgroundColor: `#${c.value}`,\n                                            marginRight: 8,\n                                            borderRadius: 2,\n                                            border: c.value === \"FFFFFF\" ? \"1px solid #666\" : \"none\",\n                                        }}\n                                    />\n                                    {c.name}\n                                </div>\n                            ),\n                        }))}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleColorChange}\n                    />\n                </div>\n\n                {/* Scrolling Speed */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Scrolling Speed</label>\n                    <Select\n                        key={`news-speed-${settingsLoaded}-${settings.newsScrollSpeed}`}\n                        selectedValue={settings.newsScrollSpeed.toString()}\n                        name=\"scrollSpeed\"\n                        options={speedPresets}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleSpeedChange}\n                    />\n                </div>\n\n                {/* Font */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Font</label>\n                    <Select\n                        key={`news-font-${settingsLoaded}-${settings.newsTickerFont}`}\n                        selectedValue={settings.newsTickerFont}\n                        name=\"tickerFont\"\n                        options={getFontOptions()}\n                        caretIcon={<CaretIcon />}\n                        modalCloseButton={<ModalCloseButton />}\n                        onChange={handleFontChange}\n                    />\n                </div>\n            </div>\n\n            {/* Start Button */}\n            <Button\n                variant=\"contained\"\n                onClick={isTickerRunning ? handleStopTicker : handleStartTicker}\n                disabled={isLoading || (settings.newsSources.includes(\"custom\") && !customURLInput.trim()) || settings.newsSources.length === 0}\n                className={`start-button ${isTickerRunning ? \"stop\" : \"\"}`}\n            >\n                {isLoading ? (\n                    <CircularProgress size={24} style={{ color: \"#fff\", marginRight: 8 }} />\n                ) : isTickerRunning ? (\n                    <Stop />\n                ) : (\n                    <PlayArrow />\n                )}\n                {isLoading ? \"PLEASE WAIT...\" : isTickerRunning ? \"STOP NEWS TICKER\" : \"START NEWS TICKER\"}\n            </Button>\n        </div>\n    );\n};\n\nexport default NewsWidget;\n","import axios from \"axios\";\nimport { getDeviceUrl } from \".\";\n\n// Start the clock widget\nexport const startClock = (\n    face: string = \"cyberpunk\",\n    use12Hour: boolean = true,\n    showSeconds: boolean = true\n): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/clock/start?face=${face}&use12Hour=${use12Hour}&showSeconds=${showSeconds}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Stop the clock widget\nexport const stopClock = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/clock/stop`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Get clock status\nexport const getClockStatus = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/clock/status`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Get available clock faces\nexport const getClockFaces = (): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/clock/faces`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n\n// Update a clock setting\nexport const updateClockSetting = (key: string, value: string): Promise<any> => {\n    const requestUrl = `${getDeviceUrl(\"\")}/settings?key=${key}&value=${encodeURIComponent(value)}`;\n\n    return axios.get(requestUrl).then((value) => {\n        return value.data;\n    });\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Button, CircularProgress, Switch, FormControlLabel } from \"@material-ui/core\";\nimport { PlayArrow, Stop, Schedule } from \"@material-ui/icons\";\nimport toast from \"react-hot-toast\";\nimport { Select, CaretIcon, ModalCloseButton } from \"react-responsive-select\";\nimport { readSettings } from \"../../services/settings\";\nimport {\n    startClock,\n    stopClock,\n    getClockStatus,\n    updateClockSetting,\n} from \"../../services/clock\";\nimport { dispatchTickerStarted, onTickerStarted } from \"../../services/tickerEvents\";\n\ntype ClockSettings = {\n    clockFace: string;\n    clockUse12Hour: boolean;\n    clockShowSeconds: boolean;\n};\n\n// Clock face options\nconst clockFaceOptions = [\n    { text: \"Cyberpunk Neon\", value: \"cyberpunk\" },\n    { text: \"Synthwave\", value: \"synthwave\" },\n    { text: \"Tron Grid\", value: \"tron\" },\n    { text: \"Digital Waves\", value: \"waves\" },\n    { text: \"Word Clock\", value: \"word\" },\n    { text: \"Linear Timeline\", value: \"linear\" },\n    { text: \"Swatch .Beats\", value: \"swatch\" },\n    { text: \"7-Segment LED\", value: \"segment\" },\n];\n\n\ninterface ClockWidgetProps {\n    onClockStart?: () => void;\n}\n\nconst ClockWidget: React.FC<ClockWidgetProps> = ({ onClockStart }) => {\n    const [settings, setSettings] = useState<ClockSettings>({\n        clockFace: \"cyberpunk\",\n        clockUse12Hour: true,\n        clockShowSeconds: true,\n    });\n    const [isClockRunning, setIsClockRunning] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [settingsLoaded, setSettingsLoaded] = useState<boolean>(false);\n\n    // Load settings on mount\n    useEffect(() => {\n        readSettings()\n            .then((data: any) => {\n                if (data) {\n                    setSettings({\n                        clockFace: data.clockFace || \"cyberpunk\",\n                        clockUse12Hour: data.clockUse12Hour !== false,\n                        clockShowSeconds: data.clockShowSeconds !== false,\n                    });\n                    setSettingsLoaded(true);\n                }\n            })\n            .catch(console.error);\n\n        // Check clock status\n        getClockStatus()\n            .then((data: any) => {\n                setIsClockRunning(data.running || false);\n            })\n            .catch(() => setIsClockRunning(false));\n\n        // Listen for other tickers starting - reset our button state\n        const unsubscribe = onTickerStarted((tickerType) => {\n            if (tickerType !== 'clock') {\n                setIsClockRunning(false);\n            }\n        });\n\n        return () => unsubscribe();\n    }, []);\n\n    const handleStartClock = async () => {\n        setIsLoading(true);\n\n        try {\n            await startClock(\n                settings.clockFace,\n                settings.clockUse12Hour,\n                settings.clockShowSeconds\n            );\n            setIsClockRunning(true);\n            setIsLoading(false);\n            dispatchTickerStarted('clock');\n            onClockStart?.();\n            toast.success(\"Clock Started!\");\n        } catch (error) {\n            setIsLoading(false);\n            toast.error(\"Failed to start clock\");\n        }\n    };\n\n    const handleStopClock = () => {\n        toast.promise(stopClock(), {\n            loading: \"Stopping Clock...\",\n            success: () => {\n                setIsClockRunning(false);\n                return \"Clock Stopped\";\n            },\n            error: \"Failed to stop clock\",\n        });\n    };\n\n    const updateSetting = (key: string, value: string) => {\n        return updateClockSetting(key, value);\n    };\n\n    // Handle clock face change\n    const handleFaceChange = async (changes: any) => {\n        const face = changes.value;\n        const newSettings = { ...settings, clockFace: face };\n        setSettings(newSettings);\n        updateSetting(\"clockFace\", face);\n\n        // Auto-restart if running\n        if (isClockRunning) {\n            try {\n                await startClock(\n                    face,\n                    newSettings.clockUse12Hour,\n                    newSettings.clockShowSeconds\n                );\n            } catch (error) {\n                console.error(\"Failed to restart clock\", error);\n            }\n        }\n    };\n\n    // Handle 12-hour toggle\n    const handleUse12HourChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n        const use12Hour = event.target.checked;\n        const newSettings = { ...settings, clockUse12Hour: use12Hour };\n        setSettings(newSettings);\n        updateSetting(\"clockUse12Hour\", use12Hour ? \"yes\" : \"no\");\n\n        // Auto-restart if running\n        if (isClockRunning) {\n            try {\n                await startClock(\n                    newSettings.clockFace,\n                    use12Hour,\n                    newSettings.clockShowSeconds\n                );\n            } catch (error) {\n                console.error(\"Failed to restart clock\", error);\n            }\n        }\n    };\n\n    // Handle show seconds toggle\n    const handleShowSecondsChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n        const showSeconds = event.target.checked;\n        const newSettings = { ...settings, clockShowSeconds: showSeconds };\n        setSettings(newSettings);\n        updateSetting(\"clockShowSeconds\", showSeconds ? \"yes\" : \"no\");\n\n        // Auto-restart if running\n        if (isClockRunning) {\n            try {\n                await startClock(\n                    newSettings.clockFace,\n                    newSettings.clockUse12Hour,\n                    showSeconds\n                );\n            } catch (error) {\n                console.error(\"Failed to restart clock\", error);\n            }\n        }\n    };\n\n    return (\n        <div className=\"widget-section\">\n            <h3 className=\"section-title\">\n                <Schedule style={{ marginRight: 8, verticalAlign: \"middle\" }} />\n                Clock Settings\n            </h3>\n\n            {/* Clock Face Selection */}\n            <div className=\"setting-row\">\n                <label className=\"setting-label\">Clock Face</label>\n                <Select\n                    key={`clock-face-${settingsLoaded}-${settings.clockFace}`}\n                    selectedValue={settings.clockFace}\n                    name=\"clockFace\"\n                    options={clockFaceOptions}\n                    caretIcon={<CaretIcon />}\n                    modalCloseButton={<ModalCloseButton />}\n                    onChange={handleFaceChange}\n                />\n            </div>\n\n            {/* Settings Grid */}\n            <div className=\"settings-grid\" style={{ gridTemplateColumns: \"repeat(2, 1fr)\" }}>\n                {/* Time Format Toggle */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Time Format</label>\n                    <FormControlLabel\n                        control={\n                            <Switch\n                                checked={settings.clockUse12Hour}\n                                onChange={handleUse12HourChange}\n                                color=\"primary\"\n                            />\n                        }\n                        label={settings.clockUse12Hour ? \"12-Hour\" : \"24-Hour\"}\n                        style={{ color: \"#fff\", marginLeft: 0 }}\n                    />\n                </div>\n\n                {/* Seconds Display Toggle */}\n                <div className=\"setting-item\">\n                    <label className=\"setting-label\">Seconds Display</label>\n                    <FormControlLabel\n                        control={\n                            <Switch\n                                checked={settings.clockShowSeconds}\n                                onChange={handleShowSecondsChange}\n                                color=\"primary\"\n                            />\n                        }\n                        label={settings.clockShowSeconds ? \"Show Seconds\" : \"Hide Seconds\"}\n                        style={{ color: \"#fff\", marginLeft: 0 }}\n                    />\n                </div>\n            </div>\n\n            {/* Start Button */}\n            <Button\n                variant=\"contained\"\n                onClick={isClockRunning ? handleStopClock : handleStartClock}\n                disabled={isLoading}\n                className={`start-button ${isClockRunning ? \"stop\" : \"\"}`}\n            >\n                {isLoading ? (\n                    <CircularProgress size={24} style={{ color: \"#fff\", marginRight: 8 }} />\n                ) : isClockRunning ? (\n                    <Stop />\n                ) : (\n                    <PlayArrow />\n                )}\n                {isLoading ? \"PLEASE WAIT...\" : isClockRunning ? \"STOP CLOCK\" : \"START CLOCK\"}\n            </Button>\n        </div>\n    );\n};\n\nexport default ClockWidget;\n","import React, { ReactElement } from \"react\";\nimport SportsTickerWidget from \"./SportsTickerWidget\";\nimport StockTickerWidget from \"./StockTickerWidget\";\nimport WeatherWidget from \"./WeatherWidget\";\nimport NewsWidget from \"./NewsWidget\";\nimport ClockWidget from \"./ClockWidget\";\n\nimport \"react-responsive-select/dist/react-responsive-select.css\";\nimport \"./styles.css\";\n\nconst WidgetSettings = (): ReactElement => {\n    return (\n        <div className=\"widget-settings-page\">\n            <div className=\"widget-content\">\n                {/* Sports Ticker Widget - First */}\n                <SportsTickerWidget />\n\n                {/* Stock Ticker Widget - Second */}\n                <StockTickerWidget />\n\n                {/* Weather Widget - Third */}\n                <WeatherWidget />\n\n                {/* News Widget - Fourth */}\n                <NewsWidget />\n\n                {/* Clock Widget - Fifth (Last) */}\n                <ClockWidget />\n            </div>\n        </div>\n    );\n};\n\nexport default WidgetSettings;\n","import { Button } from \"@material-ui/core\";\nimport React, { useEffect, useState, ReactElement } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { checkForUpdates } from \"../../services\";\nimport { updateFirmware } from \"../../services/settings\";\nimport \"./styles.css\";\n\nconst UpdatePage = (): ReactElement => {\n  const [updateInfo, setUpdateInfo] = useState<any>(null);\n  const [checkingUpdate, setCheckingUpdate] = useState(true);\n  const [checkFailed, setCheckFailed] = useState(false);\n  const [isUpdating, setIsUpdating] = useState(false);\n\n  const handleCheckForUpdates = async () => {\n    setCheckingUpdate(true);\n    setCheckFailed(false);\n    try {\n      const info = await checkForUpdates();\n      setUpdateInfo(info);\n    } catch (error) {\n      console.error(error);\n      setCheckFailed(true);\n    } finally {\n      setCheckingUpdate(false);\n    }\n  };\n\n  useEffect(() => {\n    handleCheckForUpdates();\n  }, []);\n\n  const updateSystem = (beta: boolean) => {\n    setIsUpdating(true);\n    toast.promise(\n      updateFirmware(beta),\n      {\n        loading: beta ? \"Pixelcade LCD Beta Update Started\" : \"Pixelcade LCD Update Started\",\n        success: () => {\n          return `Please wait until you see the Update Complete message on your Pixelcade before doing anything else.`;\n        },\n        error: \"Failed to start update\",\n      },\n      { duration: 10000 }\n    );\n  };\n\n  // Check if beta is available and different from stable\n  const betaAvailable = updateInfo?.betaFirmwareVersion &&\n    updateInfo.betaFirmwareVersion !== updateInfo.latestFirmwareVersion;\n\n  return (\n    <div className=\"fade-in update-page\">\n      <div className=\"update-container\">\n        <h1 className=\"update-title\">System Updates</h1>\n\n        {checkingUpdate ? (\n          <div className=\"update-status checking\">\n            <div className=\"spinner\"></div>\n            <p>Checking for updates...</p>\n          </div>\n        ) : checkFailed ? (\n          // USB-only connectivity - can't check for updates\n          <div className=\"update-status usb-only\">\n            <div className=\"usb-icon\">USB</div>\n            <h2>USB Connection Only</h2>\n            <p>WiFi connectivity is required for updates.</p>\n            <p className=\"usb-instructions\">\n              Since you are connected via USB only, you can still update by following these instructions:\n            </p>\n            <a\n              href=\"https://pixelcade.org/lcdgen3/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"usb-link\"\n            >\n              pixelcade.org/lcdgen3\n            </a>\n          </div>\n        ) : updateInfo ? (\n          <>\n            {updateInfo.updateAvailable ? (\n              <div className=\"update-status available\">\n                <div className=\"update-badge\">\n                  <span className=\"badge-icon\">!</span>\n                </div>\n                <h2>Updates Available</h2>\n\n                <div className=\"update-details\">\n                  {updateInfo.firmwareUpdateAvailable && (\n                    <div className=\"update-item\">\n                      <span className=\"update-label\">Firmware</span>\n                      <span className=\"update-versions\">\n                        <span className=\"version-current\">{updateInfo.currentFirmwareVersion}</span>\n                        <span className=\"version-arrow\"></span>\n                        <span className=\"version-new\">{updateInfo.latestFirmwareVersion}</span>\n                      </span>\n                    </div>\n                  )}\n                  {updateInfo.artworkUpdateAvailable && (\n                    <div className=\"update-item\">\n                      <span className=\"update-label\">Artwork</span>\n                      <span className=\"update-versions\">\n                        <span className=\"version-current\">v{updateInfo.currentArtworkVersion}</span>\n                        <span className=\"version-arrow\"></span>\n                        <span className=\"version-new\">v{updateInfo.latestArtworkVersion}</span>\n                      </span>\n                    </div>\n                  )}\n                </div>\n\n                {(updateInfo.releaseNotes || updateInfo.releaseDate) && (\n                  <div className=\"release-notes\">\n                    <h3>What's New</h3>\n                    {updateInfo.releaseDate && (\n                      <p className=\"release-date\">Release Date: {updateInfo.releaseDate}</p>\n                    )}\n                    {updateInfo.releaseNotes && (\n                      <p className=\"release-notes-text\">{updateInfo.releaseNotes}</p>\n                    )}\n                  </div>\n                )}\n\n                <div className=\"update-actions\">\n                  <Button\n                    variant=\"contained\"\n                    className=\"install-button\"\n                    onClick={() => updateSystem(false)}\n                    disabled={isUpdating}\n                    style={{ backgroundColor: \"#4caf50\", color: \"#fff\" }}\n                  >\n                    {isUpdating ? \"Update Started...\" : \"Install Update\"}\n                  </Button>\n                </div>\n\n                <p className=\"update-warning\">\n                  Updates can take up to 15 minutes or more depending on your Internet connection.\n                  Please wait until you see the Update Complete message on your Pixelcade.\n                </p>\n              </div>\n            ) : (\n              <div className=\"update-status up-to-date\">\n                <div className=\"checkmark\"></div>\n                <h2>You're Up to Date!</h2>\n                <p>Your Pixelcade is running the latest stable version.</p>\n              </div>\n            )}\n\n            {/* Beta section - only show if beta is different from stable */}\n            {betaAvailable && (\n              <div className=\"beta-section\">\n                <h3>Beta Version Available</h3>\n                <div className=\"beta-version-info\">\n                  <span className=\"beta-label\">Beta Firmware:</span>\n                  <span className=\"beta-version\">{updateInfo.betaFirmwareVersion}</span>\n                </div>\n                <p className=\"beta-description\">\n                  Get access to pre-release versions with the latest features and improvements.\n                  Beta versions may contain bugs.\n                </p>\n                <Button\n                  variant=\"contained\"\n                  className=\"beta-button\"\n                  onClick={() => updateSystem(true)}\n                  disabled={isUpdating}\n                >\n                  {isUpdating ? \"Update Started...\" : \"Install Beta\"}\n                </Button>\n              </div>\n            )}\n\n            <div className=\"current-versions\">\n              <h3>Current Versions</h3>\n              <div className=\"version-info\">\n                <span className=\"version-label\">Firmware:</span>\n                <span className=\"version-value\">{updateInfo.currentFirmwareVersion}</span>\n              </div>\n              <div className=\"version-info\">\n                <span className=\"version-label\">Artwork:</span>\n                <span className=\"version-value\">v{updateInfo.currentArtworkVersion}</span>\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className=\"update-status error\">\n            <p>Unable to check for updates. Please check your network connection.</p>\n          </div>\n        )}\n\n        <div className=\"update-actions\" style={{ marginTop: \"2rem\" }}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleCheckForUpdates}\n            disabled={checkingUpdate}\n          >\n            {checkingUpdate ? \"Checking...\" : \"Check Again\"}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UpdatePage;\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport { HashRouter, Route, Routes } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport ConsoleList from \"./components/ConsoleList\";\nimport MarqueeList from \"./components/MarqueeList\";\nimport StickyBox from \"react-sticky-box\";\nimport MainMenu from \"./components/MainMenu\";\nimport DefaultMarquee from \"./components/DefaultMarquee\";\nimport DeviceSettings from \"./components/DeviceSettings\";\nimport SendText from \"./components/SendText\";\nimport WidgetsMenu from \"./components/WidgetsMenu\";\nimport WidgetSettings from \"./components/WidgetSettings\";\nimport UpdatePage from \"./components/UpdatePage\";\n\nexport type ContextType = {\n    streamImages: boolean;\n    setStreamImages: Function;\n};\n\nexport const ApplicationContext = React.createContext<ContextType>(\n    {} as ContextType\n);\nexport const useAppSettings = () => React.useContext(ApplicationContext);\n\nconst App: React.FC = () => {\n    const [streamImages, setStreamImages] = useState<boolean>(false);\n\n    const state = {\n        streamImages,\n        setStreamImages,\n    };\n    return (\n        <ApplicationContext.Provider value={state}>\n            <HashRouter>\n                <StickyBox style={{ zIndex: 100 }}>\n                    <Header />\n                </StickyBox>\n                <Routes>\n                    <Route path=\"/\" element={<MainMenu />} />,\n                    <Route path=\"/consoles\" element={<ConsoleList />} />\n                    ,\n                    <Route path=\"/marquees/:system\" element={<MarqueeList />} />\n                    ,\n                    <Route\n                        path=\"/default-marquee\"\n                        element={<DefaultMarquee />}\n                    />\n                    ,\n                    <Route path=\"/settings\" element={<DeviceSettings />} />\n                    ,\n                    <Route path=\"/text\" element={<SendText />} />\n                    <Route path=\"/widgets\" element={<WidgetsMenu />} />\n                    <Route path=\"/widget-settings\" element={<WidgetSettings />} />\n                    <Route path=\"/update\" element={<UpdatePage />} />\n                </Routes>\n            </HashRouter>\n        </ApplicationContext.Provider>\n    );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}