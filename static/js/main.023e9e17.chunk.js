(this["webpackJsonppixelcade-companion"]=this["webpackJsonppixelcade-companion"]||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},111:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(15),r=a.n(o),l=(a(105),a(106),a(35)),c=a(9),i=a(170),d=a(83),u=a.n(d),j=a(3),m=a.n(j),h=a.p+"static/media/pixelcade.698d1ae2.png",x=a(1);var b=()=>{const e=Object(c.m)(),t=Object(c.o)();return Object(x.jsxs)("div",{style:{backgroundColor:""},children:[Object(x.jsx)(j.Toaster,{containerStyle:{top:80}}),Object(x.jsx)("div",{className:"layout-grid logo-container",style:{backgroundColor:"#000"},children:Object(x.jsx)("img",{style:{objectFit:"scale-down",width:"100%",maxHeight:75},src:h,alt:"Pixelcade Companion Logo"})}),"/"!==e.pathname&&Object(x.jsxs)("div",{className:"layout-grid fade-in",style:{gridTemplateColumns:"repeat(auto-fit, minmax(75px, 1fr))",backgroundColor:"#000"},children:[Object(x.jsxs)("div",{className:"grid-item nav-element",onClick:()=>{t("/")},children:[Object(x.jsx)(i.a,{style:{marginRight:8}}),"HOME"]}),Object(x.jsxs)("div",{className:"grid-item nav-element",onClick:()=>{t(-1)},children:[Object(x.jsx)(u.a,{style:{marginRight:8}}),"GO BACK"]})]})]})};a(111);var p=e=>{const{isLoading:t}=e;return Object(x.jsx)(n.a.Fragment,{children:t&&Object(x.jsx)("div",{className:"loading fade-in",children:Object(x.jsx)("img",{className:"pulse",src:h,alt:"Pixelcade Companion Logo"})})})},g=a(8),v=a.n(g);const O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/v2";return`http://${window.location.host}${e}`},y=(e,t,a)=>{const s=`${O("")}/arcade/stream/${e}/${t}`;return v.a.post(s)},f=e=>{const t=`${O()}/utility/marquee/set/${e}`;return v.a.get(t)},S=()=>{const e=`${O()}/check-update`;return v.a.get(e).then((e=>e.data))};var k=()=>{const[e,t]=Object(s.useState)(!1),[a,o]=Object(s.useState)([]),r=Object(c.o)();Object(s.useEffect)((()=>{(async()=>{t(!0),await(()=>{const e=`${O()}/info/consoles`;return v.a.get(e).then((e=>e.data))})().then((e=>{o(e.consoles)})).catch().finally((()=>{t(!1)}))})()}),[]);return Object(x.jsxs)(n.a.Fragment,{children:[Object(x.jsx)(p,{isLoading:e}),Object(x.jsx)("div",{className:"layout-grid",children:a.map(((e,t)=>Object(x.jsxs)("div",{className:"fade-in",style:{backgroundColor:"#456",borderRadius:"4px",padding:".5rem",border:"1px solid #ABABAB",color:"#FFF",cursor:"pointer"},onClick:()=>{r(`/marquees/${e.name}`)},children:[Object(x.jsx)("p",{children:e.descriptiveName}),Object(x.jsxs)("p",{children:[e.numMarquees," Marquees"]})]},t)))})]})};var w=a(84),C=a.n(w),N=a(58),T=a(197),F=a(175),L=a(176),R=a(177),M=a(195),A=a(178);var $=e=>{let{open:t,onClose:a,marquee:n,system:o}=e;const[r,l]=Object(s.useState)(""),[c,i]=Object(s.useState)(!1),{streamImages:d}=lt(),u=`${o}-${n.filename}.jpg`,j=`${O("")}/lcdmarquees/${u}`,h=async()=>{if(!r.trim())return void m.a.error("Please enter an alias name");const e=r.trim().endsWith(".jpg")?r.trim():`${r.trim()}.jpg`;i(!0);try{const t=await fetch(`${O("")}/symlink?original=${encodeURIComponent(u)}&new=${encodeURIComponent(e)}`),a=await t.json();t.ok&&a.success?(m.a.success(`Alias created: ${a.symlink}`),l("")):m.a.error(a.error||"Failed to create alias")}catch(t){m.a.error("Error creating alias"),console.error(t)}finally{i(!1)}};return Object(x.jsxs)(T.a,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[Object(x.jsxs)(F.a,{style:{backgroundColor:"#6b0078",color:"#fff",position:"relative",paddingRight:"48px"},children:["Marquee Details",Object(x.jsx)("div",{onClick:a,style:{position:"absolute",top:"8px",right:"8px",width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,.3)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid rgba(255,255,255,.3)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(0,0,0,.6)",e.currentTarget.style.transform="scale(1.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(0,0,0,.3)",e.currentTarget.style.transform="scale(1)"},children:Object(x.jsx)("span",{style:{color:"#fff",fontSize:"20px",fontWeight:"bold",lineHeight:"1"},children:"\xd7"})})]}),Object(x.jsxs)(L.a,{style:{backgroundColor:"#2a2a2a",color:"#fff",paddingTop:"20px"},children:[Object(x.jsx)("div",{style:{marginBottom:"20px",textAlign:"center"},children:Object(x.jsx)("img",{src:j,alt:n.name,style:{maxWidth:"100%",maxHeight:"300px",objectFit:"contain",borderRadius:"4px"},onError:e=>{e.target.src=`${O()}/thumbnails/${n.apiSystem}/${n.filename}`}})}),Object(x.jsxs)("div",{style:{marginBottom:"20px"},children:[Object(x.jsxs)("p",{style:{margin:"8px 0"},children:[Object(x.jsx)("strong",{children:"Name:"})," ",n.name]}),Object(x.jsxs)("p",{style:{margin:"8px 0"},children:[Object(x.jsx)("strong",{children:"Source File:"})," ",u]}),Object(x.jsxs)("p",{style:{margin:"8px 0"},children:[Object(x.jsx)("strong",{children:"System:"})," ",n.systemName]})]}),Object(x.jsx)("div",{style:{marginBottom:"20px"},children:Object(x.jsx)(R.a,{variant:"contained",onClick:async()=>{try{m.a.loading(`Downloading ${u}...`);const e=await fetch(j);if(!e.ok)throw new Error(`Failed to fetch image: ${e.status}`);const t=await e.blob(),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download=u,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a),m.a.dismiss(),m.a.success(`Downloaded ${u}`)}catch(e){m.a.dismiss(),m.a.error("Failed to download image"),console.error(e)}},fullWidth:!0,style:{backgroundColor:"#4c3ba2",color:"#fff",marginBottom:"10px"},children:"Download Full Resolution Image"})}),Object(x.jsxs)("div",{style:{borderTop:"1px solid #444",paddingTop:"20px"},children:[Object(x.jsx)("p",{style:{marginBottom:"10px",fontWeight:600},children:"Create Alias:"}),Object(x.jsx)(M.a,{fullWidth:!0,variant:"outlined",placeholder:"Enter alternate filename (e.g., mame-pacman2.jpg)",value:r,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"===e.key&&h()},disabled:c,style:{marginBottom:"10px"},InputProps:{style:{backgroundColor:"#fff"}}}),Object(x.jsx)(R.a,{variant:"contained",onClick:h,fullWidth:!0,disabled:c,style:{backgroundColor:"#6b0078",color:"#fff"},children:c?"Creating...":"Create Alias"})]})]}),Object(x.jsxs)(A.a,{style:{backgroundColor:"#2a2a2a",padding:"16px"},children:[Object(x.jsx)(R.a,{onClick:a,style:{color:"#fff"},children:"Close"}),Object(x.jsx)(R.a,{onClick:()=>{m.a.promise(y(o,n.filename),{loading:"Updating Marquee",success:"Successfully Updated Marquee",error:"Couldn't set the marquee"}),a()},variant:"contained",style:{backgroundColor:"#6b0078",color:"#fff"},children:"SET AS CURRENT MARQUEE"})]})]})};const D=e=>{const[t,a]=Object(s.useState)(!1),[o,r]=Object(s.useState)(!1),{marquee:l}=e,{streamImages:c}=lt(),i=()=>{const e="user"===l.apiSystem?l.systemName:l.apiSystem;m.a.promise(y(e,l.filename),{loading:"Updating Marquee",success:"Successfully Updated Marquee",error:"Couldn't set the marquee"},{id:"marquee-update"})},{onClick:d=i}=e;return Object(x.jsxs)(n.a.Fragment,{children:["bad"===l.id?Object(x.jsx)("div",{}):Object(x.jsx)(n.a.Fragment,{children:t?Object(x.jsxs)("div",{className:"grid-item fade-in",style:{backgroundColor:"#4c3ba2",flexDirection:"column",justifyContent:"center",cursor:"pointer",userSelect:"none",fontWeight:600,minHeight:60},onClick:()=>d(),children:[Object(x.jsx)("p",{children:Object(N.startCase)(l.name)}),"user"===l.id&&Object(x.jsx)("span",{style:{position:"absolute",bottom:"0px",right:"0px",backgroundColor:"rgba(0,0,0,.65)",padding:"2px 4px",borderRadius:"4px 0 0 0"},children:Object(N.startCase)(l.systemName)})]}):Object(x.jsxs)(C.a,{height:60,style:{position:"relative"},children:[Object(x.jsx)("img",{className:"grid-item fade-in",src:`${O("")}${l.thumbnailPath||`/thumbnail/${l.filename}`}`,alt:l.filename,onError:()=>a(!0),style:{backgroundColor:"rgba(255, 255, 255, .05)",cursor:"pointer",position:"relative",minHeight:40},onClick:()=>d()}),Object(x.jsx)("div",{style:{position:"absolute",top:"4px",right:"4px",backgroundColor:"rgba(0,0,0,.7)",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",border:"1px solid rgba(255,255,255,.3)",transition:"all 0.2s ease"},onClick:e=>{e.stopPropagation(),r(!0)},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(107,0,120,1)",e.currentTarget.style.transform="scale(1.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(0,0,0,.7)",e.currentTarget.style.transform="scale(1)"},children:Object(x.jsx)("span",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold",fontStyle:"italic"},children:"i"})}),"user"===l.id&&Object(x.jsx)("span",{style:{fontWeight:600,position:"absolute",bottom:"0px",right:"0px",backgroundColor:"rgba(0,0,0,.65)",padding:"1px px",borderRadius:"4px 0 0 0"},children:Object(N.startCase)(l.systemName)})]})}),Object(x.jsx)($,{open:o,onClose:()=>r(!1),marquee:l,system:e.system})]})};var U=n.a.memo(D);var I=()=>{const[e,t]=Object(s.useState)(!1),[a,o]=Object(s.useState)([]),{system:r}=Object(c.q)(),[l,i]=Object(s.useState)(""),d=function(e,t){const[a,n]=Object(s.useState)(e);return Object(s.useEffect)((()=>{const a=setTimeout((()=>{n(e)}),t);return()=>clearTimeout(a)}),[e,t]),a}(l,350),{streamImages:u,setStreamImages:j}=lt();Object(s.useEffect)((()=>{r&&(t(!0),(e=>{const t=`${O()}/filesystem/${e}`;return fetch(t).then((e=>e.json()))})(r).then((e=>{const t=e.marquees||[];o(t)})).catch((e=>{console.error("Error fetching marquees:",e),o([])})).finally((()=>{t(!1)})))}),[r]);return Object(x.jsxs)(n.a.Fragment,{children:[Object(x.jsx)(p,{isLoading:e}),!e&&Object(x.jsx)("div",{className:"layout-grid fade-in",children:Object(x.jsx)("input",{value:l,onChange:e=>{i(e.target.value)},placeholder:"Search...",type:"text",id:"fname",name:"fname",style:{minHeight:54,border:"none",borderRadius:4,backgroundColor:"antiquewhite",padding:"0 1rem",fontSize:"1.2rem",width:"100%",boxSizing:"border-box"}})}),Object(x.jsx)("div",{className:"layout-grid fade-in",children:(()=>{let e=null===a||void 0===a?void 0:a.filter((e=>RegExp(`${d}`,"i").test(e.name.toLowerCase().trim())));for(e||(e=[]);e.length<10;)e.push({id:"bad",name:"",filename:"",apiSystem:"",systemName:"",hasVideo:!1,numGIFs:0,systemManufacturer:"",year:0});return e})().map(((e,t)=>Object(x.jsx)(U,{system:r,marquee:e},t)))})]})},E=a(85),P=a(63),B=a.n(P),W=a(88),V=a.n(W),H=a(87),q=a.n(H),z=a(179),G=a(180),Y=a(181),K=a(182),J=a(183);a(138);var X=()=>{const e=Object(c.o)(),[t,a]=Object(s.useState)(!1),[n,o]=Object(s.useState)(!0),[r,l]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{S().then((e=>{a((null===e||void 0===e?void 0:e.updateAvailable)||!1),l(!1)})).catch((()=>{a(!1),l(!0)})).finally((()=>{o(!1)}))}),[]),Object(x.jsx)("div",{className:"fade-in main-menu",children:Object(x.jsxs)("div",{className:"menu-grid",children:[Object(x.jsxs)("div",{className:"menu-card",onClick:()=>e("/consoles"),children:[Object(x.jsx)(z.a,{className:"menu-icon"}),Object(x.jsx)("span",{className:"menu-label",children:"Browse Marquees"})]}),Object(x.jsxs)("div",{className:"menu-card",onClick:()=>e("/widgets"),children:[Object(x.jsx)(G.a,{className:"menu-icon"}),Object(x.jsx)("span",{className:"menu-label",children:"Widgets"})]}),Object(x.jsxs)("div",{className:"menu-card",onClick:()=>e("/default-marquee"),children:[Object(x.jsx)(Y.a,{className:"menu-icon"}),Object(x.jsx)("span",{className:"menu-label",children:"Default Marquee"})]}),Object(x.jsxs)("div",{className:"menu-card",onClick:()=>e("/text"),children:[Object(x.jsx)(K.a,{className:"menu-icon"}),Object(x.jsx)("span",{className:"menu-label",children:"Text"})]}),Object(x.jsxs)("div",{className:"menu-card",onClick:()=>e("/settings"),children:[Object(x.jsx)(J.a,{className:"menu-icon"}),Object(x.jsx)("span",{className:"menu-label",children:"Settings & Log"})]}),Object(x.jsxs)("div",{className:"menu-card "+(t?"update-available":n||r?"":"up-to-date"),onClick:()=>e("/update"),children:[Object(x.jsx)(q.a,{className:"menu-icon"}),Object(x.jsx)("span",{className:"menu-label",children:n?"Checking...":t?"Update Available!":r?"Updates":"Up to Date"}),t&&Object(x.jsx)("span",{className:"update-badge-dot"}),!n&&!t&&!r&&Object(x.jsx)("span",{className:"up-to-date-check",children:"\u2713"})]}),Object(x.jsxs)("div",{className:"menu-card system-card",onClick:e=>{const t=e.currentTarget.querySelector(".system-submenu");t&&t.classList.toggle("visible")},children:[Object(x.jsx)(B.a,{className:"menu-icon"}),Object(x.jsx)("span",{className:"menu-label",children:"System"}),Object(x.jsxs)("div",{className:"system-submenu",children:[Object(x.jsxs)("button",{className:"submenu-btn",onClick:e=>{e.stopPropagation(),m.a.promise((()=>{const e=`${O("")}/shutdown`;return v.a.post(e).then((e=>e.data))})(),{loading:"Attempting Shutdown",success:"Shutdown Succeeded",error:"Shutdown Failed"})},children:[Object(x.jsx)(B.a,{style:{fontSize:18,marginRight:6}}),"Shutdown"]}),Object(x.jsxs)("button",{className:"submenu-btn",onClick:e=>{e.stopPropagation(),m.a.promise((()=>{const e=`${O("")}/reboot`;return v.a.post(e).then((e=>e.data))})(),{loading:"Attempting to Reboot",success:"Reboot Succeeded",error:"Reboot Failed"})},children:[Object(x.jsx)(V.a,{style:{fontSize:18,marginRight:6}}),"Reboot"]})]})]})]})})},Z=a.p+"static/media/default-01.b07219d2.png",_=a.p+"static/media/default-02.f12529b3.png",Q=a.p+"static/media/default-03.64d2bd2a.png";const ee=e=>{let{x:t,y:a,onDelete:n,onClose:o}=e;return Object(s.useEffect)((()=>{const e=()=>o();return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[o]),Object(x.jsx)("div",{className:"fixed bg-white shadow-lg rounded-lg py-1 w-24 z-50",style:{left:t+10,top:a,backgroundColor:"rgb(255, 0, 0)",border:"1px solid rgb(55, 65, 81)",position:"fixed"},onClick:e=>e.stopPropagation(),children:Object(x.jsx)("div",{className:"px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 cursor-pointer",onClick:n,children:"Delete"})})};var te=()=>{const[e,t]=Object(s.useState)(!1),[a,o]=Object(s.useState)([]),[r,l]=Object(s.useState)({width:1920,height:360}),[c,i]=Object(s.useState)("1"),{streamImages:d}=lt(),u=Object(s.useRef)(null),[j,h]=Object(s.useState)(null),b=async()=>{t(!0);try{const e=await(e=>{const t=`${O()}/marquees/${e}`;return v.a.get(t).then((e=>e.data))})("user"),t=((null===e||void 0===e?void 0:e.marquees)||[]).filter((e=>e.filename&&e.systemName&&!e.systemName.startsWith("._")));o(t)}catch(e){console.error("Error loading marquees:",e),m.a.error("Failed to load marquees")}t(!1)};async function g(e){const t=window.location.hostname;try{console.log("Attempting to delete:",e);const a=e.replace(".jpg",""),s=c===a,n=await fetch(`http://${t}:8080/v2/marquees/user?filename=${encodeURIComponent(e)}`,{method:"DELETE",headers:{Accept:"application/json"}});console.log("Delete response status:",n.status);const o=await n.text();if(console.log("Delete response:",o),!n.ok)throw new Error(`Delete failed: ${o}`);m.a.success("Marquee deleted successfully"),await b(),s&&(console.log("Deleted marquee was the default, falling back to default #1"),await S(1))}catch(a){console.error("Delete error:",a),m.a.error("Failed to delete marquee")}h(null)}const S=async e=>{if("number"===typeof e)await m.a.promise(f(e),{loading:"Setting default marquee",success:"Default Marquee Set",error:"Couldn't set the default marquee"}),i(String(e)),await y("user",`default${e}`);else{const t=`${e.systemName}-${e.filename}`;console.log("Setting default to:",t),await m.a.promise(f(t),{loading:"Setting default marquee",success:"Default Marquee Set",error:"Couldn't set the default marquee"}),i(t),await y("user",t)}};return Object(s.useEffect)((()=>{(async()=>{try{const e=window.location.hostname,t=await fetch(`http://${e}:8080/v2/info`);if(!t.ok)throw new Error("Failed to fetch device info");const a=await t.json();if(a.resolution){const e=1280===a.resolution.width?390:360;l({width:a.resolution.width,height:e})}}catch(e){console.error("Error fetching device info:",e),l({width:1920,height:360})}})(),b(),(async()=>{try{const e=window.location.hostname,t=await fetch(`http://${e}:8080/v2/utility/marquee/default`);if(t.ok){const e=await t.json();console.log("Fetched current default:",e.defaultMarquee),i(e.defaultMarquee||"1")}}catch(e){console.error("Error fetching current default:",e)}})()}),[]),Object(x.jsxs)(n.a.Fragment,{children:[Object(x.jsxs)("div",{style:{marginLeft:"30px",marginBottom:"10px"},children:[Object(x.jsx)("button",{onClick:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.click()},style:{padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Upload Marquee"}),Object(x.jsx)("input",{ref:u,type:"file",accept:".jpg,.jpeg",onChange:async e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;if(!a.type.includes("jpeg")&&!a.type.includes("jpg"))return void m.a.error("Please upload a JPG file");if(s=a.name,!/^[a-zA-Z0-9]+-[a-zA-Z0-9]+\.jpg$/i.test(s))return void m.a.error("Filename must be in format x-y.jpg (e.g., default-sega.jpg)");var s;const n=await(e=>new Promise((t=>{const a=new Image;a.onload=()=>t(a.width===r.width&&a.height===r.height),a.onerror=()=>t(!1),a.src=URL.createObjectURL(e)})))(a);if(!n)return void m.a.error(`Image must be exactly ${r.width}x${r.height} pixels`);const o=new FormData;o.append("file",a);try{if(!(await fetch("/v2/marquees/user",{method:"POST",body:o})).ok)throw new Error("Upload failed");await y("user",a.name.replace(".jpg","")),await b(),m.a.success("Marquee uploaded successfully"),e.target.value=""}catch(l){console.error("Upload error:",l),m.a.error("Failed to upload marquee")}},style:{display:"none"}})]}),Object(x.jsx)("div",{style:{marginLeft:"30px",marginBottom:"20px"},children:Object(x.jsxs)("p",{style:{color:"#d1d5db",fontSize:"14px"},children:["Note: Custom marquee files must follow the naming convention: ",Object(x.jsx)("span",{style:{background:"rgba(0,0,0,0.3)",padding:"4px 8px",borderRadius:"4px",fontFamily:"monospace"},children:"default-yourfilename.jpg"})]})}),Object(x.jsx)("div",{style:{marginLeft:"30px",marginBottom:"20px"},children:Object(x.jsx)("p",{style:{color:"#d1d5db",fontSize:"14px"},children:"Select desired marquee and it will appear by default on startup"})}),Object(x.jsx)(p,{isLoading:e}),Object(x.jsxs)("div",{className:"layout-grid fade-in",children:[Object(x.jsxs)("div",{style:{position:"relative"},children:[Object(x.jsx)("img",{onClick:()=>S(1),style:{backgroundColor:"rgba(255, 255, 255, .05)",cursor:"pointer",position:"relative",minHeight:40,border:"1"===c?"3px solid #4CAF50":"none",borderRadius:"4px"},src:Z,alt:"marquee 1",className:"grid-item fade-in"}),"1"===c&&Object(x.jsx)("div",{style:{position:"absolute",top:"4px",left:"4px",backgroundColor:"#4CAF50",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(x.jsx)("span",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold"},children:"\u2713"})})]}),Object(x.jsxs)("div",{style:{position:"relative"},children:[Object(x.jsx)("img",{onClick:()=>S(2),style:{backgroundColor:"rgba(255, 255, 255, .05)",cursor:"pointer",position:"relative",minHeight:40,border:"2"===c?"3px solid #4CAF50":"none",borderRadius:"4px"},src:_,alt:"marquee 2",className:"grid-item fade-in"}),"2"===c&&Object(x.jsx)("div",{style:{position:"absolute",top:"4px",left:"4px",backgroundColor:"#4CAF50",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(x.jsx)("span",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold"},children:"\u2713"})})]}),Object(x.jsxs)("div",{style:{position:"relative"},children:[Object(x.jsx)("img",{onClick:()=>S(3),style:{backgroundColor:"rgba(255, 255, 255, .05)",cursor:"pointer",position:"relative",minHeight:40,border:"3"===c?"3px solid #4CAF50":"none",borderRadius:"4px"},src:Q,alt:"marquee 3",className:"grid-item fade-in"}),"3"===c&&Object(x.jsx)("div",{style:{position:"absolute",top:"4px",left:"4px",backgroundColor:"#4CAF50",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(x.jsx)("span",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold"},children:"\u2713"})})]}),a.map((e=>{const t=`${e.systemName}-${e.filename}`,a=c===t;return console.log(`Comparing: currentDefault="${c}" vs fullFilename="${t}" => isDefault=${a}`),Object(x.jsxs)("div",{style:{position:"relative",border:a?"3px solid #4CAF50":"none",borderRadius:"4px"},onContextMenu:t=>{const a=`${e.systemName}-${e.filename}.jpg`;console.log("Full MarqueeInfo item:",e),console.log("Constructed filename for delete:",a),((e,t)=>{e.preventDefault();const a=e.currentTarget.getBoundingClientRect(),s=window.innerWidth;let n=a.right+10;a.right+100>s&&(n=a.left-110),h({x:n,y:a.top,filename:t})})(t,a)},children:[Object(x.jsx)(U,{system:"user",marquee:e,onClick:()=>S(e)}),a&&Object(x.jsx)("div",{style:{position:"absolute",top:"4px",left:"4px",backgroundColor:"#4CAF50",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10},children:Object(x.jsx)("span",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold"},children:"\u2713"})}),Object(x.jsx)("div",{style:{position:"absolute",top:"4px",right:"4px",backgroundColor:"rgba(200, 0, 0, 0.8)",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:10,border:"1px solid rgba(255,255,255,.3)",transition:"all 0.2s ease"},onClick:t=>{t.stopPropagation();const a=`${e.systemName}-${e.filename}.jpg`;window.confirm(`Delete "${a}"?`)&&g(a)},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255, 0, 0, 1)",e.currentTarget.style.transform="scale(1.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(200, 0, 0, 0.8)",e.currentTarget.style.transform="scale(1)"},children:Object(x.jsx)("span",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold"},children:"\u2715"})})]},e.filename)}))]}),j&&Object(x.jsx)(ee,{x:j.x,y:j.y,onDelete:()=>g(j.filename),onClose:()=>h(null)})]})},ae=a(184),se=a(198);const ne=["LiberationSans-Bold","LiberationSans-Regular","Orbitron-SemiBold","Arial Narrow 7","Benegraphic","Casio FX-702P","Decoder","dotty","DPComic","Ghastly Panic","Gnuolane","Grinched","Handwriting","Harry P","Haunting Attraction","Minimal4","Morris Roman","MostlyMono","Neon 80s","Nintendo DS BIOS","Not So Stout Deco","Pixelated","Pixeled","RetroBoundmini","Samba Is Dead","Shlop","Space Patrol NF","Star Jedi Hollow","Star Jedi","Still Time","Tall Films Fine","techno overload (BRK)","TR2N","TRON","Vectroid","Videophreak"],oe=()=>{const e=`${O("")}/settings?key=getSettings`;return v.a.get(e).then((e=>e.data))};var re=a(89),le=a(6);a(77);var ce=()=>{const[e,t]=Object(s.useState)(""),[a,n]=Object(s.useState)(),[o,r]=Object(s.useState)(),[l,c]=Object(s.useState)(""),[i,d]=Object(s.useState)(""),[u,j]=Object(s.useState)(""),[h,b]=Object(s.useState)(!1),[p,g]=Object(s.useState)(!1),[y,f]=Object(s.useState)(!1);Object(s.useEffect)((()=>{(()=>{const e=`${O()}/info`;return v.a.get(e).then((e=>e.data))})().then((e=>{t(e.name),r(e)})),oe().then((e=>{n(e)})).catch(),(()=>{const e=`${O("")}/wifisetup`;return v.a.get(e).then((e=>e.data))})().then((e=>{e.hasWifi&&(d(e.ssid),j(e.password||""),g(!0))})).catch((()=>{}))}),[]),Object(s.useEffect)((()=>{const e=async()=>{try{const e=window.location.hostname,t=await fetch(`http://${e}:8080/v2/log`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.text();c(a)}catch(e){c("Error loading log file: "+(e instanceof Error?e.message:String(e)))}};e();const t=setInterval(e,5e3);return()=>clearInterval(t)}),[]);const S=e=>Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:e})}),k=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=ImageMarqueesOnly&value=${e?"yes":"no"}`;return v.a.get(t).then((e=>e.data))})(!a.ImageMarqueesOnly),{loading:"Updating video marquees settings",success:()=>(n({...a,ImageMarqueesOnly:!a.ImageMarqueesOnly}),S("Video marquees settings updated")),error:"Setting failed"},{duration:4e3})},w=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=PixelcadeOLEDGlitch&value=${e?"yes":"no"}`;return v.a.get(t).then((e=>e.data))})(!a.PixelcadeOLEDGlitch),{loading:"Updating Mini OLED Glitch Mode",success:()=>(n({...a,PixelcadeOLEDGlitch:!a.PixelcadeOLEDGlitch}),S("Mini OLED Glitch Mode Updated")),error:"Mini OLED Glitch Mode Update Failed"},{duration:4e3})},C=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=SubDisplayScrollingOnly&value=${e?"yes":"no"}`;return v.a.get(t).then((e=>e.data))})(!a.SubDisplayScrollingOnly),{loading:"Updating Text scrolling settings",success:()=>(n({...a,SubDisplayScrollingOnly:!a.SubDisplayScrollingOnly}),S("Text scrolling settings updated")),error:"Setting failed"},{duration:4e3})},N=()=>{m.a.promise((e=>{const t=`${O("")}/settings?key=DisplayName&value=${e}`;return v.a.get(t).then((e=>e.data))})(e),{loading:"Updating Device Name",success:()=>S("Device Name updated"),error:"Setting failed"},{duration:4e3})},T=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=font&value=${e}`;return v.a.get(t).then((e=>e.data))})(a.font),{loading:"Updating Device Font",success:"Font updated",error:"Setting failed"},{duration:4e3})},F=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=PixelcadeDotType&value=${e}`;return v.a.get(t).then((e=>e.data))})(a.PixelcadeDotType),{loading:"Updating Pixelcade Sub-Display Type",success:"Sub-Display Type updated",error:"Sub-Display Type Updated Failed"},{duration:4e3})},L=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=PixelcadeMiniDisplayType&value=${e}`;return v.a.get(t).then((e=>e.data))})(a.PixelcadeMiniDisplayType),{loading:"Updating Pixelcade Mini Display Type",success:"Pixelcade Mini Display Type Updated",error:"Pixelcade Mini Display Updated Failed"},{duration:4e3})},M=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=PixelcadeOLEDMode&value=${e}`;return v.a.get(t).then((e=>e.data))})(a.PixelcadeOLEDMode),{loading:"Updating Pixelcade Mini OLED Mode",success:"Pixelcade Mini OLED Mode Updated",error:"Pixelcade Mini OLED Mode Update Failed"},{duration:4e3})},A=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=textColor&value=${e}`;return v.a.get(t).then((e=>e.data))})(a.FontColor),{loading:"Updating Font Color",success:"Font color updated",error:"Setting failed"},{duration:4e3})},$=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=marqueeOverlays&value=${e?"yes":"no"}`;return v.a.get(t).then((e=>e.data))})(!a.marqueeOverlays),{loading:"Updating Marquee Overlay settings",success:()=>(n({...a,marqueeOverlays:!a.marqueeOverlays}),S("Marquee Overlay settings updated")),error:"Setting failed"},{duration:4e3})},D=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=videoLoopMode&value=${e?"yes":"no"}`;return v.a.get(t).then((e=>e.data))})(!a.videoLoopMode),{loading:"Updating Video Loop Mode",success:()=>(n({...a,videoLoopMode:!a.videoLoopMode}),S("Video Loop Mode "+(a.videoLoopMode?"disabled":"enabled"))),error:"Setting failed"},{duration:4e3})},U=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=fuzzyMatch&value=${e?"yes":"no"}`;return v.a.get(t).then((e=>e.data))})(!a.fuzzyMatch),{loading:"Updating Fuzzy Matching settings",success:()=>(n({...a,fuzzyMatch:!a.fuzzyMatch}),S("Fuzzy Matching settings updated")),error:"Setting failed"},{duration:4e3})},I=e=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=fuzzyMatchDistance&value=${e}`;return v.a.get(t).then((e=>e.data))})(e),{loading:"Updating Fuzzy Match Distance",success:()=>(n({...a,fuzzyMatchDistance:e}),`Fuzzy Match Distance set to ${e}`),error:"Setting failed"},{duration:4e3})},E=()=>{a&&m.a.promise((e=>{const t=`${O("")}/settings?key=debug&value=${e?"yes":"no"}`;return v.a.get(t).then((e=>e.data))})(!a.debug),{loading:"Updating Debug Mode",success:()=>(n({...a,debug:!a.debug}),S("Debug Mode "+(a.debug?"disabled":"enabled"))),error:"Setting failed"},{duration:4e3})};return Object(x.jsxs)("div",{className:"fade-in",children:[a&&Object(x.jsxs)("div",{className:"layout-grid",style:{marginTop:"0.5rem",gap:"2rem"},children:[Object(x.jsxs)("div",{className:"settings",children:[Object(x.jsx)("label",{style:{margin:"1rem 0 .5rem 0"},children:"Device Name"}),Object(x.jsx)("input",{style:{height:36,fontSize:"1.2rem",padding:"0 0.4rem"},type:"text",id:"fname",name:"fname",value:e,onChange:e=>{t(e.target.value)}}),Object(x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gridGap:"1rem"},children:[Object(x.jsx)("div",{}),Object(x.jsx)(R.a,{style:{marginTop:"1.2rem"},variant:"contained",color:"primary",onClick:()=>N(),children:"Update"})]})]}),Object(x.jsxs)("div",{className:"settings",children:[Object(x.jsx)("label",{style:{margin:"1rem 0 .5rem 0",fontWeight:"bold"},children:"Device Info"}),o&&Object(x.jsxs)("div",{style:{fontSize:"1rem",lineHeight:"1.6"},children:[Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Name:"})," ",Object(x.jsx)("span",{style:{color:"#666",fontWeight:"normal"},children:o.name})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Hostname:"})," ",Object(x.jsx)("span",{style:{color:"#666",fontWeight:"normal"},children:o.hostname})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Firmware:"})," ",Object(x.jsxs)("span",{style:{color:"#666",fontWeight:"normal"},children:["v",o.firmwareVersion]})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Artwork Version:"})," ",Object(x.jsx)("span",{style:{color:"#666",fontWeight:"normal"},children:o.artworkVersion})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Resolution:"})," ",Object(x.jsxs)("span",{style:{color:"#666",fontWeight:"normal"},children:[o.resolution.width,"x",o.resolution.height]})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Generation:"})," ",Object(x.jsx)("span",{style:{color:"#666",fontWeight:"normal"},children:o.pixelcadeGen})]}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:"Connected Sub-Displays:"})}),Object(x.jsxs)("ul",{style:{marginLeft:"1.5rem",marginTop:"0.5rem",color:"#666",fontWeight:"normal"},children:[o.oled&&Object(x.jsx)("li",{children:"OLED Display"}),o.miniLCD&&Object(x.jsx)("li",{children:"Mini LCD"}),o.dotMatrix&&Object(x.jsx)("li",{children:"Dot Matrix"}),o.sevenSegment&&Object(x.jsx)("li",{children:"Seven Segment"})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Network Status:"})," ",Object(x.jsx)("span",{style:{color:o.hasJoinedNetwork?"green":"red",fontWeight:"normal"},children:o.hasJoinedNetwork?"Connected":"Not Connected"})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Pairing Status:"})," ",Object(x.jsx)("span",{style:{color:o.isPaired?"green":"red",fontWeight:"normal"},children:o.isPaired?"Paired":"Not Paired"})]})]})]}),Object(x.jsxs)("div",{className:"settings",children:[Object(x.jsx)("label",{style:{margin:"1rem 0 .5rem 0",fontWeight:"bold"},children:"WiFi Setup"}),Object(x.jsx)("p",{style:{marginBottom:"1rem"},children:"Connect your Pixelcade LCD to your home WiFi network to enable network features. If your WiFi network changes, update the credentials here and restart your Pixelcade."}),Object(x.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#666"},children:"WiFi Network Name (SSID)"}),Object(x.jsx)("input",{style:{height:36,fontSize:"1rem",padding:"0 0.6rem",width:"100%",maxWidth:"250px",marginBottom:"1rem"},type:"text",placeholder:"Enter your WiFi network name",value:i,onChange:e=>{d(e.target.value),h||b(!0)}}),Object(x.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#666"},children:"WiFi Password"}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[Object(x.jsx)("input",{style:{height:36,fontSize:"1rem",padding:"0 0.6rem",width:"100%",maxWidth:"250px"},type:h?"text":"password",placeholder:p&&!h?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Enter your WiFi password",value:u,onChange:e=>{j(e.target.value)}}),Object(x.jsx)(R.a,{variant:"outlined",size:"small",onClick:()=>b(!h),style:{minWidth:"80px"},children:h?"Hide":"Show"})]}),Object(x.jsx)(R.a,{variant:"contained",color:"primary",onClick:()=>{i.trim()?(f(!0),m.a.promise(((e,t)=>{const a=`${O("")}/wifisetup`;return v.a.post(a,{ssid:e,password:t}).then((e=>e.data))})(i.trim(),u),{loading:"Saving WiFi configuration...",success:()=>(g(!0),b(!1),"WiFi configuration saved! Restart your Pixelcade to connect to the new network."),error:"Failed to save WiFi configuration"},{duration:6e3}).finally((()=>{f(!1)}))):m.a.error("Please enter a WiFi network name (SSID)")},disabled:y||!i.trim(),style:{marginTop:"0.5rem"},children:y?"Saving...":"Save WiFi Settings"}),p&&Object(x.jsxs)("p",{style:{fontSize:"0.9rem",color:"green",marginTop:"1rem"},children:["\u2713 WiFi is configured for network: ",i]})]}),Object(x.jsxs)("div",{className:"settings",children:[Object(x.jsx)("p",{children:"When disabled, Pixelcade will not show video marquees and will show static marquees only."}),Object(x.jsx)(ae.a,{style:{marginTop:"1.2rem"},control:Object(x.jsx)(se.a,{checked:!a.ImageMarqueesOnly,onChange:()=>k(),color:"primary"}),label:"Show Video Marquees"})]}),Object(x.jsxs)("div",{className:"settings",style:{marginTop:"2rem"},children:[Object(x.jsx)("p",{children:"When enabled, video marquees will continue to loop indefinitely and no longer land on the static marquee."}),Object(x.jsx)(ae.a,{style:{marginTop:"1.2rem"},control:Object(x.jsx)(se.a,{checked:a.videoLoopMode,onChange:()=>D(),color:"primary"}),label:"Loop Video Marquees Indefinitely"})]}),Object(x.jsxs)("div",{className:"settings",style:{marginTop:"2rem"},children:[Object(x.jsxs)("p",{children:["Disabling splash screens means Pixelcade will not display now playing splash screens, high scores, or marquee overlays. ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"Only a Pixelcade LED marquee (if connected) or a Pixelcade Dot sub-display (if connected) will display scrolling text for now playing game launches and high scores."]}),Object(x.jsx)(ae.a,{style:{marginTop:"1.2rem"},control:Object(x.jsx)(se.a,{checked:a.SubDisplayScrollingOnly,onChange:()=>C(),color:"primary"}),label:"Disable Splash Screens"})]}),Object(x.jsxs)("div",{className:"settings",style:{marginTop:"2rem"},children:[Object(x.jsx)("label",{style:{margin:".5rem 0 .5rem 0"},children:"Font"}),Object(x.jsx)(le.c,{selectedValue:a.font,name:"font",options:ne.map((e=>({value:e,text:e}))),caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value;n({...a,font:t})}}),Object(x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gridGap:"1rem"},children:[Object(x.jsx)("div",{}),Object(x.jsx)(R.a,{style:{marginTop:"1.2rem"},variant:"contained",color:"primary",onClick:()=>T(),children:"Update"})]})]}),Object(x.jsxs)("div",{className:"settings",style:{marginTop:"2rem"},children:[Object(x.jsx)("label",{style:{margin:".5rem 0 .5rem 0"},children:"Font Color"}),Object(x.jsx)(re.a,{color:a.FontColor,onChange:e=>n({...a,FontColor:e.replace("#","")})}),Object(x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gridGap:"1rem"},children:[Object(x.jsx)("div",{}),Object(x.jsx)(R.a,{style:{marginTop:"1.2rem"},variant:"contained",color:"primary",onClick:()=>A(),children:"Update"})]})]}),Object(x.jsxs)("div",{className:"settings",style:{marginTop:"2rem"},children:[Object(x.jsx)("p",{children:"When disabled, Pixelcade will not show overlays such as high scores in a small bar on the bottom of game marquees."}),Object(x.jsx)(ae.a,{style:{marginTop:"1.2rem"},control:Object(x.jsx)(se.a,{checked:a.marqueeOverlays,onChange:()=>$(),color:"primary"}),label:"Show Marquee Overlays"})]}),Object(x.jsxs)("div",{className:"settings",style:{marginTop:"2rem"},children:[Object(x.jsx)("p",{children:"When enabled, will attempt to match artwork when there is not an exact file match. Ex. mame-game.jpg will match with mame-gamex(USA).jpg"}),Object(x.jsx)(ae.a,{style:{marginTop:"1.2rem"},control:Object(x.jsx)(se.a,{checked:a.fuzzyMatch,onChange:()=>U(),color:"primary"}),label:"Fuzzy Matching"}),a.fuzzyMatch&&Object(x.jsxs)("div",{style:{marginTop:"1.5rem",paddingLeft:"1rem"},children:[Object(x.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#666"},children:["Fuzzy Match Distance (0-10): ",a.fuzzyMatchDistance]}),Object(x.jsx)("input",{type:"range",min:"0",max:"10",value:a.fuzzyMatchDistance,onChange:e=>I(Number(e.target.value)),style:{width:"100%",maxWidth:"300px"}}),Object(x.jsx)("p",{style:{fontSize:"0.9rem",color:"#666",marginTop:"0.5rem"},children:"Lower values require closer matches. Higher values allow more variation."})]})]}),Object(x.jsxs)("div",{className:"settings",style:{marginTop:"2rem"},children:[Object(x.jsx)("label",{style:{margin:".5rem 0 .5rem 0"},children:"Pixelcade Dot Sub-Display Type"}),Object(x.jsx)("label",{style:{margin:".5rem 0 .5rem 0",display:"block",color:"#666"},children:"Please Select Manually"}),Object(x.jsx)(le.c,{selectedValue:a.PixelcadeDotType,name:"PixelcadeDotType",options:[{text:"Matrix",value:"matrix"},{text:"7 Segment",value:"7segment"},{text:"None",value:"none"}],caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value;n({...a,PixelcadeDotType:t})}}),Object(x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gridGap:"1rem"},children:[Object(x.jsx)("div",{}),Object(x.jsx)(R.a,{style:{marginTop:"1.2rem"},variant:"contained",color:"primary",onClick:()=>F(),children:"Update"})]})]}),Object(x.jsxs)("div",{className:"settings",style:{marginTop:"2rem"},children:[Object(x.jsx)("label",{style:{margin:".5rem 0 .5rem 0"},children:"Pixelcade Mini Dot Sub-Display Type"}),Object(x.jsx)("label",{style:{margin:".5rem 0 .5rem 0",display:"block",color:"#666"},children:"Auto Detected"}),Object(x.jsx)(le.c,{selectedValue:a.PixelcadeMiniDisplayType,name:"PixelcadeMiniDisplayType",options:[{text:"Mini OLED",value:"oled"},{text:"Mini LCD 4 Lines",value:"lcd4line"},{text:"Mini LCD 2 Lines",value:"lcd2line"},{text:"None",value:"none"}],caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value;n({...a,PixelcadeMiniDisplayType:t})}}),Object(x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gridGap:"1rem"},children:[Object(x.jsx)("div",{}),Object(x.jsx)(R.a,{style:{marginTop:"1.2rem"},variant:"contained",color:"primary",onClick:()=>L(),children:"Update"})]})]}),Object(x.jsxs)("div",{className:"settings",style:{marginTop:"2rem"},children:[Object(x.jsx)("label",{style:{margin:".5rem 0 .5rem 0"},children:"Pixelcade Mini OLED Mode"}),Object(x.jsx)(le.c,{selectedValue:a.PixelcadeOLEDMode,name:"PixelcadeOLEDMode",options:[{text:"Marquee Mode",value:"marquee"},{text:"Metadata Mode",value:"metadata"}],caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value;n({...a,PixelcadeOLEDMode:t})}}),Object(x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gridGap:"1rem"},children:[Object(x.jsx)("div",{}),Object(x.jsx)(R.a,{style:{marginTop:"1.2rem"},variant:"contained",color:"primary",onClick:()=>M(),children:"Update"})]})]}),Object(x.jsxs)("div",{className:"settings",style:{marginTop:"2rem"},children:[Object(x.jsx)("p",{children:"Pixelcade Mini OLED Glitch Mode"}),Object(x.jsx)(ae.a,{style:{marginTop:"1.2rem"},control:Object(x.jsx)(se.a,{checked:a.PixelcadeOLEDGlitch,onChange:()=>w(),color:"primary"}),label:"Enable Pixelcade Mini OLED Glitch Mode"})]}),Object(x.jsxs)("div",{className:"settings",style:{marginTop:"2rem"},children:[Object(x.jsx)("p",{children:"When enabled, detailed debug messages will be written to the log. This is useful for troubleshooting issues."}),Object(x.jsx)(ae.a,{style:{marginTop:"1.2rem"},control:Object(x.jsx)(se.a,{checked:a.debug,onChange:()=>E(),color:"primary"}),label:"Enable Debug Logging"})]})]}),Object(x.jsxs)("div",{className:"log-container",style:{marginTop:"2rem",padding:"1rem",backgroundColor:"#f4f4f4",borderRadius:"5px",maxHeight:"400px",overflowY:"auto",width:"100%",display:"flex",flexDirection:"column"},children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[Object(x.jsx)("h3",{style:{margin:0,color:"#333"},children:"Pixelcade LCD Log (updates every 5 seconds)"}),Object(x.jsx)(R.a,{variant:"contained",color:"primary",onClick:()=>{const e=new Blob([l],{type:"text/plain"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="pixelcadelcd.log",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)},disabled:!l,children:"Download Log"})]}),Object(x.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word",color:"black",fontSize:"1rem",padding:"1rem",backgroundColor:"#fff",borderRadius:"5px",flex:1},children:l})]})]})};var ie=()=>{const[e,t]=Object(s.useState)("");return Object(x.jsx)("div",{className:"layout-grid fade-in",style:{marginTop:"0.5rem"},children:Object(x.jsxs)("div",{className:"settings",style:{display:"flex",flexDirection:"column"},children:[Object(x.jsx)("label",{style:{margin:"1rem 0 .5rem 0"},children:"Scrolling Text"}),Object(x.jsx)("input",{style:{height:36,fontSize:"1.2rem",padding:"0 0.4rem"},type:"text",id:"fname",name:"fname",value:e,onChange:e=>{t(e.target.value)}}),Object(x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gridGap:"1rem"},children:[Object(x.jsx)("div",{}),Object(x.jsx)(R.a,{style:{marginTop:"1.2rem"},variant:"contained",color:"primary",onClick:()=>{m.a.promise((e=>{const t=`${O("")}/text?t=${e}`;return v.a.get(t)})(e),{loading:"Sending message to marquee",success:"Message sent",error:"Failed"},{duration:4e3})},children:"Send Text"})]})]})})},de=a(185),ue=a(186),je=a(187),me=a(188),he=a(189),xe=a(190),be=a(191);const pe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;const n=t.length>0?t.join(","):"",o=`${O("")}/sports/start?league=${encodeURIComponent(e)}&teams=${encodeURIComponent(n)}&refresh=${a}&speed=${s}`;return v.a.get(o).then((e=>e.data))},ge=()=>{const e=`${O("")}/sports/stop`;return v.a.get(e).then((e=>e.data))},ve=()=>{const e=`${O("")}/sports/status`;return v.a.get(e).then((e=>e.data))},Oe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const s=`${O("")}/sports/start-favorites?favorites=${encodeURIComponent(e)}&refresh=${t}&speed=${a}`;return v.a.get(s).then((e=>e.data))},ye="tickerStarted",fe=e=>{window.dispatchEvent(new CustomEvent(ye,{detail:{tickerType:e}}))},Se=e=>{const t=t=>{e(t.detail.tickerType)};return window.addEventListener(ye,t),()=>window.removeEventListener(ye,t)};a(139);var ke=()=>{const e=Object(c.o)(),[t,a]=Object(s.useState)({sports:!1,stocks:!1,weather:!1,news:!1,clock:!1}),[n,o]=Object(s.useState)({sports:!1,stocks:!1,weather:!1,news:!1,clock:!1}),[r,l]=Object(s.useState)(null);Object(s.useEffect)((()=>{(async()=>{try{var e,t,s,n;const o=await oe();l(o);const r=await ve(),c=await v.a.get(`${O("")}/stocks/status`),i=await v.a.get(`${O("")}/weather/status`),d=await v.a.get(`${O("")}/news/status`),u=await v.a.get(`${O("")}/clock/status`);a({sports:(null===r||void 0===r?void 0:r.running)||!1,stocks:(null===(e=c.data)||void 0===e?void 0:e.running)||!1,weather:(null===(t=i.data)||void 0===t?void 0:t.running)||!1,news:(null===(s=d.data)||void 0===s?void 0:s.running)||!1,clock:(null===(n=u.data)||void 0===n?void 0:n.running)||!1})}catch(o){console.error("Error fetching ticker statuses:",o)}})();const e=Se((e=>{a({sports:"sports"===e,stocks:"stocks"===e,weather:"weather"===e,news:"news"===e,clock:"clock"===e})}));return()=>e()}),[]);return Object(x.jsx)("div",{className:"widgets-menu fade-in",children:Object(x.jsxs)("div",{className:"widgets-grid",children:[Object(x.jsxs)(R.a,{variant:"contained",className:"widget-button "+(t.sports?"active":""),onClick:async()=>{if(t.sports)try{await ge(),a((e=>({...e,sports:!1}))),m.a.success("Sports Ticker Stopped")}catch(e){m.a.error("Failed to stop Sports Ticker")}else{o((e=>({...e,sports:!0})));try{const e=(null===r||void 0===r?void 0:r.sportTickerMode)||"league",t=((null===r||void 0===r?void 0:r.sportTickerRefresh)||60)/60,s=(null===r||void 0===r?void 0:r.sportScrollSpeed)||5;if("favorites"===e&&null!==r&&void 0!==r&&r.sportFavoriteTeams)await Oe(r.sportFavoriteTeams,t,s);else{if(null===r||void 0===r||!r.sportLeagues)return m.a.error("Please configure Sports settings first"),void o((e=>({...e,sports:!1})));{const e=null!==r&&void 0!==r&&r.sportTeamCodes?r.sportTeamCodes.split(","):[];await pe(r.sportLeagues,e,t,s)}}a({sports:!0,stocks:!1,weather:!1,news:!1,clock:!1}),fe("sports"),m.a.success("Sports Ticker Started!")}catch(e){m.a.error("Failed to start Sports Ticker")}finally{o((e=>({...e,sports:!1})))}}},disabled:n.sports,children:[n.sports?Object(x.jsx)(de.a,{size:24,style:{color:"#fff"}}):t.sports?Object(x.jsx)(ue.a,{className:"widget-icon"}):Object(x.jsx)(je.a,{className:"widget-icon"}),Object(x.jsx)("span",{className:"widget-label",children:t.sports?"Stop Sports":"Sports Scoreboard"})]}),Object(x.jsxs)(R.a,{variant:"contained",className:"widget-button "+(t.stocks?"active":""),onClick:async()=>{if(t.stocks)try{await v.a.get(`${O("")}/stocks/stop`),a((e=>({...e,stocks:!1}))),m.a.success("Stocks Ticker Stopped")}catch(e){m.a.error("Failed to stop Stocks Ticker")}else{o((e=>({...e,stocks:!0})));try{const e=(null===r||void 0===r?void 0:r.stockSymbols)||"MSFT,GOOG,AMZN",t=(null===r||void 0===r?void 0:r.stockTickerRefresh)||5,s=(null===r||void 0===r?void 0:r.stockScrollSpeed)||5,n=(null===r||void 0===r?void 0:r.stockFont)||"LiberationSans-Bold";await v.a.get(`${O("")}/stocks/start?symbols=${encodeURIComponent(e)}&refresh=${t}&speed=${s}&font=${encodeURIComponent(n)}`),a({sports:!1,stocks:!0,weather:!1,news:!1,clock:!1}),fe("stocks"),m.a.success("Stocks Ticker Started!")}catch(e){m.a.error("Failed to start Stocks Ticker")}finally{o((e=>({...e,stocks:!1})))}}},disabled:n.stocks,children:[n.stocks?Object(x.jsx)(de.a,{size:24,style:{color:"#fff"}}):t.stocks?Object(x.jsx)(ue.a,{className:"widget-icon"}):Object(x.jsx)(me.a,{className:"widget-icon"}),Object(x.jsx)("span",{className:"widget-label",children:t.stocks?"Stop Stocks":"Stocks & Crypto"})]}),Object(x.jsxs)(R.a,{variant:"contained",className:"widget-button "+(t.weather?"active":""),onClick:async()=>{if(t.weather)try{await v.a.get(`${O("")}/weather/stop`),a((e=>({...e,weather:!1}))),m.a.success("Weather Widget Stopped")}catch(e){m.a.error("Failed to stop Weather Widget")}else{o((e=>({...e,weather:!0})));try{const e=(null===r||void 0===r?void 0:r.weatherLocation)||"95050",t=(null===r||void 0===r?void 0:r.weatherUnits)||"fahrenheit",s=(null===r||void 0===r?void 0:r.weatherForecast)||"1day";await v.a.get(`${O("")}/weather/start?location=${encodeURIComponent(e)}&units=${t}&forecast=${s}`),a({sports:!1,stocks:!1,weather:!0,news:!1,clock:!1}),fe("weather"),m.a.success("Weather Widget Started!")}catch(e){m.a.error("Failed to start Weather Widget")}finally{o((e=>({...e,weather:!1})))}}},disabled:n.weather,children:[n.weather?Object(x.jsx)(de.a,{size:24,style:{color:"#fff"}}):t.weather?Object(x.jsx)(ue.a,{className:"widget-icon"}):Object(x.jsx)(he.a,{className:"widget-icon"}),Object(x.jsx)("span",{className:"widget-label",children:t.weather?"Stop Weather":"Weather"})]}),Object(x.jsxs)(R.a,{variant:"contained",className:"widget-button "+(t.news?"active":""),onClick:async()=>{if(t.news)try{await v.a.get(`${O("")}/news/stop`),a((e=>({...e,news:!1}))),m.a.success("News Ticker Stopped")}catch(e){m.a.error("Failed to stop News Ticker")}else{o((e=>({...e,news:!0})));try{const e=(null===r||void 0===r?void 0:r.newsSources)||"bbc",t=(null===r||void 0===r?void 0:r.newsTickerRefresh)||5,s=(null===r||void 0===r?void 0:r.newsScrollSpeed)||5;await v.a.get(`${O("")}/news/start?sources=${encodeURIComponent(e)}&refresh=${t}&speed=${s}`),a({sports:!1,stocks:!1,weather:!1,news:!0,clock:!1}),fe("news"),m.a.success("News Ticker Started!")}catch(e){m.a.error("Failed to start News Ticker")}finally{o((e=>({...e,news:!1})))}}},disabled:n.news,children:[n.news?Object(x.jsx)(de.a,{size:24,style:{color:"#fff"}}):t.news?Object(x.jsx)(ue.a,{className:"widget-icon"}):Object(x.jsx)(xe.a,{className:"widget-icon"}),Object(x.jsx)("span",{className:"widget-label",children:t.news?"Stop News":"News"})]}),Object(x.jsxs)(R.a,{variant:"contained",className:"widget-button "+(t.clock?"active":""),onClick:async()=>{if(t.clock)try{await v.a.get(`${O("")}/clock/stop`),a((e=>({...e,clock:!1}))),m.a.success("Clock Widget Stopped")}catch(e){m.a.error("Failed to stop Clock Widget")}else{o((e=>({...e,clock:!0})));try{const e=(null===r||void 0===r?void 0:r.clockFace)||"cyberpunk",t="yes"===(null===r||void 0===r?void 0:r.clockUse12Hour),s="yes"===(null===r||void 0===r?void 0:r.clockShowSeconds);await v.a.get(`${O("")}/clock/start?face=${e}&use12Hour=${t}&showSeconds=${s}`),a({sports:!1,stocks:!1,weather:!1,news:!1,clock:!0}),fe("clock"),m.a.success("Clock Widget Started!")}catch(e){m.a.error("Failed to start Clock Widget")}finally{o((e=>({...e,clock:!1})))}}},disabled:n.clock,children:[n.clock?Object(x.jsx)(de.a,{size:24,style:{color:"#fff"}}):t.clock?Object(x.jsx)(ue.a,{className:"widget-icon"}):Object(x.jsx)(be.a,{className:"widget-icon"}),Object(x.jsx)("span",{className:"widget-label",children:t.clock?"Stop Clock":"Clock"})]}),Object(x.jsxs)(R.a,{variant:"contained",className:"widget-button settings-button",onClick:()=>e("/widget-settings"),children:[Object(x.jsx)(J.a,{className:"widget-icon"}),Object(x.jsx)("span",{className:"widget-label",children:"Widget Settings"})]})]})})},we=a(192);const Ce=[{text:"NFL",value:"nfl",sport:"football"},{text:"NBA",value:"nba",sport:"basketball"},{text:"MLB",value:"mlb",sport:"baseball"},{text:"NHL",value:"nhl",sport:"hockey"},{text:"NCAAF (College Football)",value:"college-football",sport:"football"},{text:"NCAAB (College Basketball)",value:"mens-college-basketball",sport:"basketball"},{text:"NCAAW (Women's Basketball)",value:"womens-college-basketball",sport:"basketball"},{text:"WNBA",value:"wnba",sport:"basketball"},{text:"MLS",value:"usa.1",sport:"soccer"},{text:"EPL (Premier League)",value:"eng.1",sport:"soccer"},{text:"La Liga (Spain)",value:"esp.1",sport:"soccer"},{text:"Bundesliga (Germany)",value:"ger.1",sport:"soccer"},{text:"Serie A (Italy)",value:"ita.1",sport:"soccer"},{text:"Ligue 1 (France)",value:"fra.1",sport:"soccer"}],Ne={nfl:[{text:"Arizona Cardinals",value:"ARI"},{text:"Atlanta Falcons",value:"ATL"},{text:"Baltimore Ravens",value:"BAL"},{text:"Buffalo Bills",value:"BUF"},{text:"Carolina Panthers",value:"CAR"},{text:"Chicago Bears",value:"CHI"},{text:"Cincinnati Bengals",value:"CIN"},{text:"Cleveland Browns",value:"CLE"},{text:"Dallas Cowboys",value:"DAL"},{text:"Denver Broncos",value:"DEN"},{text:"Detroit Lions",value:"DET"},{text:"Green Bay Packers",value:"GB"},{text:"Houston Texans",value:"HOU"},{text:"Indianapolis Colts",value:"IND"},{text:"Jacksonville Jaguars",value:"JAX"},{text:"Kansas City Chiefs",value:"KC"},{text:"Las Vegas Raiders",value:"LV"},{text:"Los Angeles Chargers",value:"LAC"},{text:"Los Angeles Rams",value:"LAR"},{text:"Miami Dolphins",value:"MIA"},{text:"Minnesota Vikings",value:"MIN"},{text:"New England Patriots",value:"NE"},{text:"New Orleans Saints",value:"NO"},{text:"New York Giants",value:"NYG"},{text:"New York Jets",value:"NYJ"},{text:"Philadelphia Eagles",value:"PHI"},{text:"Pittsburgh Steelers",value:"PIT"},{text:"San Francisco 49ers",value:"SF"},{text:"Seattle Seahawks",value:"SEA"},{text:"Tampa Bay Buccaneers",value:"TB"},{text:"Tennessee Titans",value:"TEN"},{text:"Washington Commanders",value:"WAS"}],nba:[{text:"Atlanta Hawks",value:"ATL"},{text:"Boston Celtics",value:"BOS"},{text:"Brooklyn Nets",value:"BKN"},{text:"Charlotte Hornets",value:"CHA"},{text:"Chicago Bulls",value:"CHI"},{text:"Cleveland Cavaliers",value:"CLE"},{text:"Dallas Mavericks",value:"DAL"},{text:"Denver Nuggets",value:"DEN"},{text:"Detroit Pistons",value:"DET"},{text:"Golden State Warriors",value:"GS"},{text:"Houston Rockets",value:"HOU"},{text:"Indiana Pacers",value:"IND"},{text:"Los Angeles Clippers",value:"LAC"},{text:"Los Angeles Lakers",value:"LAL"},{text:"Memphis Grizzlies",value:"MEM"},{text:"Miami Heat",value:"MIA"},{text:"Milwaukee Bucks",value:"MIL"},{text:"Minnesota Timberwolves",value:"MIN"},{text:"New Orleans Pelicans",value:"NO"},{text:"New York Knicks",value:"NYK"},{text:"Oklahoma City Thunder",value:"OKC"},{text:"Orlando Magic",value:"ORL"},{text:"Philadelphia 76ers",value:"PHI"},{text:"Phoenix Suns",value:"PHX"},{text:"Portland Trail Blazers",value:"POR"},{text:"Sacramento Kings",value:"SAC"},{text:"San Antonio Spurs",value:"SAS"},{text:"Toronto Raptors",value:"TOR"},{text:"Utah Jazz",value:"UTA"},{text:"Washington Wizards",value:"WAS"}],mlb:[{text:"Arizona Diamondbacks",value:"ARI"},{text:"Atlanta Braves",value:"ATL"},{text:"Baltimore Orioles",value:"BAL"},{text:"Boston Red Sox",value:"BOS"},{text:"Chicago Cubs",value:"CHC"},{text:"Chicago White Sox",value:"CHW"},{text:"Cincinnati Reds",value:"CIN"},{text:"Cleveland Guardians",value:"CLE"},{text:"Colorado Rockies",value:"COL"},{text:"Detroit Tigers",value:"DET"},{text:"Houston Astros",value:"HOU"},{text:"Kansas City Royals",value:"KC"},{text:"Los Angeles Angels",value:"LAA"},{text:"Los Angeles Dodgers",value:"LAD"},{text:"Miami Marlins",value:"MIA"},{text:"Milwaukee Brewers",value:"MIL"},{text:"Minnesota Twins",value:"MIN"},{text:"New York Mets",value:"NYM"},{text:"New York Yankees",value:"NYY"},{text:"Oakland Athletics",value:"OAK"},{text:"Philadelphia Phillies",value:"PHI"},{text:"Pittsburgh Pirates",value:"PIT"},{text:"San Diego Padres",value:"SD"},{text:"San Francisco Giants",value:"SF"},{text:"Seattle Mariners",value:"SEA"},{text:"St. Louis Cardinals",value:"STL"},{text:"Tampa Bay Rays",value:"TB"},{text:"Texas Rangers",value:"TEX"},{text:"Toronto Blue Jays",value:"TOR"},{text:"Washington Nationals",value:"WAS"}],nhl:[{text:"Anaheim Ducks",value:"ANA"},{text:"Utah Hockey Club",value:"UTA"},{text:"Boston Bruins",value:"BOS"},{text:"Buffalo Sabres",value:"BUF"},{text:"Calgary Flames",value:"CGY"},{text:"Carolina Hurricanes",value:"CAR"},{text:"Chicago Blackhawks",value:"CHI"},{text:"Colorado Avalanche",value:"COL"},{text:"Columbus Blue Jackets",value:"CBJ"},{text:"Dallas Stars",value:"DAL"},{text:"Detroit Red Wings",value:"DET"},{text:"Edmonton Oilers",value:"EDM"},{text:"Florida Panthers",value:"FLA"},{text:"Los Angeles Kings",value:"LA"},{text:"Minnesota Wild",value:"MIN"},{text:"Montreal Canadiens",value:"MTL"},{text:"Nashville Predators",value:"NSH"},{text:"New Jersey Devils",value:"NJ"},{text:"New York Islanders",value:"NYI"},{text:"New York Rangers",value:"NYR"},{text:"Ottawa Senators",value:"OTT"},{text:"Philadelphia Flyers",value:"PHI"},{text:"Pittsburgh Penguins",value:"PIT"},{text:"San Jose Sharks",value:"SJ"},{text:"Seattle Kraken",value:"SEA"},{text:"St. Louis Blues",value:"STL"},{text:"Tampa Bay Lightning",value:"TB"},{text:"Toronto Maple Leafs",value:"TOR"},{text:"Vancouver Canucks",value:"VAN"},{text:"Vegas Golden Knights",value:"VGK"},{text:"Washington Capitals",value:"WSH"},{text:"Winnipeg Jets",value:"WPG"}],wnba:[{text:"Atlanta Dream",value:"ATL"},{text:"Chicago Sky",value:"CHI"},{text:"Connecticut Sun",value:"CONN"},{text:"Dallas Wings",value:"DAL"},{text:"Golden State Valkyries",value:"GS"},{text:"Indiana Fever",value:"IND"},{text:"Las Vegas Aces",value:"LV"},{text:"Los Angeles Sparks",value:"LA"},{text:"Minnesota Lynx",value:"MIN"},{text:"New York Liberty",value:"NY"},{text:"Phoenix Mercury",value:"PHX"},{text:"Seattle Storm",value:"SEA"},{text:"Washington Mystics",value:"WAS"}],"usa.1":[{text:"Atlanta United",value:"ATL"},{text:"Austin FC",value:"ATX"},{text:"Charlotte FC",value:"CLT"},{text:"Chicago Fire",value:"CHI"},{text:"FC Cincinnati",value:"CIN"},{text:"Colorado Rapids",value:"COL"},{text:"Columbus Crew",value:"CLB"},{text:"D.C. United",value:"DC"},{text:"FC Dallas",value:"DAL"},{text:"Houston Dynamo",value:"HOU"},{text:"Inter Miami",value:"MIA"},{text:"LA Galaxy",value:"LA"},{text:"Los Angeles FC",value:"LAFC"},{text:"Minnesota United",value:"MIN"},{text:"CF Montreal",value:"MTL"},{text:"Nashville SC",value:"NSH"},{text:"New England Revolution",value:"NE"},{text:"New York City FC",value:"NYC"},{text:"New York Red Bulls",value:"RBNY"},{text:"Orlando City",value:"ORL"},{text:"Philadelphia Union",value:"PHI"},{text:"Portland Timbers",value:"POR"},{text:"Real Salt Lake",value:"RSL"},{text:"San Jose Earthquakes",value:"SJ"},{text:"Seattle Sounders",value:"SEA"},{text:"Sporting Kansas City",value:"SKC"},{text:"St. Louis City SC",value:"STL"},{text:"Toronto FC",value:"TOR"},{text:"Vancouver Whitecaps",value:"VAN"}],"eng.1":[{text:"Arsenal",value:"ARS"},{text:"Aston Villa",value:"AVL"},{text:"Bournemouth",value:"BOU"},{text:"Brentford",value:"BRE"},{text:"Brighton",value:"BHA"},{text:"Chelsea",value:"CHE"},{text:"Crystal Palace",value:"CRY"},{text:"Everton",value:"EVE"},{text:"Fulham",value:"FUL"},{text:"Ipswich Town",value:"IPS"},{text:"Leicester City",value:"LEI"},{text:"Liverpool",value:"LIV"},{text:"Manchester City",value:"MCI"},{text:"Manchester United",value:"MUN"},{text:"Newcastle United",value:"NEW"},{text:"Nottingham Forest",value:"NFO"},{text:"Southampton",value:"SOU"},{text:"Tottenham Hotspur",value:"TOT"},{text:"West Ham United",value:"WHU"},{text:"Wolverhampton",value:"WOL"}],"esp.1":[{text:"Athletic Bilbao",value:"ATH"},{text:"Atl\xe9tico Madrid",value:"ATM"},{text:"Barcelona",value:"BAR"},{text:"Celta Vigo",value:"CEL"},{text:"Espanyol",value:"ESP"},{text:"Getafe",value:"GET"},{text:"Girona",value:"GIR"},{text:"Las Palmas",value:"LPA"},{text:"Legan\xe9s",value:"LEG"},{text:"Mallorca",value:"MLL"},{text:"Osasuna",value:"OSA"},{text:"Rayo Vallecano",value:"RAY"},{text:"Real Betis",value:"BET"},{text:"Real Madrid",value:"RMA"},{text:"Real Sociedad",value:"RSO"},{text:"Real Valladolid",value:"VLL"},{text:"Sevilla",value:"SEV"},{text:"Valencia",value:"VAL"},{text:"Villarreal",value:"VIL"}],"ger.1":[{text:"Augsburg",value:"AUG"},{text:"Bayern Munich",value:"BAY"},{text:"Bochum",value:"BOC"},{text:"Borussia Dortmund",value:"DOR"},{text:"Borussia M'gladbach",value:"BMG"},{text:"Eintracht Frankfurt",value:"SGE"},{text:"Freiburg",value:"FRE"},{text:"Heidenheim",value:"HDH"},{text:"Hoffenheim",value:"TSG"},{text:"Holstein Kiel",value:"KIE"},{text:"Mainz 05",value:"MAI"},{text:"RB Leipzig",value:"RBL"},{text:"St. Pauli",value:"STP"},{text:"Stuttgart",value:"VFB"},{text:"Union Berlin",value:"FCU"},{text:"Werder Bremen",value:"WER"},{text:"Wolfsburg",value:"WOB"}],"ita.1":[{text:"AC Milan",value:"MIL"},{text:"Atalanta",value:"ATA"},{text:"Bologna",value:"BOL"},{text:"Cagliari",value:"CAG"},{text:"Como",value:"COM"},{text:"Empoli",value:"EMP"},{text:"Fiorentina",value:"FIO"},{text:"Genoa",value:"GEN"},{text:"Inter Milan",value:"INT"},{text:"Juventus",value:"JUV"},{text:"Lazio",value:"LAZ"},{text:"Lecce",value:"LEC"},{text:"Monza",value:"MON"},{text:"Napoli",value:"NAP"},{text:"Parma",value:"PAR"},{text:"Roma",value:"ROM"},{text:"Torino",value:"TOR"},{text:"Udinese",value:"UDI"},{text:"Venezia",value:"VEN"},{text:"Verona",value:"VER"}],"fra.1":[{text:"Angers",value:"ANG"},{text:"Auxerre",value:"AUX"},{text:"Brest",value:"BRE"},{text:"Le Havre",value:"HAV"},{text:"Lens",value:"LEN"},{text:"Lille",value:"LIL"},{text:"Lyon",value:"LYO"},{text:"Marseille",value:"MAR"},{text:"Monaco",value:"MON"},{text:"Montpellier",value:"MTP"},{text:"Nantes",value:"NAN"},{text:"Nice",value:"NIC"},{text:"Paris Saint-Germain",value:"PSG"},{text:"Reims",value:"REI"},{text:"Rennes",value:"REN"},{text:"Saint-\xc9tienne",value:"STE"},{text:"Strasbourg",value:"STR"},{text:"Toulouse",value:"TOU"}]},Te=[{text:"15 seconds",value:"15"},{text:"30 seconds",value:"30"},{text:"1 minute",value:"60"},{text:"2 minutes",value:"120"},{text:"3 minutes",value:"180"},{text:"4 minutes",value:"240"},{text:"5 minutes",value:"300"},{text:"15 minutes",value:"900"},{text:"30 minutes",value:"1800"},{text:"1 hour",value:"3600"},{text:"2 hours",value:"7200"}],Fe=[{text:"Slow",value:"2"},{text:"Normal",value:"5"},{text:"Fast",value:"10"},{text:"Very Fast",value:"15"}];var Le=e=>{let{onTickerStart:t}=e;const[a,n]=Object(s.useState)({sportLeagues:"",sportTeamCodes:"",sportTickerRefresh:60,sportScrollSpeed:5,sportFavoriteTeams:"",sportTickerMode:"league",sportDarkMode:!1}),[o,r]=Object(s.useState)(!1),[l,c]=Object(s.useState)(""),[i,d]=Object(s.useState)([]),[u,j]=Object(s.useState)(5),[h,b]=Object(s.useState)([]),[p,g]=Object(s.useState)("league"),[y,f]=Object(s.useState)(""),[S,k]=Object(s.useState)(!1),[w,C]=Object(s.useState)(!1),N=e=>e.map((e=>`${e.league}:${e.team}`)).join(",");Object(s.useEffect)((()=>{oe().then((e=>{if(e){const a=e.sportLeagues||"",s=e.sportTeamCodes||"",o=e.sportFavoriteTeams||"",r=e.sportScrollSpeed||5,l=e.sportTickerRefresh||60,i="favorites"===e.sportTickerMode?"favorites":"league",u=!0===e.sportDarkMode;console.log("[SportsTickerWidget] Loaded settings:",{sportLeagues:a,sportTeamCodes:s,sportScrollSpeed:r,sportTickerRefresh:l,sportTickerMode:i,sportFavoriteTeams:o,sportDarkMode:u}),n({sportLeagues:a,sportTeamCodes:s,sportTickerRefresh:l,sportScrollSpeed:r,sportFavoriteTeams:o,sportTickerMode:i,sportDarkMode:u}),c(a),j(r),g(i),s&&d(s.split(",").map((e=>e.trim())).filter((e=>e))),o&&b((t=o)?t.split(",").map((e=>{const[t,a]=e.split(":");return{league:(null===t||void 0===t?void 0:t.toLowerCase())||"",team:(null===a||void 0===a?void 0:a.toUpperCase())||""}})).filter((e=>e.league&&e.team)):[]),C(!0)}var t;return ve()})).then((e=>{e&&r(e.running||!1)})).catch((e=>{console.error("[SportsTickerWidget] Error loading settings:",e),r(!1)}));const e=Se((e=>{"sports"!==e&&r(!1)}));return()=>e()}),[]);const T=async(e,t,a,s)=>{if(e)try{const n=a/60;await pe(e,t,n,null!==s&&void 0!==s?s:u),r(!0),fe("sports")}catch(n){console.error("Failed to restart sports ticker",n)}},F=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4;const t=Math.floor(e/500);for(let s=0;s<t;s++){try{if((await ve()).ready)return!0}catch(a){}await new Promise((e=>setTimeout(e,500)))}return!1},L=(e,t)=>((e,t)=>{const a=`${O("")}/settings?key=${e}&value=${encodeURIComponent(t)}`;return v.a.get(a).then((e=>e.data))})(e,t),M=(e,t)=>{const a=t||l;if(!a)return e;const s=Ne[a];if(!s)return e;const n=s.find((t=>t.value===e));return n?n.text:e},A=e=>{const t=Ce.find((t=>t.value===e));return t?t.text:e.toUpperCase()},$="league"===p&&1===i.length;return Object(x.jsxs)("div",{className:"widget-section",children:[Object(x.jsxs)("h3",{className:"section-title",children:[Object(x.jsx)(je.a,{style:{marginRight:8,verticalAlign:"middle"}}),"Live Sports Scores"]}),Object(x.jsx)("div",{className:"setting-row",style:{marginBottom:"1rem"},children:Object(x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[Object(x.jsx)(R.a,{variant:"league"===p?"contained":"outlined",onClick:()=>{g("league"),n({...a,sportTickerMode:"league"}),L("sportTickerMode","league")},style:{backgroundColor:"league"===p?"#4169E1":"transparent",color:"#fff",borderColor:"#4169E1"},children:"Single League"}),Object(x.jsx)(R.a,{variant:"favorites"===p?"contained":"outlined",onClick:()=>{g("favorites"),n({...a,sportTickerMode:"favorites"}),L("sportTickerMode","favorites")},style:{backgroundColor:"favorites"===p?"#4169E1":"transparent",color:"#fff",borderColor:"#4169E1"},children:"My Favorite Teams"})]})}),"league"===p?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"setting-row",style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[Object(x.jsxs)("div",{style:{flex:1,minWidth:"180px"},children:[Object(x.jsx)("label",{className:"setting-label",children:"Select League"}),Object(x.jsx)(le.c,{name:"league",options:[{text:"Select a League...",value:""},...Ce.map((e=>({text:e.text,value:e.value})))],caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value;c(t),d([]);const s={...a,sportLeagues:t};n(s),L("sportLeagues",t),L("sportTeamCodes",""),o&&"league"===p&&T(t,[],a.sportTickerRefresh)},selectedValue:l},`league-select-${w}-${l}`)]}),l&&Ne[l]&&Object(x.jsxs)("div",{style:{flex:1,minWidth:"180px"},children:[Object(x.jsx)("label",{className:"setting-label",children:"Filter by Team (optional)"}),Object(x.jsx)(le.c,{name:"team",options:(()=>{if(!l)return[];const e=Ne[l];return e?[{text:"All Teams (Show All Games)",value:""},...e]:[]})(),caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value;if(!t){d([]);const e={...a,sportTeamCodes:""};return n(e),L("sportTeamCodes",""),void(o&&"league"===p&&T(l,[],a.sportTickerRefresh))}if(i.includes(t))return void m.a.error("Team already selected");const s=[...i,t];d(s);const r=s.join(","),c={...a,sportTeamCodes:r};n(c),L("sportTeamCodes",r),o&&"league"===p&&T(l,s,a.sportTickerRefresh)},selectedValue:""},`team-select-${l}`)]})]}),i.length>0&&Object(x.jsx)("div",{className:"symbol-chips",children:i.map((e=>Object(x.jsxs)("div",{className:"symbol-chip stock",children:[M(e),Object(x.jsx)("span",{onClick:()=>(e=>{const t=i.filter((t=>t!==e));d(t);const s=t.join(","),r={...a,sportTeamCodes:s};n(r),L("sportTeamCodes",s),o&&l&&"league"===p&&T(l,t,a.sportTickerRefresh)})(e),className:"chip-close",style:{marginLeft:8,cursor:"pointer"},children:"\xd7"})]},e)))})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"setting-row",children:[Object(x.jsx)("label",{className:"setting-label",children:"Add Favorite Teams (across any league)"}),Object(x.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[Object(x.jsx)("div",{style:{flex:1,minWidth:"150px"},children:Object(x.jsx)(le.c,{name:"favLeague",options:[{text:"Select League...",value:""},...Ce.filter((e=>Ne[e.value])).map((e=>({text:e.text,value:e.value})))],caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>f(e.value),selectedValue:y})}),y&&Object(x.jsx)("div",{style:{flex:1,minWidth:"150px"},children:Object(x.jsx)(le.c,{name:"favTeam",options:(()=>{if(!y)return[];const e=Ne[y];return e?[{text:"Select a Team...",value:""},...e]:[]})(),caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value;if(!t||!y)return;if(h.some((e=>e.league===y&&e.team===t)))return void m.a.error("Team already in favorites");const s=[...h,{league:y,team:t}];b(s);const o=N(s);n({...a,sportFavoriteTeams:o}),L("sportFavoriteTeams",o)},selectedValue:""},`fav-team-select-${y}`)})]})]}),h.length>0&&Object(x.jsx)("div",{className:"symbol-chips",children:h.map(((e,t)=>Object(x.jsxs)("div",{className:"symbol-chip crypto",children:[Object(x.jsxs)("span",{style:{fontSize:"0.7rem",opacity:.7},children:[A(e.league),":"]})," ",M(e.team,e.league),Object(x.jsx)("span",{onClick:()=>(e=>{const t=h.filter((t=>!(t.league===e.league&&t.team===e.team)));b(t);const s=N(t);n({...a,sportFavoriteTeams:s}),L("sportFavoriteTeams",s)})(e),className:"chip-close",style:{marginLeft:8,cursor:"pointer"},children:"\xd7"})]},`${e.league}-${e.team}-${t}`)))}),Object(x.jsx)("p",{style:{fontSize:"0.8rem",color:"#aaa",marginTop:"0.5rem",fontStyle:"italic"},children:"Note: Teams will only appear if they have a game today or an upcoming game"})]}),Object(x.jsxs)("div",{className:"setting-row",style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"flex-end"},children:[Object(x.jsxs)("div",{style:{flex:1,minWidth:"150px"},children:[Object(x.jsx)("label",{className:"setting-label",children:"Refresh Interval"}),Object(x.jsx)(le.c,{selectedValue:(U=a.sportTickerRefresh,[15,30,60,120,180,240,300,900,1800,3600,7200].reduce(((e,t)=>Math.abs(t-U)<Math.abs(e-U)?t:e)).toString()),name:"refreshInterval",options:Te,caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=parseInt(e.value,10),s={...a,sportTickerRefresh:t};if(n(s),L("sportTickerRefresh",t.toString()),o){const e=t/60;if("favorites"===p){const t=N(h);Oe(t,e,u)}else l&&T(l,i,e)}}},`refresh-select-${w}-${a.sportTickerRefresh}`)]}),!$&&Object(x.jsxs)("div",{style:{flex:1,minWidth:"150px"},children:[Object(x.jsx)("label",{className:"setting-label",children:"Scroll Speed"}),Object(x.jsx)(le.c,{selectedValue:(D=u,[2,5,10,15].reduce(((e,t)=>Math.abs(t-D)<Math.abs(e-D)?t:e)).toString()),name:"scrollSpeed",options:Fe,caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=parseInt(e.value,10);j(t);const s={...a,sportScrollSpeed:t};n(s),L("sportScrollSpeed",e.value)}},`scroll-select-${w}-${u}`)]}),Object(x.jsx)("div",{style:{minWidth:"120px"},children:Object(x.jsx)(ae.a,{control:Object(x.jsx)(se.a,{checked:a.sportDarkMode,onChange:e=>{const t=e.target.checked,s={...a,sportDarkMode:t};n(s),L("sportDarkMode",t?"yes":"no")},color:"primary"}),label:"Dark Mode",style:{color:"#fff",marginLeft:0}})})]}),Object(x.jsxs)(R.a,{variant:"contained",onClick:o?()=>{m.a.promise(ge(),{loading:"Stopping Sports Ticker...",success:()=>(r(!1),"Sports Ticker Stopped"),error:"Failed to stop ticker"})}:async()=>{const e=a.sportTickerRefresh/60;if("favorites"===p){if(0===h.length)return void m.a.error("Please add at least one favorite team");const a=N(h);k(!0);try{await Oe(a,e,u),r(!0),fe("sports"),null===t||void 0===t||t(),await F(),m.a.success("Sports Ticker Started!")}catch(s){m.a.error("Failed to start ticker")}finally{k(!1)}}else{if(!l)return void m.a.error("Please select a league");k(!0);try{await pe(l,i,e,u),r(!0),fe("sports"),null===t||void 0===t||t(),await F(),m.a.success("Sports Ticker Started!")}catch(s){m.a.error("Failed to start ticker")}finally{k(!1)}}},disabled:S||("league"===p?!l:0===h.length),className:"start-button "+(o?"stop":""),children:[S?Object(x.jsx)(de.a,{size:24,style:{color:"#fff",marginRight:8}}):o?Object(x.jsx)(ue.a,{}):Object(x.jsx)(we.a,{}),S?"PLEASE WAIT...":o?"STOP SPORTS TICKER":"START SPORTS TICKER"]})]});var D,U},Re=a(193);const Me=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"FFFFFF",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"LiberationSans-Bold";const r=e.join(","),l=`${O("")}/stocks/start?symbols=${encodeURIComponent(r)}&speed=${t}&fps=${a}&refresh=${s}&color=${n}&font=${encodeURIComponent(o)}`;return v.a.get(l).then((e=>e.data))},Ae=[{text:"Bitcoin (BTC)",value:"BTC-USD"},{text:"Ethereum (ETH)",value:"ETH-USD"},{text:"Tether (USDT)",value:"USDT-USD"},{text:"Binance Coin (BNB)",value:"BNB-USD"},{text:"Solana (SOL)",value:"SOL-USD"},{text:"Ripple (XRP)",value:"XRP-USD"},{text:"USD Coin (USDC)",value:"USDC-USD"},{text:"Cardano (ADA)",value:"ADA-USD"},{text:"Avalanche (AVAX)",value:"AVAX-USD"},{text:"Dogecoin (DOGE)",value:"DOGE-USD"}],$e=Ae.map((e=>e.value)),De=e=>e.includes("-USD")||$e.includes(e.toUpperCase()),Ue=[{text:"Apple (AAPL)",value:"AAPL"},{text:"Microsoft (MSFT)",value:"MSFT"},{text:"Google (GOOG)",value:"GOOG"},{text:"Amazon (AMZN)",value:"AMZN"},{text:"Tesla (TSLA)",value:"TSLA"},{text:"Meta (META)",value:"META"},{text:"NVIDIA (NVDA)",value:"NVDA"},{text:"Netflix (NFLX)",value:"NFLX"},{text:"AMD (AMD)",value:"AMD"},{text:"Intel (INTC)",value:"INTC"}],Ie=[{name:"White",value:"FFFFFF"},{name:"Red",value:"FF0000"},{name:"Green",value:"00FF00"},{name:"Blue",value:"0000FF"},{name:"Yellow",value:"FFFF00"},{name:"Cyan",value:"00FFFF"},{name:"Magenta",value:"FF00FF"},{name:"Orange",value:"FFA500"}],Ee=[{text:"Slow",value:"2"},{text:"Normal",value:"5"},{text:"Fast",value:"10"},{text:"Very Fast",value:"15"}],Pe=[{text:"1 minute",value:"1"},{text:"5 minutes",value:"5"},{text:"15 minutes",value:"15"},{text:"30 minutes",value:"30"}];var Be=e=>{let{onTickerStart:t}=e;const[a,n]=Object(s.useState)({stockSymbols:"MSFT,GOOG,AMZN,BTC-USD",stockTickerRefresh:5,stockTickerColor:"FFFFFF",stockTickerFont:"LiberationSans-Bold",stockScrollSpeed:5}),[o,r]=Object(s.useState)(!1),[l,c]=Object(s.useState)(""),[i,d]=Object(s.useState)([]),[u,j]=Object(s.useState)(!1);Object(s.useEffect)((()=>{oe().then((e=>{if(e){const t=e.stockSymbols||"MSFT,GOOG,AMZN,BTC-USD";n({stockSymbols:t,stockTickerRefresh:e.stockTickerRefresh||5,stockTickerColor:e.stockTickerColor||"FFFFFF",stockTickerFont:e.stockTickerFont||"LiberationSans-Bold",stockScrollSpeed:e.stockScrollSpeed||5}),d(t.split(",").map((e=>e.trim())).filter((e=>e))),j(!0)}})).catch(console.error),(()=>{const e=`${O("")}/stocks/status`;return v.a.get(e).then((e=>e.data))})().then((e=>{r(e.running||!1)})).catch((()=>r(!1)));const e=Se((e=>{"stocks"!==e&&r(!1)}));return()=>e()}),[]);const h=async(e,t)=>{const a=t||i;if(0!==a.length)try{await Me(a,e.stockScrollSpeed,60,e.stockTickerRefresh,e.stockTickerColor,e.stockTickerFont),r(!0),fe("stocks")}catch(s){console.error("Failed to restart ticker",s)}},b=()=>{m.a.promise((()=>{const e=`${O("")}/stocks/stop`;return v.a.get(e).then((e=>e.data))})(),{loading:"Stopping Stock Ticker...",success:()=>(r(!1),"Stock Ticker Stopped"),error:"Failed to stop ticker"})},p=(e,t)=>((e,t)=>{const a=`${O("")}/settings?key=${e}&value=${encodeURIComponent(t)}`;return v.a.get(a).then((e=>e.data))})(e,t),g=e=>{if(!e)return;const t=e.trim().toUpperCase();if(i.includes(t))return void m.a.error("Symbol already added");const s=[...i,t];d(s);const r=s.join(",");n({...a,stockSymbols:r}),p("stockSymbols",r),o&&h(a,s)},y=()=>{g(l),c("")};return Object(x.jsxs)("div",{className:"widget-section",children:[Object(x.jsxs)("h3",{className:"section-title",children:[Object(x.jsx)(me.a,{style:{marginRight:8,verticalAlign:"middle"}}),"Stocks & Crypto"]}),Object(x.jsxs)("div",{className:"dropdown-row",children:[Object(x.jsx)("div",{className:"dropdown-item",children:Object(x.jsx)(le.c,{name:"addCrypto",options:[{text:"Add Popular Crypto",value:""},...Ae],caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{e.value&&g(e.value)},selectedValue:""})}),Object(x.jsx)("div",{className:"dropdown-item",children:Object(x.jsx)(le.c,{name:"addStock",options:[{text:"Add Popular Stock",value:""},...Ue],caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{e.value&&g(e.value)},selectedValue:""})})]}),Object(x.jsxs)("div",{className:"input-row",children:[Object(x.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"===e.key&&y()},placeholder:"Enter stock or crypto symbol",className:"symbol-input"}),Object(x.jsx)(R.a,{variant:"contained",onClick:y,className:"add-button",children:"ADD"})]}),Object(x.jsx)("div",{className:"symbol-chips",children:i.map((e=>Object(x.jsxs)("div",{className:"symbol-chip "+(De(e)?"crypto":"stock"),children:[e,Object(x.jsx)(Re.a,{onClick:()=>(e=>{const t=i.filter((t=>t!==e));d(t);const s=t.join(",");n({...a,stockSymbols:s}),p("stockSymbols",s),o&&t.length>0?h(a,t):0===t.length&&b()})(e),className:"chip-close"})]},e)))}),Object(x.jsxs)("div",{className:"settings-grid",children:[Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Refresh Interval"}),Object(x.jsx)(le.c,{selectedValue:a.stockTickerRefresh.toString(),name:"refreshInterval",options:Pe,caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=parseInt(e.value,10),s={...a,stockTickerRefresh:t};n(s),p("stockTickerRefresh",t.toString()),o&&h(s)}},`stock-refresh-${u}-${a.stockTickerRefresh}`)]}),Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Text Color"}),Object(x.jsx)(le.c,{selectedValue:a.stockTickerColor,name:"textColor",options:Ie.map((e=>({value:e.value,text:e.name,markup:Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)("div",{style:{width:16,height:16,backgroundColor:`#${e.value}`,marginRight:8,borderRadius:2,border:"FFFFFF"===e.value?"1px solid #666":"none"}}),e.name]})}))),caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value,s={...a,stockTickerColor:t};n(s),p("stockTickerColor",t),o&&h(s)}},`stock-color-${u}-${a.stockTickerColor}`)]}),Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Scrolling Speed"}),Object(x.jsx)(le.c,{selectedValue:a.stockScrollSpeed.toString(),name:"scrollSpeed",options:Ee,caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=parseInt(e.value,10),s={...a,stockScrollSpeed:t};n(s),p("stockScrollSpeed",t.toString())}},`stock-speed-${u}-${a.stockScrollSpeed}`)]}),Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Font"}),Object(x.jsx)(le.c,{selectedValue:a.stockTickerFont,name:"tickerFont",options:ne.map((e=>({value:e,text:e}))),caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value,s={...a,stockTickerFont:t};n(s),p("stockTickerFont",t),o&&h(s)}},`stock-font-${u}-${a.stockTickerFont}`)]})]}),Object(x.jsxs)(R.a,{variant:"contained",onClick:o?b:()=>{0!==i.length?m.a.promise(Me(i,a.stockScrollSpeed,60,a.stockTickerRefresh,a.stockTickerColor,a.stockTickerFont),{loading:"Starting Stock Ticker...",success:()=>(r(!0),fe("stocks"),null===t||void 0===t||t(),"Stock Ticker Started!"),error:"Failed to start ticker"}):m.a.error("Please add at least one stock symbol")},disabled:0===i.length,className:"start-button "+(o?"stop":""),children:[Object(x.jsx)(we.a,{}),o?"STOP STOCKS & CRYPTO":"START STOCKS & CRYPTO"]})]})},We=a(194);const Ve=function(e){const t=new URLSearchParams({location:e,units:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fahrenheit",showUnits:!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?"yes":"no",forecast:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1day",refresh:(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1800).toString()}),a=`${O("")}/weather/start?${t.toString()}`;return v.a.get(a).then((e=>e.data))},He=(e,t)=>{const a=`${O("")}/settings?key=${e}&value=${encodeURIComponent(t)}`;return v.a.get(a).then((e=>e.data))},qe=[{text:"5 minutes",value:"300"},{text:"15 minutes",value:"900"},{text:"30 minutes",value:"1800"},{text:"1 hour",value:"3600"},{text:"2 hours",value:"7200"},{text:"8 hours",value:"28800"}],ze=[{text:"Today (Hourly)",value:"1day"},{text:"3-Day Forecast",value:"3day"}],Ge=[{text:"Fahrenheit (\xb0F)",value:"fahrenheit"},{text:"Celsius (\xb0C)",value:"celsius"}];var Ye=e=>{let{onTickerStart:t}=e;const[a,n]=Object(s.useState)({weatherLocation:"",weatherUnits:"fahrenheit",weatherShowUnits:!0,weatherForecast:"1day",weatherRefresh:1800}),[o,r]=Object(s.useState)(!1),[l,c]=Object(s.useState)(""),[i,d]=Object(s.useState)(!1),[u,j]=Object(s.useState)(!1);Object(s.useEffect)((()=>{oe().then((e=>{if(e){const t=e.weatherLocation||"";n({weatherLocation:t,weatherUnits:e.weatherUnits||"fahrenheit",weatherShowUnits:!1!==e.weatherShowUnits,weatherForecast:e.weatherForecast||"1day",weatherRefresh:e.weatherRefresh||1800}),c(t),d(!0)}})).catch(console.error),(()=>{const e=`${O("")}/weather/status`;return v.a.get(e).then((e=>e.data))})().then((e=>{r(e.running||!1)})).catch((()=>r(!1)));const e=Se((e=>{"weather"!==e&&r(!1)}));return()=>e()}),[]);const h=async()=>{const e=l.trim();if(e){j(!0);try{await Ve(e,a.weatherUnits,a.weatherShowUnits,a.weatherForecast,a.weatherRefresh),r(!0),fe("weather"),null===t||void 0===t||t(),n({...a,weatherLocation:e}),m.a.success("Weather Widget Started!")}catch(s){m.a.error("Failed to start weather widget")}finally{j(!1)}}else m.a.error("Please enter a location (city name or ZIP code)")};return Object(x.jsxs)("div",{className:"widget-section",children:[Object(x.jsxs)("h3",{className:"section-title",children:[Object(x.jsx)(We.a,{style:{marginRight:8,verticalAlign:"middle"}}),"Weather Widget"]}),Object(x.jsxs)("div",{className:"settings-grid",children:[Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:a.weatherLocation?`Location: ${a.weatherLocation}`:"Location"}),Object(x.jsx)("input",{type:"text",className:"symbol-input",placeholder:"ZIP or city",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(()=>{const e=l.trim();e?(He("weatherLocation",e),n({...a,weatherLocation:e}),m.a.success("Location saved!"),o&&h()):m.a.error("Please enter a location")})()}})]}),Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Unit"}),Object(x.jsx)(le.c,{selectedValue:a.weatherUnits,name:"temperatureUnits",options:Ge,caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value,s={...a,weatherUnits:t};n(s),He("weatherUnits",t),o&&Ve(a.weatherLocation,t,a.weatherShowUnits,a.weatherForecast,a.weatherRefresh)}},`units-select-${i}`)]}),Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Show \xb0F/\xb0C"}),Object(x.jsx)(se.a,{checked:a.weatherShowUnits,onChange:()=>{const e=!a.weatherShowUnits,t={...a,weatherShowUnits:e};n(t),He("weatherShowUnits",e?"yes":"no"),o&&Ve(a.weatherLocation,a.weatherUnits,e,a.weatherForecast,a.weatherRefresh)},color:"primary"})]}),Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Forecast"}),Object(x.jsx)(le.c,{selectedValue:a.weatherForecast,name:"forecastMode",options:ze,caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value,s={...a,weatherForecast:t};n(s),He("weatherForecast",t),o&&Ve(a.weatherLocation,a.weatherUnits,a.weatherShowUnits,t,a.weatherRefresh)}},`forecast-select-${i}`)]}),Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Refresh"}),Object(x.jsx)(le.c,{selectedValue:(b=a.weatherRefresh,[300,900,1800,3600,7200,28800].reduce(((e,t)=>Math.abs(t-b)<Math.abs(e-b)?t:e)).toString()),name:"refreshInterval",options:qe,caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=parseInt(e.value,10),s={...a,weatherRefresh:t};n(s),He("weatherRefresh",t.toString()),o&&Ve(a.weatherLocation,a.weatherUnits,a.weatherShowUnits,a.weatherForecast,t)}},`refresh-select-${i}-${a.weatherRefresh}`)]})]}),Object(x.jsxs)(R.a,{variant:"contained",className:"start-button "+(o?"stop":""),onClick:o?async()=>{j(!0);try{await(()=>{const e=`${O("")}/weather/stop`;return v.a.get(e).then((e=>e.data))})(),r(!1),m.a.success("Weather Widget Stopped")}catch(e){m.a.error("Failed to stop weather widget")}finally{j(!1)}}:h,disabled:u||!o&&!l.trim(),children:[o?Object(x.jsx)(Re.a,{}):Object(x.jsx)(we.a,{}),u?"PLEASE WAIT...":o?"STOP WEATHER":"START WEATHER"]})]});var b};const Ke=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:60,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"FFFFFF",r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"LiberationSans-Regular",l=`${O("")}/news/start?sources=${encodeURIComponent(e)}&speed=${a}&fps=${s}&refresh=${n}&color=${o}&font=${encodeURIComponent(r)}`;return e.includes("custom")&&t&&(l+=`&customURL=${encodeURIComponent(t)}`),v.a.get(l).then((e=>e.data))},Je={"World News":[{text:"BBC News",value:"bbc"},{text:"Reuters",value:"reuters"},{text:"AP News",value:"ap"},{text:"NPR News",value:"npr"},{text:"The Guardian",value:"guardian"}],"US News":[{text:"CNN",value:"cnn"},{text:"Fox News",value:"foxnews"},{text:"NY Times",value:"nytimes"},{text:"Washington Post",value:"washpost"},{text:"USA Today",value:"usatoday"}],"Tech News":[{text:"Hacker News",value:"hackernews"},{text:"TechCrunch",value:"techcrunch"},{text:"The Verge",value:"theverge"},{text:"Ars Technica",value:"arstechnica"},{text:"Wired",value:"wired"}],"Gaming News":[{text:"IGN",value:"ign"},{text:"Kotaku",value:"kotaku"},{text:"Polygon",value:"polygon"},{text:"GameSpot",value:"gamespot"}],"Finance News":[{text:"MarketWatch",value:"marketwatch"},{text:"CNBC",value:"cnbc"},{text:"Bloomberg",value:"bloomberg"}],Custom:[{text:"Custom RSS Feed",value:"custom"}]},Xe=e=>{for(const t of Object.values(Je)){const a=t.find((t=>t.value===e));if(a)return a.text}return e},Ze=[{name:"White",value:"FFFFFF"},{name:"Red",value:"FF0000"},{name:"Green",value:"00FF00"},{name:"Blue",value:"0000FF"},{name:"Yellow",value:"FFFF00"},{name:"Cyan",value:"00FFFF"},{name:"Magenta",value:"FF00FF"},{name:"Orange",value:"FFA500"}],_e=[{text:"Slow",value:"2"},{text:"Normal",value:"5"},{text:"Fast",value:"10"},{text:"Very Fast",value:"15"}],Qe=[{text:"1 minute",value:"1"},{text:"5 minutes",value:"5"},{text:"15 minutes",value:"15"},{text:"30 minutes",value:"30"}];var et=e=>{let{onTickerStart:t}=e;const[a,n]=Object(s.useState)({newsSources:["bbc"],newsCustomURL:"",newsTickerRefresh:5,newsTickerColor:"FFFFFF",newsTickerFont:"LiberationSans-Regular",newsScrollSpeed:5}),[o,r]=Object(s.useState)(!1),[l,c]=Object(s.useState)(!1),[i,d]=Object(s.useState)(""),[u,j]=Object(s.useState)(!1);Object(s.useEffect)((()=>{oe().then((e=>{if(e){const t=(e.newsSources||"bbc").split(",").map((e=>e.trim())).filter((e=>e)),a=e.newsCustomURL||"";n({newsSources:t.length>0?t:["bbc"],newsCustomURL:a,newsTickerRefresh:e.newsTickerRefresh||5,newsTickerColor:e.newsTickerColor||"FFFFFF",newsTickerFont:e.newsTickerFont||"LiberationSans-Regular",newsScrollSpeed:e.newsScrollSpeed||5}),d(a),j(!0)}})).catch(console.error),(()=>{const e=`${O("")}/news/status`;return v.a.get(e).then((e=>e.data))})().then((e=>{r(e.running||!1)})).catch((()=>r(!1)));const e=Se((e=>{"news"!==e&&r(!1)}));return()=>e()}),[]);const h=e=>e.join(","),b=async e=>{try{const t=e.newsSources.includes("custom")?e.newsCustomURL:"";await Ke(h(e.newsSources),t,e.newsScrollSpeed,60,e.newsTickerRefresh,e.newsTickerColor,e.newsTickerFont),r(!0),fe("news")}catch(t){console.error("Failed to restart ticker",t)}},p=(e,t)=>((e,t)=>{const a=`${O("")}/settings?key=${e}&value=${encodeURIComponent(t)}`;return v.a.get(a).then((e=>e.data))})(e,t),g=()=>{const e=i.trim();if(!e)return void m.a.error("Please enter a URL");p("newsCustomURL",e);const t={...a,newsCustomURL:e};n(t),m.a.success("Custom URL saved!"),o&&a.newsSources.includes("custom")&&b(t)},y=(e=>{const t=[];return Object.entries(Je).forEach((a=>{let[s,n]=a;n.forEach((a=>{e.includes(a.value)||t.push({text:`${a.text}`,value:a.value})}))})),t})(a.newsSources);return Object(x.jsxs)("div",{className:"widget-section",children:[Object(x.jsxs)("h3",{className:"section-title",children:[Object(x.jsx)(xe.a,{style:{marginRight:8,verticalAlign:"middle"}}),"News Ticker"]}),Object(x.jsxs)("div",{className:"setting-row",children:[Object(x.jsx)("label",{className:"setting-label",children:"Selected Sources"}),Object(x.jsx)("div",{className:"chip-container",children:a.newsSources.map((e=>Object(x.jsxs)("div",{className:"source-chip",children:[Object(x.jsx)("span",{children:Xe(e)}),Object(x.jsx)("button",{className:"chip-remove",onClick:()=>(e=>{const t=a.newsSources.filter((t=>t!==e));if(0===t.length)return void m.a.error("Must have at least one news source");const s={...a,newsSources:t};n(s),p("newsSources",h(t)),o&&b(s)})(e),title:"Remove source",children:Object(x.jsx)(Re.a,{style:{fontSize:14}})})]},e)))})]}),y.length>0&&Object(x.jsxs)("div",{className:"setting-row",children:[Object(x.jsx)("label",{className:"setting-label",children:"Add News Source"}),Object(x.jsx)(le.c,{selectedValue:"",name:"addSource",options:[{text:"+ Select a source to add...",value:""},...y],caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value;if(!t||a.newsSources.includes(t))return;const s=[...a.newsSources,t],r={...a,newsSources:s};n(r),p("newsSources",h(s)),o&&b(r)}},`add-source-${u}-${a.newsSources.length}`)]}),a.newsSources.includes("custom")&&Object(x.jsxs)("div",{className:"input-row",children:[Object(x.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"===e.key&&g()},placeholder:"Enter RSS feed URL",className:"symbol-input"}),Object(x.jsx)(R.a,{variant:"contained",onClick:g,className:"add-button",children:"SET URL"})]}),Object(x.jsxs)("div",{className:"settings-grid",children:[Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Refresh Interval"}),Object(x.jsx)(le.c,{selectedValue:a.newsTickerRefresh.toString(),name:"refreshInterval",options:Qe,caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=parseInt(e.value,10),s={...a,newsTickerRefresh:t};n(s),p("newsTickerRefresh",t.toString()),o&&b(s)}},`news-refresh-${u}-${a.newsTickerRefresh}`)]}),Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Text Color"}),Object(x.jsx)(le.c,{selectedValue:a.newsTickerColor,name:"textColor",options:Ze.map((e=>({value:e.value,text:e.name,markup:Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)("div",{style:{width:16,height:16,backgroundColor:`#${e.value}`,marginRight:8,borderRadius:2,border:"FFFFFF"===e.value?"1px solid #666":"none"}}),e.name]})}))),caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value,s={...a,newsTickerColor:t};n(s),p("newsTickerColor",t),o&&b(s)}},`news-color-${u}-${a.newsTickerColor}`)]}),Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Scrolling Speed"}),Object(x.jsx)(le.c,{selectedValue:a.newsScrollSpeed.toString(),name:"scrollSpeed",options:_e,caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=parseInt(e.value,10),s={...a,newsScrollSpeed:t};n(s),p("newsScrollSpeed",t.toString())}},`news-speed-${u}-${a.newsScrollSpeed}`)]}),Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Font"}),Object(x.jsx)(le.c,{selectedValue:a.newsTickerFont,name:"tickerFont",options:ne.map((e=>({value:e,text:e}))),caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:e=>{const t=e.value,s={...a,newsTickerFont:t};n(s),p("newsTickerFont",t),o&&b(s)}},`news-font-${u}-${a.newsTickerFont}`)]})]}),Object(x.jsxs)(R.a,{variant:"contained",onClick:o?()=>{m.a.promise((()=>{const e=`${O("")}/news/stop`;return v.a.get(e).then((e=>e.data))})(),{loading:"Stopping News Ticker...",success:()=>(r(!1),"News Ticker Stopped"),error:"Failed to stop ticker"})}:async()=>{if(0===a.newsSources.length)return void m.a.error("Please add at least one news source");if(a.newsSources.includes("custom")&&!i.trim())return void m.a.error("Please enter a custom RSS feed URL");const e=a.newsSources.includes("custom")?i.trim():"";c(!0);try{await Ke(h(a.newsSources),e,a.newsScrollSpeed,60,a.newsTickerRefresh,a.newsTickerColor,a.newsTickerFont),r(!0),c(!1),fe("news"),null===t||void 0===t||t(),m.a.success("News Ticker Started!")}catch(s){c(!1),m.a.error("Failed to start ticker")}},disabled:l||a.newsSources.includes("custom")&&!i.trim()||0===a.newsSources.length,className:"start-button "+(o?"stop":""),children:[l?Object(x.jsx)(de.a,{size:24,style:{color:"#fff",marginRight:8}}):o?Object(x.jsx)(ue.a,{}):Object(x.jsx)(we.a,{}),l?"PLEASE WAIT...":o?"STOP NEWS TICKER":"START NEWS TICKER"]})]})};const tt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cyberpunk",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=`${O("")}/clock/start?face=${e}&use12Hour=${t}&showSeconds=${a}`;return v.a.get(s).then((e=>e.data))},at=[{text:"Cyberpunk Neon",value:"cyberpunk"},{text:"Synthwave",value:"synthwave"},{text:"Tron Grid",value:"tron"},{text:"Digital Waves",value:"waves"},{text:"Word Clock",value:"word"},{text:"Linear Timeline",value:"linear"},{text:"Swatch .Beats",value:"swatch"},{text:"7-Segment LED",value:"segment"}];var st=e=>{let{onClockStart:t}=e;const[a,n]=Object(s.useState)({clockFace:"cyberpunk",clockUse12Hour:!0,clockShowSeconds:!0}),[o,r]=Object(s.useState)(!1),[l,c]=Object(s.useState)(!1),[i,d]=Object(s.useState)(!1);Object(s.useEffect)((()=>{oe().then((e=>{e&&(n({clockFace:e.clockFace||"cyberpunk",clockUse12Hour:!1!==e.clockUse12Hour,clockShowSeconds:!1!==e.clockShowSeconds}),d(!0))})).catch(console.error),(()=>{const e=`${O("")}/clock/status`;return v.a.get(e).then((e=>e.data))})().then((e=>{r(e.running||!1)})).catch((()=>r(!1)));const e=Se((e=>{"clock"!==e&&r(!1)}));return()=>e()}),[]);const u=(e,t)=>((e,t)=>{const a=`${O("")}/settings?key=${e}&value=${encodeURIComponent(t)}`;return v.a.get(a).then((e=>e.data))})(e,t);return Object(x.jsxs)("div",{className:"widget-section",children:[Object(x.jsxs)("h3",{className:"section-title",children:[Object(x.jsx)(be.a,{style:{marginRight:8,verticalAlign:"middle"}}),"Clock Settings"]}),Object(x.jsxs)("div",{className:"setting-row",children:[Object(x.jsx)("label",{className:"setting-label",children:"Clock Face"}),Object(x.jsx)(le.c,{selectedValue:a.clockFace,name:"clockFace",options:at,caretIcon:Object(x.jsx)(le.a,{}),modalCloseButton:Object(x.jsx)(le.b,{}),onChange:async e=>{const t=e.value,s={...a,clockFace:t};if(n(s),u("clockFace",t),o)try{await tt(t,s.clockUse12Hour,s.clockShowSeconds)}catch(r){console.error("Failed to restart clock",r)}}},`clock-face-${i}-${a.clockFace}`)]}),Object(x.jsxs)("div",{className:"settings-grid",style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Time Format"}),Object(x.jsx)(ae.a,{control:Object(x.jsx)(se.a,{checked:a.clockUse12Hour,onChange:async e=>{const t=e.target.checked,s={...a,clockUse12Hour:t};if(n(s),u("clockUse12Hour",t?"yes":"no"),o)try{await tt(s.clockFace,t,s.clockShowSeconds)}catch(r){console.error("Failed to restart clock",r)}},color:"primary"}),label:a.clockUse12Hour?"12-Hour":"24-Hour",style:{color:"#fff",marginLeft:0}})]}),Object(x.jsxs)("div",{className:"setting-item",children:[Object(x.jsx)("label",{className:"setting-label",children:"Seconds Display"}),Object(x.jsx)(ae.a,{control:Object(x.jsx)(se.a,{checked:a.clockShowSeconds,onChange:async e=>{const t=e.target.checked,s={...a,clockShowSeconds:t};if(n(s),u("clockShowSeconds",t?"yes":"no"),o)try{await tt(s.clockFace,s.clockUse12Hour,t)}catch(r){console.error("Failed to restart clock",r)}},color:"primary"}),label:a.clockShowSeconds?"Show Seconds":"Hide Seconds",style:{color:"#fff",marginLeft:0}})]})]}),Object(x.jsxs)(R.a,{variant:"contained",onClick:o?()=>{m.a.promise((()=>{const e=`${O("")}/clock/stop`;return v.a.get(e).then((e=>e.data))})(),{loading:"Stopping Clock...",success:()=>(r(!1),"Clock Stopped"),error:"Failed to stop clock"})}:async()=>{c(!0);try{await tt(a.clockFace,a.clockUse12Hour,a.clockShowSeconds),r(!0),c(!1),fe("clock"),null===t||void 0===t||t(),m.a.success("Clock Started!")}catch(e){c(!1),m.a.error("Failed to start clock")}},disabled:l,className:"start-button "+(o?"stop":""),children:[l?Object(x.jsx)(de.a,{size:24,style:{color:"#fff",marginRight:8}}):o?Object(x.jsx)(ue.a,{}):Object(x.jsx)(we.a,{}),l?"PLEASE WAIT...":o?"STOP CLOCK":"START CLOCK"]})]})};a(140);var nt=()=>Object(x.jsx)("div",{className:"widget-settings-page",children:Object(x.jsxs)("div",{className:"widget-content",children:[Object(x.jsx)(Le,{}),Object(x.jsx)(Be,{}),Object(x.jsx)(Ye,{}),Object(x.jsx)(et,{}),Object(x.jsx)(st,{})]})});a(141);var ot=()=>{const[e,t]=Object(s.useState)(null),[a,n]=Object(s.useState)(!0),[o,r]=Object(s.useState)(!1),[l,c]=Object(s.useState)(!1),i=async()=>{n(!0),r(!1);try{const e=await S();t(e)}catch(e){console.error(e),r(!0)}finally{n(!1)}};Object(s.useEffect)((()=>{i()}),[]);const d=e=>{c(!0),m.a.promise(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=`${O("")}/update${e?"?beta=true":""}`;return v.a.get(t).then((e=>e.data))}(e),{loading:e?"Pixelcade LCD Beta Update Started":"Pixelcade LCD Update Started",success:()=>"Please wait until you see the Update Complete message on your Pixelcade before doing anything else.",error:"Failed to start update"},{duration:1e4})},u=(null===e||void 0===e?void 0:e.betaFirmwareVersion)&&e.betaFirmwareVersion!==e.latestFirmwareVersion;return Object(x.jsx)("div",{className:"fade-in update-page",children:Object(x.jsxs)("div",{className:"update-container",children:[Object(x.jsx)("h1",{className:"update-title",children:"System Updates"}),a?Object(x.jsxs)("div",{className:"update-status checking",children:[Object(x.jsx)("div",{className:"spinner"}),Object(x.jsx)("p",{children:"Checking for updates..."})]}):o?Object(x.jsxs)("div",{className:"update-status usb-only",children:[Object(x.jsx)("div",{className:"usb-icon",children:"USB"}),Object(x.jsx)("h2",{children:"USB Connection Only"}),Object(x.jsx)("p",{children:"WiFi connectivity is required for updates."}),Object(x.jsx)("p",{className:"usb-instructions",children:"Since you are connected via USB only, you can still update by following these instructions:"}),Object(x.jsx)("a",{href:"https://pixelcade.org/lcdgen3/",target:"_blank",rel:"noopener noreferrer",className:"usb-link",children:"pixelcade.org/lcdgen3"})]}):e?Object(x.jsxs)(x.Fragment,{children:[e.updateAvailable?Object(x.jsxs)("div",{className:"update-status available",children:[Object(x.jsx)("div",{className:"update-badge",children:Object(x.jsx)("span",{className:"badge-icon",children:"!"})}),Object(x.jsx)("h2",{children:"Updates Available"}),Object(x.jsxs)("div",{className:"update-details",children:[e.firmwareUpdateAvailable&&Object(x.jsxs)("div",{className:"update-item",children:[Object(x.jsx)("span",{className:"update-label",children:"Firmware"}),Object(x.jsxs)("span",{className:"update-versions",children:[Object(x.jsx)("span",{className:"version-current",children:e.currentFirmwareVersion}),Object(x.jsx)("span",{className:"version-arrow",children:"\u2192"}),Object(x.jsx)("span",{className:"version-new",children:e.latestFirmwareVersion})]})]}),e.artworkUpdateAvailable&&Object(x.jsxs)("div",{className:"update-item",children:[Object(x.jsx)("span",{className:"update-label",children:"Artwork"}),Object(x.jsxs)("span",{className:"update-versions",children:[Object(x.jsxs)("span",{className:"version-current",children:["v",e.currentArtworkVersion]}),Object(x.jsx)("span",{className:"version-arrow",children:"\u2192"}),Object(x.jsxs)("span",{className:"version-new",children:["v",e.latestArtworkVersion]})]})]})]}),(e.releaseNotes||e.releaseDate)&&Object(x.jsxs)("div",{className:"release-notes",children:[Object(x.jsx)("h3",{children:"What's New"}),e.releaseDate&&Object(x.jsxs)("p",{className:"release-date",children:["Release Date: ",e.releaseDate]}),e.releaseNotes&&Object(x.jsx)("p",{className:"release-notes-text",children:e.releaseNotes})]}),Object(x.jsx)("div",{className:"update-actions",children:Object(x.jsx)(R.a,{variant:"contained",className:"install-button",onClick:()=>d(!1),disabled:l,style:{backgroundColor:"#4caf50",color:"#fff"},children:l?"Update Started...":"Install Update"})}),Object(x.jsx)("p",{className:"update-warning",children:"Updates can take up to 15 minutes or more depending on your Internet connection. Please wait until you see the Update Complete message on your Pixelcade."})]}):Object(x.jsxs)("div",{className:"update-status up-to-date",children:[Object(x.jsx)("div",{className:"checkmark",children:"\u2713"}),Object(x.jsx)("h2",{children:"You're Up to Date!"}),Object(x.jsx)("p",{children:"Your Pixelcade is running the latest stable version."})]}),u&&Object(x.jsxs)("div",{className:"beta-section",children:[Object(x.jsx)("h3",{children:"Beta Version Available"}),Object(x.jsxs)("div",{className:"beta-version-info",children:[Object(x.jsx)("span",{className:"beta-label",children:"Beta Firmware:"}),Object(x.jsx)("span",{className:"beta-version",children:e.betaFirmwareVersion})]}),Object(x.jsx)("p",{className:"beta-description",children:"Get access to pre-release versions with the latest features and improvements. Beta versions may contain bugs."}),Object(x.jsx)(R.a,{variant:"contained",className:"beta-button",onClick:()=>d(!0),disabled:l,children:l?"Update Started...":"Install Beta"})]}),Object(x.jsxs)("div",{className:"current-versions",children:[Object(x.jsx)("h3",{children:"Current Versions"}),Object(x.jsxs)("div",{className:"version-info",children:[Object(x.jsx)("span",{className:"version-label",children:"Firmware:"}),Object(x.jsx)("span",{className:"version-value",children:e.currentFirmwareVersion})]}),Object(x.jsxs)("div",{className:"version-info",children:[Object(x.jsx)("span",{className:"version-label",children:"Artwork:"}),Object(x.jsxs)("span",{className:"version-value",children:["v",e.currentArtworkVersion]})]})]})]}):Object(x.jsx)("div",{className:"update-status error",children:Object(x.jsx)("p",{children:"Unable to check for updates. Please check your network connection."})}),Object(x.jsx)("div",{className:"update-actions",style:{marginTop:"2rem"},children:Object(x.jsx)(R.a,{variant:"contained",color:"primary",onClick:i,disabled:a,children:a?"Checking...":"Check Again"})})]})})};const rt=n.a.createContext({}),lt=()=>n.a.useContext(rt);var ct=()=>{const[e,t]=Object(s.useState)(!1),a={streamImages:e,setStreamImages:t};return Object(x.jsx)(rt.Provider,{value:a,children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(E.a,{style:{zIndex:100},children:Object(x.jsx)(b,{})}),Object(x.jsxs)(c.c,{children:[Object(x.jsx)(c.a,{path:"/",element:Object(x.jsx)(X,{})}),",",Object(x.jsx)(c.a,{path:"/consoles",element:Object(x.jsx)(k,{})}),",",Object(x.jsx)(c.a,{path:"/marquees/:system",element:Object(x.jsx)(I,{})}),",",Object(x.jsx)(c.a,{path:"/default-marquee",element:Object(x.jsx)(te,{})}),",",Object(x.jsx)(c.a,{path:"/settings",element:Object(x.jsx)(ce,{})}),",",Object(x.jsx)(c.a,{path:"/text",element:Object(x.jsx)(ie,{})}),Object(x.jsx)(c.a,{path:"/widgets",element:Object(x.jsx)(ke,{})}),Object(x.jsx)(c.a,{path:"/widget-settings",element:Object(x.jsx)(nt,{})}),Object(x.jsx)(c.a,{path:"/update",element:Object(x.jsx)(ot,{})})]})]})})};var it=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,200)).then((t=>{let{getCLS:a,getFID:s,getFCP:n,getLCP:o,getTTFB:r}=t;a(e),s(e),n(e),o(e),r(e)}))};r.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(ct,{})}),document.getElementById("root")),it()}},[[142,1,2]]]);
//# sourceMappingURL=main.023e9e17.chunk.js.map